<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="hop() is similar to base R's seq(), but with some additional features, including
special sugar when used with humdrumR's context() command.
hop() is used to create customizable sequences of indices for a vector;
for example, if you want to index every third value from a vector.
This is useful for, as when used with context(), defining the start points of &quot;rolling-window&quot;
analyses along a vector; the &quot;hop size&quot; is the gap between the start of each window,
defined by hop()'s by argument."><title>Generate regular sequence "along" input — hop • humdrumR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Generate regular sequence " along input hop><meta property="og:description" content="hop() is similar to base R's seq(), but with some additional features, including
special sugar when used with humdrumR's context() command.
hop() is used to create customizable sequences of indices for a vector;
for example, if you want to index every third value from a vector.
This is useful for, as when used with context(), defining the start points of &quot;rolling-window&quot;
analyses along a vector; the &quot;hop size&quot; is the gap between the start of each window,
defined by hop()'s by argument."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    <a href="https://gatech.edu" class="external-link"><img src="gt-logo.svg" alt="Georgia Tech" style="height:50px; padding-right:20px;"></a> <a href="https://ccml.gtcmt.gatech.edu" class="external-link"><img src="CCMLbanner.png" alt="CCMLab" style="height:80px; padding-right:20px;"></a>
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/DataFields.html">HumdrumR Data Fields</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing humdrum data</a>
    <a class="dropdown-item" href="../articles/ComplexSyntax.html">Complex humdrum syntax</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your humdrum data</a>
    <a class="dropdown-item" href="../articles/Grouping.html">Grouping humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ccml.music.gatech.edu/humdrumR">GUI</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate regular sequence "along" input</h1>
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/R/Context.R" class="external-link"><code>R/Context.R</code></a></small>
      <div class="d-none name"><code>hop.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>hop()</code> is similar to base R's <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code>, but with some additional features, including
special sugar when used with humdrumR's <code><a href="context.html">context()</a></code> command.
<code>hop()</code> is used to create customizable sequences of indices for a vector;
for example, if you want to index every third value from a vector.
This is useful for, as when used with <code><a href="context.html">context()</a></code>, defining the start points of "rolling-window"
analyses along a vector; the "hop size" is the gap between the start of each window,
defined by <code>hop()</code>'s <code>by</code> argument.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hop</span><span class="op">(</span></span>
<span>  <span class="va">along.with</span>,</span>
<span>  by <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  from <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  value <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  logical <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  groupby <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>along.with</dt>
<dd><p><em><strong>The vector you want indices to "hop" along.</strong></em></p>
<p>Must be a vector (either atomic, or a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>).</p></dd>


<dt>by</dt>
<dd><p><em><strong>The pattern of "hops" to to use.</strong></em></p>
<p>Defaults to <code>1</code>: returning all indices <code>from:to</code>.</p>
<p>Must be one or more whole numbers.</p>
<p><code>sum(by)</code> must non-zero.</p></dd>


<dt>from</dt>
<dd><p><em><strong>Where to start the sequence.</strong></em></p>
<p>Defaults to <code>1</code>: starting from the first index.</p>
<p>Must be either a single natural number, a single <code>character</code> string, or
a <code>logical</code> vector the same length as <code>along.with</code>.</p>
<p>A <code>character</code>-string input is treated as a regular expression,
which is matched against <code>along.with</code> using <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> to generate a <code>logical</code> vector.
The index of the first <code>TRUE</code> is used.</p></dd>


<dt>to</dt>
<dd><p><em><strong>Where to end the sequence.</strong></em></p>
<p>Defaults to <code>NULL</code>.</p>
<p>Must be either <code>NULL</code>, a single natural number, a single <code>character</code> string, or
a <code>logical</code> vector the same length as <code>along.with</code>.</p>
<p>If <code>NULL</code>, <code>to</code> is set to the last index of <code>along.with</code> (or of each group in <code>groupby</code>).
A <code>character</code>-string input is treated as a regular expression,
which is matched against <code>along.with</code> using <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> to generate a <code>logical</code> vector.
The index of the last <code>TRUE</code> is used.</p></dd>


<dt>value</dt>
<dd><p><em><strong>Should indices be returned as logical <code>TRUE</code>s?</strong></em></p>
<p>Defaults to <code>FALSE</code>.</p>
<p>Must be a singleton <code>logical</code> value; an on/off switch.</p></dd>


<dt>groupby</dt>
<dd><p><em><strong>Optional vectors to group hop sequences within.</strong></em></p>
<p>Defaults to empty <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p>
<p>Must be a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>, which is either empty or contains vectors which are all the same length as <code>along.with</code>.
In calls to <a href="withinHumdrum.html">with/within.humdrumR</a>, <code>groupby</code> is passed <code>list(Piece, Spine, Path)</code> by default.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>By default, <code>hop()</code> returns an <code>integer</code> vector, appropriates indices for the <code>along.with</code> vector.
However, there are two other options:</p><ul><li><p>If <code>logical = TRUE</code>, the indices are returned as a logical vector, the same length as <code>along.with</code>,
with <code>TRUE</code> values indicating indices. Note that any ordering in the output (due to a mix of positive and negative
values in the <code>by</code> argument) is lost.</p></li>
<li><p>If <code>value = TRUE</code>, the actual indixed elements of the <code>along.with</code> vector are returned:
Thus, <code>hop(myvector, ..., value = TRUE)</code> is simply the same as <code>myvector[hop(myvector, ...)]</code>.
If <code>value = TRUE</code>, the <code>logical</code> argument is ignored.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>hop()</code> has similar arguments to <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">base::seq()</a></code>, but focused on the <code>along.with</code> argument,
a vector which you'd like to generate indices for.
If you simply call <code>hop(myvector)</code>, the output will be the same as <code>1:length(myvector)</code>.
The <code>by</code> argument can be used to specify a different "hop" pattern: <code>by = 2</code> will get you <em>every other</em>
index, <code>1</code>, <code>3</code>, <code>5</code>, <code>7</code>, etc.
Unlike <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">base::seq()</a></code>, <code>hop()</code>'s <code>by</code> argument can be a vector of numbers, allowing you to specify a pattern of hops.
For example, <code>by = c(2, 3)</code> will first hop <code>2</code>, then hop <code>3</code>, then repeat---so the output would be <code>1</code>, <code>3</code>, <code>6</code>, <code>8</code>, <code>11</code>, <code>13</code>, etc.</p>
<p>The by pattern can be comprised of negative numbers, or a mix of negative and positive numbers.
If <code>by</code> mixes negative and positive numbers, the pattern can hop up and down, as it climbs.
For example, you could go up two, then down one, then repeat using <code>by = c(2,-1)</code>.
If the pattern is <em>overall</em> (sums) negative, the <code>from</code> argument must be greater than the <code>to</code> argument (see next section);
if the pattern sums to zero, an error occurs because the pattern would never end!
If a pattern changes directions, it is possible for pattern to hop outside the bounds of the vector;
if this happens, the outside indices return <code>NA</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="starting-and-ending">Starting and Ending<a class="anchor" aria-label="anchor" href="#starting-and-ending"></a></h2>
    


<p>By default, <code>hop()</code> builds indices from <code>1</code> to the end of the <code>along.with</code> vector.
The <code>from</code> and <code>to</code> arguments can be used to control this.
Either argument can simply be a natural number, indicating where to start and end the output sequences.
(If <code>to</code> is <code>NULL</code>, it is set to <code>length(along.with)</code>.)
An alternate approach is to provide either argument a single <code>character</code> string, which is treated as a regular
expression and matched against <code>along.with</code>, or  a <code>logical</code> vector the same length as <code>along.with</code>.
The first match/<code>TRUE</code> is used for the <code>from</code> index and the last match/<code>TRUE</code> for the <code>to</code> index.
This means you can say things like <code>from = Record == 33</code> in a <a href="withinHumdrum.html">within()</a> call.</p>
<p>If the <code>by</code> argument is <em>overall</em> (sums) positive, <code>from</code> must be less than <code>to</code>.
If the <code>by</code> argument is <em>overall</em> (sums) negative, <code>from</code> must be greater than <code>to</code>.</p>
<p>If the <code>by</code> pattern doesn't ever actually the actual <code>to</code> index---perhaps jumping over it---
the output stops when it would <em>pass</em> the <code>to</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="grouping">Grouping<a class="anchor" aria-label="anchor" href="#grouping"></a></h2>
    


<p>In many cases we want to how along vectors, but <em>not across certain boundaries</em>.
For example, if we want all even numbered indices, we can set <code>by = 2</code> and <code>from = 2</code>.
However, if your vector includes data from multiple pieces, and some of the pieces have an odd number of data points,
our "even" sequence would end up hitting odd numbers in some pieces.
To get around this, the <code>groupby</code> argument indicates one, or more, grouping vectors, which break the <code>x</code> (input) argument
into groups.
If more than <code>groupby</code> vectors are given, a change in <em>any</em> vector indicates a boundary.
Each grouped segement of <code>along.with</code> is treated just like a separate call to <code>hop()</code>;
for example, if <code>from = 2</code>, the hop sequence will start on the second index of <em>each</em> group.
However, the output indices still represent the original <code>along.with</code> indices.</p>
<p>Since <code>hop()</code> is usually used with <code><a href="context.html">context()</a></code> to create rolling windows within musical parts,
we want typically want to apply <code>hop()</code> using <code>groupby = list(Piece, Spine, Path)</code>.
In fact, <code>humdrumR</code> <a href="withinHumdrum.html">with(in)</a> calls will <em>automatically</em> feed these
three fields as <code>groupby</code> arguments to <code>hop()</code>.
So any use of <code>hop()</code> in a call to <a href="withinHumdrum.html">with(in)</a>, will automatically generate the hop sequence
in a "melodic" way, within each spine path of each piece.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># use the built-in 'letters' vector</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hop</span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 26</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hop</span><span class="op">(</span><span class="va">letters</span>, by <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  4  7 10 13 16 19 22 25</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hop</span><span class="op">(</span><span class="va">letters</span>, by <span class="op">=</span> <span class="fl">2</span>, from <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  4  6  8 10 12 14 16 18 20 22 24 26</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hop</span><span class="op">(</span><span class="va">letters</span>, by <span class="op">=</span> <span class="fl">2</span>, from <span class="op">=</span> <span class="st">'e'</span>, to <span class="op">=</span> <span class="st">'x'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  5  7  9 11 13 15 17 19 21 23</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hop</span><span class="op">(</span><span class="va">letters</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, from <span class="op">=</span> <span class="st">'e'</span>, to <span class="op">=</span> <span class="st">'w'</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "e" "d" "f" "e" "g" "f" "h" "g" "i" "h" "j" "i" "k" "j" "l" "k" "m" "l" "n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] "m" "o" "n" "p" "o" "q" "p" "r" "q" "s" "r" "t" "s" "u" "t" "v" "u" "w"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hop</span><span class="op">(</span><span class="va">letters</span>, by <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, from <span class="op">=</span> <span class="st">'z'</span>, to <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9  8  7  6  5  4  3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

