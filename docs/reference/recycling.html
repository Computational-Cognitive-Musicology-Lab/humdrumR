<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='What are "recycling" or "padding"?'><title>What are "recycling" or "padding"? — recycling • humdrumR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="What are " recycling or><meta property="og:description" content='What are "recycling" or "padding"?'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    <a href="https://gatech.edu" class="external-link"><img src="gt-logo.svg" alt="Georgia Tech" style="height:50px; padding-right:20px;"></a> <a href="https://ccml.gtcmt.gatech.edu" class="external-link"><img src="CCMLbanner.png" alt="CCMLab" style="height:80px; padding-right:20px;"></a>
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/DataFields.html">HumdrumR Data Fields</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing humdrum data</a>
    <a class="dropdown-item" href="../articles/ComplexSyntax.html">Complex humdrum syntax</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your humdrum data</a>
    <a class="dropdown-item" href="../articles/Grouping.html">Grouping humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ccml.music.gatech.edu/humdrumR">GUI</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>What are "recycling" or "padding"?</h1>
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/R/humdrumR-package.R" class="external-link"><code>R/humdrumR-package.R</code></a></small>
      <div class="d-none name"><code>recycling.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>What are "recycling" or "padding"?</p>
    </div>


    <div class="section level2">
    <h2 id="recycling-and-padding-results">Recycling and Padding results<a class="anchor" aria-label="anchor" href="#recycling-and-padding-results"></a></h2>
    


<p>Many R functions will "recycle" their results; other functions will "pad" their results.
What does this mean?
The two options refer to different strategies R code often provides to
maintain <a href="vectorization.html">vectorization</a>.
The key idea of vectorization is that we want the length/size of function inputs and outputs to be the same.
If I give a 100-long vector to a function as input, I want a 100-long vector as output.</p><div class="section">
<h3 id="result-is-too-short-pad-or-recycle-">Result is too short (pad or recycle)<a class="anchor" aria-label="anchor" href="#result-is-too-short-pad-or-recycle-"></a></h3>


<p>What happens if I have a that outputs a result that is <em>shorter</em> than the input, but I <strong>need</strong>
it to be the same length?
Well, one option is to "pad" the output with <code>NA</code> values.
For example, if I call <code>mean(1:9)</code>, my 9-long input results in a scalar (1-long) output (<code>5</code>).
To force the output to be 9-long (to match the input), I could pad it with <code>NA</code> like <code>c(5, NA, NA, NA, NA, NA, NA, NA, NA)</code>.</p>
<p>In many cases, padding a result like <code>mean(1:9)</code> is not very useful---the useful information (the mean, in this case)
is stuck at only one index!
Instead, it is more useful to "recycle" the result.
What we do is take the result and duplicate it ("recycle") over and over again until it matches the length of the
input.
So we'd recycle the result of <code>mean(1:9)</code> to be <code>c(5, 5, 5, 5, 5, 5, 5, 5, 5)</code>.
This is often (but not always) very useful!</p>
<p>The most common (and best) case for recycling is, like our example above, when the result we recycle is a "scalar" (single)
value.
That one value is simply copied <code>length(input)</code> times.
We can also recycle results that are non-scalar.
For example, imagine we have a function <code>summ()</code> which calculates the minimum, median, and maximum of a vector:
the call <code>summ(1:9)</code> would return <code>c(1, 5, 9)</code>.
This result could be recycled to get <code>c(1, 5, 9, 1, 5, 9, 1, 5, 9)</code>.
This sort of recycling is less likely to be useful, and can be confusing sometimes---for example, there is
probably no meaningful reason why the median should line up with the original input values <code>c(2, 5, 8)</code>.
However, R will (generally) happily do it for you!
It is good practice to <em>only</em> rely on scalar recycling, and avoid non-scalar recycling unless you are really
sure it is what you want.</p>
<p>One final note: if the result you are recycling isn't a length which evenly divides the input, you will see an <em>warning</em> message
saying <code>longer object length is not a multiple of shorter object length</code>.
To give an example, image if we used the <code><a href="https://rdrr.io/r/base/range.html" class="external-link">range()</a></code> function, which returns the minimum and the maximum but not the median, on our input:
the result of <code>range(1:9)</code> is <code>c(1, 9)</code>, and this would recycle as <code>c(1, 9, 1, 9, 1, 9, 1, 9, 1)</code>.
The last repetition of the result is cut short, because two does not evenly divide nine.
Since non-scalar recycling of results is often not useful or meaningful in <em>general</em>, R takes it
as a particularly bad sign that your result does not evenly divide your input, which is why you get a warning.</p>
</div>

<div class="section">
<h3 id="result-is-too-long-index-">Result is too long (index)<a class="anchor" aria-label="anchor" href="#result-is-too-long-index-"></a></h3>


<p>What happens if I have a function that outputs a result that is <em>longer</em> than the input, but I <strong>need</strong>
it to be the same length?
Well, the most obvious thing to do is cut off the excess---so something like <code>head(output, n = length(input)</code>.
Of course, that may or may not make sense depending
on what the function is doing!</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other R lessons.: 
<code><a href="evaluatingExpressions.html">evaluatingExpressions</a></code>,
<code><a href="groupingFactors.html">groupingFactors</a></code>,
<code><a href="partialMatching.html">partialMatching</a></code>,
<code><a href="vectorization.html">vectorization</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

