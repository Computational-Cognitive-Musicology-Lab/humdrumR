<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Assigning new fields — humAssignment • humdrumR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Assigning new fields — humAssignment" />
<meta property="og:description" content="R objects often have ways of assigning new values to
part of the object using indexing operators.
HumdrumR objects objects are no different, as they allow us to insert
new fields into them!" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">humdrumR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    </li>
    <li>
      <a href="../articles/HumdrumSyntax.html">The Humdrum Syntax</a>
    </li>
    <li>
      <a href="../articles/Intervals.html">Rhythm and Pitch Intervals</a>
    </li>
    <li>
      <a href="../articles/IntroForCoders.html">HumdrumR for Coders</a>
    </li>
    <li>
      <a href="../articles/KeysAndChord.html">Diatonic and Tertian Sets in humdrumR</a>
    </li>
    <li>
      <a href="../articles/Overview.html">Overview of humdrumR</a>
    </li>
    <li>
      <a href="../articles/PitchAndTonality.html">Pitch and Tonality in humdrumR</a>
    </li>
    <li>
      <a href="../articles/ReadWrite.html">Reading and writing data with humdrumR</a>
    </li>
    <li>
      <a href="../articles/RhythmAndMeter.html">Rhythm and Meter in humdrumR</a>
    </li>
    <li>
      <a href="../articles/Validation.html">Validating Humdrum Data</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Assigning new fields</h1>
    <small class="dont-index">Source: <a href='https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/master/R/humdrumR-class.R'><code>R/humdrumR-class.R</code></a></small>
    <div class="hidden name"><code>humAssignment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>R objects often have ways of assigning new values to
<em>part</em> of the object using <a href='https://rdrr.io/r/base/Extract.html'>indexing operators</a>.
HumdrumR objects objects are no different, as they allow us to insert
new fields into them!</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A new field can be inserted into a <code>humdrumR</code> object in two ways:</p><ol>
<li><p>A field can be copied from one humdrumR object to another if their
internal <a href='humTable.html'>humdrum tables</a> have the exact same number of data tokens (i.e., rows).
It might not seem obvious, but this mechanism is very useful because it can be used to <em>rename</em> existing fields
within a humdrumR object (explained below).</p></li>
<li><p>A <a href='https://rdrr.io/r/base/vector.html'>vector</a> or <a href='https://rdrr.io/r/base/list.html'>list of vectors</a> can be inserted as
new fields in a humdrumR object.</p></li>
</ol>

<p>Fields can be assigned using two syntaxes:</p><pre><span class='va'>humdata</span><span class='op'>[</span><span class='st'>'fieldname'</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>x</span>
<span class='co'># or</span>
<span class='va'>humdata</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'fieldname1'</span>, <span class='st'>'fieldname2'</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>x</span>
</pre>

<p>or</p><pre><span class='va'>humdata</span><span class='op'>$</span><span class='va'>fieldname</span> <span class='op'>&lt;-</span> <span class='va'>x</span>
</pre>

<p>where "fieldname" can be whatever you want it to be, of course!</p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a><code>humdrumR -&gt; humdrumR</code> assignment:</h3>


<p>Assigning a field from one humdrumR object
to another works like this:
(Recall that the two objects must have the exact same numbers of data tokens.)
The name(s) given in the indexing expression on the left side of the assignment (i.e., <code>humdata[c('name1', 'name2')]</code> or
<code>humdata$name</code>) are used as new field names.
How fields are extracted from the right side of the assignment is a little trickier:
Any fields in the right-side <code>humdrumR</code> object which are named $PipeN$ (where $N$ is an integer) are copied
in descending order into the named fields on the left side.
If there are no $PipeN$ fields on the right side, any fields used in the current Active formula (on the right side)
are copied instead.
This system might seem odd at first, but it is very useful in combination with the <a href='with-in-Humdrum.html'>withinHumdrum</a> function,
or its convenient pipe operator <a href='humPipe.html'>%hum&gt;%</a>
When <code>withinHumdrum</code> creates new fields, it calls them $Pipe1 ... Pipe2 ... PipeN$.
Since the output of <code>withinHumdrum</code> is always the same as the input except with these new "Pipe" fields,
Byou can use <code>humdrumR &lt;- humdrumR</code> assignment to immediately assign these pipe fields more meaningful names in the original object.
This makes the most sense with an example:</p><pre><span class='va'>humdata</span><span class='op'>$</span><span class='va'>Semits</span> <span class='op'>&lt;-</span> <span class='va'>humdata</span> <span class='op'>%hum&gt;%</span> <span class='op'>~</span><span class='fu'>semit</span><span class='op'>(</span><span class='va'>Token</span><span class='op'>)</span> 
</pre>

<p>In humdrumR, we actually favor the left-to-right "piping" style.
Luckily, R allows you to assign left-to-right, so the proper humdrumR style is actually:</p><pre><span class='va'>humdata</span> <span class='op'>%hum&gt;%</span> <span class='op'>~</span><span class='fu'>semit</span><span class='op'>(</span><span class='va'>Token</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>humdata</span><span class='op'>$</span><span class='va'>Semits</span>
</pre>

<p>Calls to <code>withinHumdrum</code> (or <code>%hum&gt;%</code>) keep producing new pipe fields.
If there are more than one pipe fields, you can assign multiple fields at once using the <code>[]&lt;-</code> syntax:</p><pre>
<span class='va'>humdata</span> <span class='op'>%hum&gt;%</span> <span class='op'>~</span><span class='fu'>semit</span><span class='op'>(</span><span class='va'>Token</span><span class='op'>)</span> <span class='op'>%hum&gt;%</span> <span class='op'>~</span><span class='fu'>pitch</span><span class='op'>(</span><span class='va'>Token</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>humdata</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'semit'</span>, <span class='st'>'pitch'</span><span class='op'>)</span><span class='op'>]</span>

</pre>

<p>#' <strong>IMPORTANT NOTE!</strong>: Any "PipeN" fields in the humdrumR object you assign from
that you don't assign field names are simply dropped.
This is nice, because often you might proceed through a serious of piped steps, but you only
want the last one (or two).
If you want to keep all your pipe fields either don't re-assign them at all (i.e., keep the "PipeN" names)
or assign them all names using the <code>-&gt;[c("name1", "name2", "name3", ...)]</code> syntax.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a><code>humdrumR -&gt; vector</code> assignment:</h3>


<p>You can assign vectors or lists of vectors straight into a humdrumR object.
All vectors must be the same length as the number of data tokens
in the target object.
If you provide multiple vectors to assign (as a <code>list</code> or <code>data.frame</code> of vectors)
you must provide the same number of fieldnames using the <code>-&gt;[c('name1', 'name2', ...)]</code> syntax.
You can use the <code>ntokens</code> command to determine the right length of vectors you need!</p>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://fathermckenzie.net/'>Nathaniel Condit-Schultz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


