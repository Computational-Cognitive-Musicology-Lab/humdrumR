<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="R objects often have ways of assigning new values to
part of the object using indexing operators.
HumdrumR objects objects are no different, as they allow us to insert
new fields into them!"><title>Assigning new fields — humAssignment • humdrumR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Assigning new fields — humAssignment"><meta property="og:description" content="R objects often have ways of assigning new values to
part of the object using indexing operators.
HumdrumR objects objects are no different, as they allow us to insert
new fields into them!"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/Overview.html">Overview of humdrumR</a>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/IntroForCoders.html">HumdrumR for Coders</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Humdrum background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The Humdrum Syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R Primer for humdrumR</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing data</a>
    <a class="dropdown-item" href="../articles/Validation.html">Validating Humdrum Data</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping Humdrum Data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering Humdrum Data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Summarizing humdrum data sets</a>
    <a class="dropdown-item" href="../articles/WorkingWithData.html">Working with Humdrum Data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and Tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Rhythm and Meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and Tertian Sets in humdrumR</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Assigning new fields</h1>
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/R/humdrumR-class.R"><code>R/humdrumR-class.R</code></a></small>
      <div class="d-none name"><code>humAssignment.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>R objects often have ways of assigning new values to
<em>part</em> of the object using <a href="https://rdrr.io/r/base/Extract.html" class="external-link">indexing operators</a>.
HumdrumR objects objects are no different, as they allow us to insert
new fields into them!</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A new field can be inserted into a <code>humdrumR</code> object in two ways:</p><ol><li><p>A field can be copied from one humdrumR object to another if their
internal <a href="humTable.html">humdrum tables</a> have the exact same number of data tokens (i.e., rows).
It might not seem obvious, but this mechanism is very useful because it can be used to <em>rename</em> existing fields
within a humdrumR object (explained below).</p></li>
<li><p>A <a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a> or <a href="https://rdrr.io/r/base/list.html" class="external-link">list of vectors</a> can be inserted as
new fields in a humdrumR object.</p></li>
</ol><p>Fields can be assigned using two syntaxes:</p><div class="sourceCode"><pre><code><span class="va">humdata</span><span class="op">[</span><span class="st">'fieldname'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span>
<span class="co"># or</span>
<span class="va">humdata</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'fieldname1'</span>, <span class="st">'fieldname2'</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span></code></pre></div>

<p>or</p><div class="sourceCode"><pre><code><span class="va">humdata</span><span class="op">$</span><span class="va">fieldname</span> <span class="op">&lt;-</span> <span class="va">x</span></code></pre></div>

<p>where "fieldname" can be whatever you want it to be, of course!</p><div class="section">
<h3 id="humdrumr-gt-humdrumr-assignment-"><code>humdrumR -&gt; humdrumR</code> assignment:<a class="anchor" aria-label="anchor" href="#humdrumr-gt-humdrumr-assignment-"></a></h3>


<p>Assigning a field from one humdrumR object
to another works like this:
(Recall that the two objects must have the exact same numbers of data tokens.)
The name(s) given in the indexing expression on the left side of the assignment (i.e., <code>humdata[c('name1', 'name2')]</code> or
<code>humdata$name</code>) are used as new field names.
How fields are extracted from the right side of the assignment is a little trickier:
Any fields in the right-side <code>humdrumR</code> object which are named $ResultN$ (where $N$ is an integer) are copied
in descending order into the named fields on the left side.
If there are no $ResultN$ fields on the right side, any fields used in the current Active formula (on the right side)
are copied instead.
This system might seem odd at first, but it is very useful in combination with the <a href="withinHumdrum.html">withinHumdrum</a> function.
When <code>withinHumdrum</code> creates new fields, it calls them $Result1 ... Result2 ... ResultN$.
Since the output of <code>withinHumdrum</code> is always the same as the input except with these new "Result" fields,
Byou can use <code>humdrumR &lt;- humdrumR</code> assignment to immediately assign these result fields more meaningful names in the original object.
This makes the most sense with an example:</p><div class="sourceCode"><pre><code><span class="va">humdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">humdata</span>, <span class="va">Semits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/semits.html">semits</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span><span class="op">)</span></code></pre></div>

<p>Calls to <code><a href="withinHumdrum.html">within.humdrumR()</a></code>  keep producing new result fields.
If there are more than one result fields, you can assign multiple fields at once using the <code>[]&lt;-</code> syntax:</p>
<p>#' <strong>IMPORTANT NOTE!</strong>: Any "ResultN" fields in the humdrumR object you assign from
that you don't assign field names are simply dropped.
This is nice, because often you might proceed through a serious of resultd steps, but you only
want the last one (or two).
If you want to keep all your result fields either don't re-assign them at all (i.e., keep the "ResultN" names)
or assign them all names using the <code>-&gt;[c("name1", "name2", "name3", ...)]</code> syntax.</p>
</div>

<div class="section">
<h3 id="humdrumr-gt-vector-assignment-"><code>humdrumR -&gt; vector</code> assignment:<a class="anchor" aria-label="anchor" href="#humdrumr-gt-vector-assignment-"></a></h3>


<p>You can assign vectors or lists of vectors straight into a humdrumR object.
All vectors must be the same length as the number of data tokens
in the target object.
If you provide multiple vectors to assign (as a <code>list</code> or <code>data.frame</code> of vectors)
you must provide the same number of fieldnames using the <code>-&gt;[c('name1', 'name2', ...)]</code> syntax.
You can use the <code>ntokens</code> command to determine the right length of vectors you need!</p>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://fathermckenzie.net/" class="external-link">Nathaniel
Condit-Schultz</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

