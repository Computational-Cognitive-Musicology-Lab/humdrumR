<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function transposes pitches or keys
by various intervals or to target keys.
Inside the box, inputs and transpositions take place as tonalIntervals or diatonicSets,
but any numeric or character string representation of pitches can be transposed as well.
This function is incorporated directly into tonalTransform, and thence, all pitch translation
functions, so you probably won't call it directly very often."><title>Transpose pitches and keys — transpose • humdrumR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transpose pitches and keys — transpose"><meta property="og:description" content="This function transposes pitches or keys
by various intervals or to target keys.
Inside the box, inputs and transpositions take place as tonalIntervals or diatonicSets,
but any numeric or character string representation of pitches can be transposed as well.
This function is incorporated directly into tonalTransform, and thence, all pitch translation
functions, so you probably won't call it directly very often."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/IntroForCoders.html">HumdrumR for coders</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Humdrum background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing data</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your data</a>
    <a class="dropdown-item" href="../articles/WorkingWithData.html">Working with humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Rhythm and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Transpose pitches and keys</h1>
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/R/Pitch.R"><code>R/Pitch.R</code></a></small>
      <div class="d-none name"><code>transpose.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function transposes pitches or keys
by various intervals or to target keys.
Inside the box, inputs and transpositions take place as <code>tonalInterval</code>s or <code>diatonicSet</code>s,
but any numeric or character string representation of pitches can be transposed as well.
This function is incorporated directly into tonalTransform, and thence, all pitch translation
functions, so you probably won't call it directly very often.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">transpose</span><span class="op">(</span><span class="va">x</span>, <span class="va">by</span>, <span class="va">Key</span>, <span class="va">to</span>, <span class="va">real</span>, <span class="va">relative</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>The input pitch(es) to transpose. A <code>tonalInterval</code> or something intepretable as a <code>tonalInterval</code>.</p></dd>
<dt>by</dt>
<dd><p>A <code>tonalInterval</code> or something intepretable as a <code>tonalInterval</code>.
The input <code>x</code> is transposed by this interval.</p></dd>
<dt>Key</dt>
<dd><p>A <code>diatonicSet</code> or something intepretable as a <code>diatonicSet</code>. For tonal and/or to transpositions,
this is the "from" key. If this value is <code>NULL</code>, it defaults to C major.</p></dd>
<dt>to</dt>
<dd><p>A <code>diatonicSet</code> or something intepretable as a <code>diatonicSet</code>. The input <code>x</code> is transposed
to this key.</p></dd>
<dt>real</dt>
<dd><p>A logical. If <code>TRUE</code> (the default), transposition is real. If <code>FALSE</code>, transposition is tonal.</p></dd>
<dt>relative</dt>
<dd><p>A logical. If <code>TRUE</code> transposition is relative. If <code>FALSE</code> (the default), transposition is parallel.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are two distinct types of transposition (real and tonal).
There are also two different approaches to <em>specifying</em> transpositions: "to" and "by".
"To" transpositions can also be either <em>parallel</em> or <em>relative</em>.</p>
    </div>
    <div class="section level2">
    <h2 id="types-of-transposition">Types of Transposition<a class="anchor" aria-label="anchor" href="#types-of-transposition"></a></h2>
    <p>There are two different types of transposition: <strong>real</strong> transposition and <strong>tonal</strong> transposition.
In <em>real</em> transposition, all inputs are transposed by the same <em>specific</em> interval.
For example, the pitches <code>{C D E F G}</code> could be transposed up a major second to <code>{C D E F# G}</code>.
In <em>tonal</em> transposition, inputs are transposed by <em>generic</em> intervals, within a key.
For example, the sequence <code>{C D E F G}</code>, in the key of C major, could be translated up a generic second
to <code>{D E F G A}</code>.</p>
<p>To choose between real and tonal transposition, use the <code>real</code> argument:
<code>real = TRUE</code> for real transposition, <code>real = FALSE</code> for tonal transposition.</p><div class="section">
<h3 id="alterations">Alterations<a class="anchor" aria-label="anchor" href="#alterations"></a></h3>


<p>Tonal transposition is complicated by the presence of any alterations in the input pitches.
For instance, if we are given the pitches <code>{C F# G D# E}`` in the key of C major, how should they by tonally transposed up a second, within C major? There is not one obvious, correct answer answer, which can be easily identified. The algorithm implemented by </code>humdrumR` is as follows:</p><ol><li><p>Alterations/accidentals in the input are identified. (In this case, F# and D#).</p></li>
<li><p>The generic pitches are transposed within the key, resulting in <code>{D G A E F}</code>.</p></li>
<li><p>Alterations in the input are added to the output <em>unless</em> the resulting pitches are interpreted as a comma
by a call to tintPartion, with a given enharmonic wrap value (the default is <code>12</code>).
In this example, adding the first accidental results in <code>{G#}</code> which is not a comma.
However, the second accidental results in <code>{E#}</code> which <em>is</em> a comma away from the natural <code>{F}</code>.
Thus, this accidental is not added to the output, resulting in <code>{E}</code>, not <code>{E#}</code>.
The resulting output is <code>{D G# A E F}</code>.</p></li>
</ol><p>The size of <code>enharmonicWrap</code> effectively determines how extreme accidentals are allowed.
The default value, <code>12</code>, assures that no output notes are enharmonically equivalent to notes in the key.
To further illustrate, here is the sequence <code>{C F# G D# E, B- A A- G C# D, B D- C}</code> transposed
tonally within C major by all seven possible generic intervals, with <code>enharmonicWrap = 12</code>:</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="specifying-transpositions">Specifying Transpositions<a class="anchor" aria-label="anchor" href="#specifying-transpositions"></a></h2>
    <p>There are two approaches to specifying transpositions, the <code>by</code> and <code>to</code> arguments.
The <code>by</code> argument must be an interval, and the input is translated by that interval.
If the <code>by</code> interval is specific but <code>real = FALSE</code>, the input is treated as a generic interval,
and tranposition takes place within the key indicated by the <code>Key</code> argument.</p>
<p>The <code>to</code> argument translates an input <em>to</em> a desired key.
For example, if the input is in the key of E major but we want it transposed to G major, we could say <code>to = '*E:'</code>.
If <code>real = TRUE</code>, input is simply translated to the root of the <code>to</code> key, with all the exact same intervals.
If <code>real = FALSE</code>, the input is translated to the root of the new key, with its intervals changed to match the new key as well.
In either case, the result depends on what the input's key is, which is indicated by the standard <code>Key</code> argument.
The <code>Key</code> arguments is like the "from" key.
If <code>Key = NULL</code>, the input key is interpreted as C major.</p>
<p>Consider the input notes <code>{D B C A# B, D C# D E D}</code> in the key of the G major.
If we specify <code>to = e:, real = TRUE</code>, the output will be <code>{B G# A F## G#, B A# B C# B}</code>.
(Notice that even though the <code>to</code> key is minor, the output is still clearly in E major).
If we specify <code>to = e:, real = FALSE</code>, the output will instead be <code>{B G A F# G, B A# B C B}</code>.</p>
<p>Building off the previous example, consider how the input <em>key</em> matters as well.
If we use the same input notes (<code>{D B C A# B, D C# D E D}</code>) but the input <code>Key</code> is C major, then:
If we specify <code>to = e:, real = TRUE</code>, the output will be <code>{F# D# E C## D#, F# E# F# G# F#}</code>.
If we specify <code>to = e:, real = FALSE</code>, the output will instead be <code>{F# D E C# D, F# E F# G F#}</code>.</p>
<p>If <em>both</em> <code>by</code> and <code>to</code> are specified, the <code>to</code> transposition is applied first, followed by the <code>by</code> transposition.
If <code>real = FALSE</code>, the <code>by</code> transposition happens within the <code>to</code> key, not the <code>Key</code> key.</p><div class="section">
<h3 id="relative-vs-parallel">Relative vs Parallel<a class="anchor" aria-label="anchor" href="#relative-vs-parallel"></a></h3>


<p>When transposing to, we have diferent approaches about to determining the relationship between the
"from" key (<code>Key</code> argument) and the "to" key (<code>to</code> argument).
If we think of "parallel" relationships between keys, we match the roots of the keys regardless of modes.
For instance, C major and C minor are parallel keys.
If we instead think of "relative" relationships between keys, we match the modes of the keys, not the roots.
For instance, C major and A minor are relative keys.
This is similar to the distinction between "la-based minor" solfege (relative) vs "fixed-do" solfege (parallel).</p>
<p>When transposing using a <code>to</code> argument, if <code>relative = FALSE</code> the input key (<code>Key</code> argument) is transposed to match the <em>root</em>
of the <code>to</code> argument.
For example, if the input key is G minor and the <code>to`` key is C major, the output is transposed to G minor. However, if </code>relative = TRUE<code>the input key is transposed to match the mode of the</code>to<code>key: A G minor input with a C major</code>to<code>would be translated to A minor, the parallel minor of the</code>to<code>key. If the</code>Key<code>(from key) and</code>to` (to key) arguments have the same mode, the parallel and relative transpositions
are the same.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="special-operators-">Special Operators +-<a class="anchor" aria-label="anchor" href="#special-operators-"></a></h2>
    <p>As a note, real transposition <code>by</code> and interval can be achieved more concisely using the <code>+</code> and <code>-</code> operators,
as long as at least one side of the operators is an actual <code>tonalInterval</code> object.
<code>humdrumR</code> preassigns all common tonalIntervals to objects in your global environment.
Thus, you can type commands like <code>"c#" + M2</code> to get <code>d#</code>, or <code>c("C4", "E4", "C5") - m6</code> to get <code>"E3" "G#3" "E4"</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other tonal transformations: 
<code><a href="invert.html">invert</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

