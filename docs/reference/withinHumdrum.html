<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='These functions are the primary means of working with
humdrumR data.
They allow us to perform arbitrary (free form) manipulation of data fields
held within a humdrumR data object, with convenient functionality
for ignoring null data, lagging data, grouping data,
windowing, and more.
The with() and within() functions, which come from base R, are the core functions.
However, the dplyr "verbs" mutate(), summarize(), and reframe() can be used as well---they
are equivalent to using with()/within() with particular arguments.'><title>Working with humdrum data fields — withinHumdrum • humdrumR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Working with humdrum data fields — withinHumdrum"><meta property="og:description" content='These functions are the primary means of working with
humdrumR data.
They allow us to perform arbitrary (free form) manipulation of data fields
held within a humdrumR data object, with convenient functionality
for ignoring null data, lagging data, grouping data,
windowing, and more.
The with() and within() functions, which come from base R, are the core functions.
However, the dplyr "verbs" mutate(), summarize(), and reframe() can be used as well---they
are equivalent to using with()/within() with particular arguments.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    <a href="https://gatech.edu" class="external-link"><img src="gt-logo.svg" alt="Georgia Tech" style="height:50px; padding-right:20px;"></a> <a href="https://ccml.gtcmt.gatech.edu" class="external-link"><img src="CCMLbanner.png" alt="CCMLab" style="height:80px; padding-right:20px;"></a>
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/DataFields.html">HumdrumR Data Fields</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing humdrum data</a>
    <a class="dropdown-item" href="../articles/ComplexSyntax.html">Complex humdrum syntax</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your humdrum data</a>
    <a class="dropdown-item" href="../articles/Grouping.html">Grouping humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ccml.music.gatech.edu/humdrumR">GUI</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Working <em>with</em> humdrum data fields</h1>
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/R/Within.R" class="external-link"><code>R/Within.R</code></a></small>
      <div class="d-none name"><code>withinHumdrum.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions are the primary means of working with
humdrumR data.
They allow us to perform arbitrary (free form) manipulation of data <a href="humTable.html">fields</a>
held within a <a href="humdrumRclass.html">humdrumR data object</a>, with convenient functionality
for ignoring null data, <a href="lag.html">lagging</a> data, <a href="groupHumdrum.html">grouping</a> data,
<a href="context.html">windowing</a>, and more.
The <code>with()</code> and <code>within()</code> functions, which come from <a href="https://rdrr.io/r/base/base-package.html" class="external-link">base R</a>, are the core functions.
However, the dplyr "verbs" <code>mutate()</code>, <code>summarize()</code>, and <code>reframe()</code> can be used as well---they
are equivalent to using <code>with()</code>/<code>within()</code> with particular arguments.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for humdrumR</span></span>
<span><span class="fu">with</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  dataTypes <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  recycle <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  alignLeft <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  expandPaths <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  drop <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for humdrumR</span></span>
<span><span class="fu">within</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  dataTypes <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  alignLeft <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  expandPaths <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  recycle <span class="op">=</span> <span class="st">"pad"</span>,</span>
<span>  .by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for humdrumR</span></span>
<span><span class="fu">mutate</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  dataTypes <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  recycle <span class="op">=</span> <span class="st">"ifscalar"</span>,</span>
<span>  alignLeft <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  expandPaths <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .by <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for humdrumR</span></span>
<span><span class="fu">summarise</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  dataTypes <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  expandPaths <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  drop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .by <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for humdrumR</span></span>
<span><span class="fu">reframe</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  dataTypes <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  alignLeft <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  expandPaths <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  recycle <span class="op">=</span> <span class="st">"pad"</span>,</span>
<span>  .by <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for humdrumR</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NULL</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span>, dataTypes <span class="op">=</span> <span class="st">"D"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p><em><strong>HumdrumR data.</strong></em></p>
<p>Must be a <a href="humdrumRclass.html">humdrumR data object</a>.</p></dd>


<dt>...</dt>
<dd><p><em><strong>Any number of expressions to evaluate.</strong></em></p>
<p>These expressions can reference <code><a href="humTable.html">fields()</a></code> in the data by name,
as well as variables outside the data.</p>
<p>If the expressions are named, the names are used to name the new fields
(or column names for <code>with(..., drop = FALSE)</code>.</p></dd>


<dt>dataTypes</dt>
<dd><p><em><strong>Which types of humdrum records to include.</strong></em></p>
<p>Defaults to <code>"D"</code>.</p>
<p>Must be a single <code>character</code> string. Legal values are <code>'G', 'L', 'I', 'M', 'D', 'd'</code>
or any combination of these (e.g., <code>"LIM"</code>).
(See the <a href="humTable.html">humdrum table</a> documentation <strong>Fields</strong> section for explanation.)</p></dd>


<dt>recycle</dt>
<dd><p><em><strong>How should results be "recycled" (or padded) to relative to the input length?</strong></em></p>
<p><code>within()</code> and <code>reframe()</code> default to <code>"pad"</code>; <code>mutate()</code> defaults to <code>"ifscalar"</code>; <code>with()</code> defaults to <code>"no"</code>.</p>
<p>Must be a single <code>character</code> string.
The full list of options are <code>"no"</code>, <code>"yes"</code>, <code>"pad"</code>, <code>"ifscalar"</code>, <code>"ifeven"</code>, <code>"never"</code>, and
<code>"summarize"</code>, though not all functions accept all options.
See the <em>Parsing expression results</em> section below.</p></dd>


<dt>alignLeft</dt>
<dd><p><em><strong>Should output that is shorter than input be aligned to the left?</strong></em></p>
<p>Defaults to <code>TRUE</code>.</p>
<p>Must be a singleton <code>logical</code> value: an on/off switch.</p></dd>


<dt>expandPaths</dt>
<dd><p><em><strong>Should spine paths be expanded before evaluating expressions?</strong></em></p>
<p>Defaults to <code>FALSE</code>.</p>
<p>Must be a singleton <code>logical</code> value: an on/off switch.
If <code>TRUE</code>, the <code><a href="expandPaths.html">expandPaths()</a></code> function is run on the data
before evaluating the expressions.
After evaluation, the expanded locations are removed from the output.</p></dd>


<dt>drop</dt>
<dd><p><em><strong>Whether to return a simplified data structure.</strong></em></p>
<p>Defaults to <code>TRUE</code>.</p>
<p>Must be a singleton <code>logical</code> value: an on/off switch.</p>
<p>This argument is conceptually similar to the <code>drop</code> argument in R matrices.
If <code>drop = TRUE</code>, the output of <code>with()</code>/<code>summarize()</code> is simplified as much as possible (trying to return
the "raw" vector, list, table, etc. within it). If <code>drop = FALSE</code>, the result is <em>always</em>
a data.table.</p></dd>


<dt>.by</dt>
<dd><p><em><strong>Optional grouping fields; an alternative to using <a href="groupHumdrum.html">group_by()</a>.</strong></em></p>
<p>Defaults to <code>NULL</code>.</p>
<p>Must be <code>NULL</code>, or <code>character</code> strings which <a href="partialMatching.html">partially match</a> one or more
<code><a href="humTable.html">fields()</a></code> in the <code>data</code>.</p>
<p>If not <code>NULL</code>, these fields are used to group the data.
If grouping fields have already been set by a call to <a href="groupHumdrum.html">group_by()</a>,
the <code>.by</code> argument overrides them.</p></dd>


<dt>variables</dt>
<dd><p><em><strong>A named <code>list</code> of values, to interpolate into your expressions.</strong></em></p>
<p>Defaults to <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p>
<p>Must be a named <code>list</code>.
These values are interpolated into the <code>...</code> expression arguments wherever
a variable name matches a name from the list.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
    


<p>These functions are the primary means of working with
<a href="humdrumRclass.html">humdrumR data</a>.
They all allow you to write code that accesses and manipulates the raw <code><a href="humTable.html">fields()</a></code>
in our data.
The main differences between them are what they do with the <em>results</em> of your code:
<code>with()</code> and <code>summarize()</code> return results in normal, "raw" R formats, <strong>removed</strong>
from the <a href="humdrumRclass.html">humdrumR data</a>;
In contrast, <code>within()</code>, <code>mutate()</code>, and <code>reframe()</code> always insert the results of your code into
new <code><a href="humTable.html">fields()</a></code> <strong>within</strong> your humdrum data.
The other distinctions between these functions have to do with how they recycle/pad results (see below).</p>
    </div>
    <div class="section level2">
    <h2 id="expression-evaluation">Expression evaluation<a class="anchor" aria-label="anchor" href="#expression-evaluation"></a></h2>
    


<p>The <code>with()</code>, <code>within()</code>, <code>mutate()</code>, <code>summarize()</code>, and <code>reframe()</code> methods for <a href="humdrumRclass.html">humdrumR data</a>
all perform "<a href="http://adv-r.had.co.nz/Computing-on-the-language.html" class="external-link">non-standard evalation</a>" of
any <a href="evaluatingExpressions.html">expressions</a> you provide them as arguments.
Basically, when you use a function like <code>with(...)</code> or <code>mutate(...)</code>, the expressions you write inside
the function call aren't <a href="evaluatingExpressions.html">evaluated</a> right then and there---instead, R takes those expressions
into the "<a href="evaluatingExpressions.html">environment</a>" of your <a href="humTable.html">humdrum table</a>, where
all your fields are "visible" to the expression.
This means you can write code (expressions) that refer to your <code><a href="humTable.html">fields()</a></code>, like <code>Token</code> or <code>Spine</code>.
For example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">with</span>(humData, </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>     <span class="fu">ifelse</span>(Spine <span class="sc">&gt;</span> <span class="dv">2</span>, </span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>            <span class="fu">kern</span>(Token), </span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>            <span class="fu">recip</span>(Token)))</span></code></pre><p></p></div>
<p>Since all the fields in a <a href="humTable.html">humdrum table</a> are the same length, the expressions you write
can be, and generally should be, <a href="vectorization.html">vectorized</a>.</p>
<p>By default, <code>with()</code>, <code>within()</code>, etc. don't use the whole <a href="humTable.html">humdrum table</a>,
but instead only evaluate their expressions using rows containing non-null data tokens (<code>Type == "D"</code>).
This means that interpretations, comments, barlines, and null data tokens are automatically ignored for you!
This feature is controlled by the <code>dataTypes</code> argument:
you can choose to work with the other token types by providing a <code>character</code> string containing combinations
of the characters <code>G</code> (global comments), <code>L</code> (local comments), <code>I</code> (interpretations),
<code>M</code> (barlines), <code>D</code> (non-null data), or <code>d</code> (null data).
For example, <code>dataTypes = 'MDd'</code> will evaluate your expressions on barline tokens (<code>=</code>), non-null data,
and null data.
See the <code><a href="ditto.html">ditto()</a></code> manual for an example application of using <code>dataTypes = 'Dd'</code>.
Keep in mind that <code>humdrumR</code> dynamically updates what tokens are considered "null" (<code>"d"</code>) based on what fields
are <a href="selectedFields.html">selected</a>.</p>
<p>If multiple expression arguments are provided, each expression is evaluated in order, from left to right.
Each expression can refer variables assigned in the previous expression (examples below).</p><div class="section">
<h3 id="expression-pre-processing">Expression pre-processing<a class="anchor" aria-label="anchor" href="#expression-pre-processing"></a></h3>


<p>These functions all do some
pre-processing of expressions arguments before evaluating them.
This pre-processing provides some convenient "<a href="https://en.wikipedia.org/wiki/Syntactic_sugar" class="external-link">syntactic sugar</a>"
for working with humdrum data.
There are currently five pre-processing steps:</p><ol><li><p>Explicit variable interpolation.</p></li>
<li><p>The <code>.</code> placeholder for selected fields.</p></li>
<li><p>Automatic argument insertion.</p></li>
<li><p>"Lagged"-vectors shorthand.</p></li>
<li><p>"Splatted" arguments.</p></li>
</ol><p>Each of these is explained below.</p><div class="section">
<h4 id="explicit-variable-interpolation">Explicit variable interpolation<a class="anchor" aria-label="anchor" href="#explicit-variable-interpolation"></a></h4>


<p>The <code>variable</code> argument can be provided as an (option) <code>list</code> of named values.
If any of the names in the <code>variable</code> list appear as symbols (variable names)
in any expression argument, their value is interpolated in place of that symbol.
For example, in</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">within</span>(humData, <span class="fu">kern</span>(Token, <span class="at">simple =</span> x), <span class="fu">variable</span>(<span class="at">x =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span></code></pre><p></p></div>
<p>the variable <code>x</code> will be changed to <code>TRUE</code>, resulting in:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">within</span>(humData, <span class="fu">kern</span>(Token, <span class="at">simple =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span></code></pre><p></p></div>
<p>This feature is most useful for programmatic purposes, like if you'd like
to run the same expression many times but with slightly different parameters.</p>
</div>

<div class="section">
<h4 id="the-placeholder">The . placeholder<a class="anchor" aria-label="anchor" href="#the-placeholder"></a></h4>


<p>The <code>.</code> variable can be used as a special placeholder representing the data's first
<a href="selectedFields.html">selected field</a>.
For example, in</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="fu">select</span>(Token) <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="fu">with</span>(<span class="fu">tally</span>(.))</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span></code></pre><p></p></div>
<p>will run <code><a href="tally.html">tally()</a></code> on the <code>Token</code> field.</p>
<p>Because new fields created by <code>within()</code>/<code>mutate()</code>/<code>reframe()</code> become the <a href="selectedFields.html">selected fields</a>
(details below), the <code>.</code> makes it easy to refer to the <em>last</em> new field in pipes.
For example, in</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="fu">kern</span>(Token, <span class="at">simple =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>   <span class="fu">with</span>(<span class="fu">tally</span>(.))</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span></code></pre><p></p></div>
<p>the <code><a href="tally.html">tally()</a></code> function is run on the output of the <code>mutate(kern(Token, simpe = TRUE))</code> expression.</p>
</div>

<div class="section">
<h4 id="automatic-argument-insertion">Automatic argument insertion<a class="anchor" aria-label="anchor" href="#automatic-argument-insertion"></a></h4>


<p>Many <a href="humdrumR.html">humdrumR</a> functions are designed to work with certain common fields in <a href="humdrumRclass.html">humdrumR data</a>.
For example, many <a href="pitchFunctions.html">pitch functions</a> have a <code>Key</code> argument which (can) take the
content of the <code>Key</code> which <code><a href="readHumdrum.html">readHumdrum()</a></code> creates when there are key interpretations,
like <code>*G:</code>, in the data.
When an expression argument uses one of these functions, but doesn't explicitly set the argument, humdrumR
will <em>automatically</em> insert the appropriate field into the call (if the field is present).
So, for example, if you run</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Solfa =</span> <span class="fu">solfa</span>(Token))</span></code></pre><p></p></div>
<p>on a data set that includes a <code>Key</code> field, the expression will be changed to:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Solfa =</span> <span class="fu">solfa</span>(Token, <span class="at">Key =</span> Key))</span></code></pre><p></p></div>
<p>If you <em>don't</em> want this to happen, you need to explicitly give a different <code>Key</code> argument, like:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Solfa =</span> <span class="fu">solfa</span>(Token, <span class="at">Key =</span> <span class="st">'F:'</span>))</span></code></pre><p></p></div>
<p>(The <code>Key</code> argument can also be set to <code>NULL</code>).</p>
<p>Another common/important automatic argument insertion is for functions with a <code>groupby</code> argument.
These functions will automatically have appropriate grouping fields inserted into them.
For example, the <code><a href="int.html">mint()</a></code> (melodic intervals) command will <em>automatically</em> by applied using <code>groupby</code>
<code>groupby = list(Piece, Spine, Path)</code>, which makes sure that melodic intervals are only calculated within
spine paths...not between pieces/spines/paths (which wouldn't make sense!).</p>
<p>All <code>humdrumR</code> functions which use automatic argument interpolation will mention it in their own documentation.
For example, the ?solfa documentation mentions the treatment of <code>Key</code> in its "Key" section.</p>
</div>

<div class="section">
<h4 id="lagged-vectors">Lagged vectors<a class="anchor" aria-label="anchor" href="#lagged-vectors"></a></h4>


<p>In music analysis, we very often want to work with "<a href="lag.html">lagged</a>" vectors of data.
For example, we want to look at the relationship between a vector and the previous values of the
same vector---e.g., the vector offset or "lagged" by one index.
The <code><a href="lag.html">lag()</a></code> and <code><a href="lag.html">lead()</a></code> functions are useful for this,
always keeping them the same length so vectorization is never hindered.</p>
<p>In expression arguments, we can use a convenient shorthand to call <code><a href="lag.html">lag()</a></code> (or <code>lead</code>).
In an expression, any vector can be indexed with an <code>integer</code> argument named <code>lag</code> or <code>lead</code> (case insensitive),
causing it to be lagged/led by that integer amount.
(A vector indexed with <code>lag = 0</code> returns the unchanged vector.)
For example, the following two calls are the same:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">with</span>(Token[<span class="at">lag =</span> <span class="dv">1</span>])</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">with</span>(<span class="fu">lag</span>(Token, <span class="dv">1</span>))</span></code></pre><p></p></div>
<p>This is most useful if the <code>lag</code>/<code>lead</code> index has <em>multiple</em> values:
if the indexed object appears within a higher function call,
each lag is inserted as a <em>separate</em> argument to that call.
Thus, <em>these</em> two calls are also the same:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">with</span>(<span class="fu">tally</span>(Token[<span class="at">lag =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">with</span>(<span class="fu">tally</span>(<span class="fu">lag</span>(Token, <span class="dv">1</span>), <span class="fu">lag</span>(Token, <span class="dv">2</span>)))</span></code></pre><p></p></div>
<p>Note that the lagging will also be automatically grouped within the fields <code>list(Piece, Spine, Path)</code>,
which is the default "melodic" structure in most data.
This assures that a vector is "lagged" from one piece to another, or from one spine to the next.
If you'd like to turn this off or change the grouping, you need to override it by adding a
<code>groupby</code> argument to the lagged index, like <code>Token[lag = 1, groupby = list(...)]</code>.</p>
<p>Using lagged vectors, since they are vectorized, is the fastest (computationally) and easiest way of working with n-grams.
For example, if you want to create <code>character</code>-string 5-grams of your data, you could call:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">with</span>(<span class="fu">paste</span>(Token[<span class="at">lag =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">sep =</span> <span class="st">'-'</span>))</span></code></pre><p></p></div>
<p>Since the lagging is grouped by <code>list(Piece, Spine, Path)</code>,
these are true "melodic" n-grams, only created within spine-paths within each piece.</p>
</div>

<div class="section">
<h4 id="splatted-arguments">Splatted arguments<a class="anchor" aria-label="anchor" href="#splatted-arguments"></a></h4>


<p>"Splatting" refers to feeding a function a list/vector of arguments.
Sometimes we want to divide our data into pieces (a l\'a <a href="groupHumdrum.html">group_by()</a>), but
rather than applying the same expression to each piece, we want to feed
the separate pieces as separate arguments to the same function.
You can use some
<a href="https://en.wikipedia.org/wiki/Syntactic_sugarsyntactic" class="external-link">syntactic sugar</a>
to do just this.
We can index any field in our call with a <code>splat</code> argument, which must be a <code>Field %in% x</code>.
For example,</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">with</span>(<span class="fu">list</span>(Token[<span class="at">splat =</span> Spine <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]))</span></code></pre><p></p></div>
<p>In this call, the <code>Token</code> field will be divided into two groups, one where <code>Spine == 1</code> and the other where
<code>Spine == 2</code>; the first group (<code>Spine == 1</code>) will be used as the first argument to <code>list</code>, and the second group
(<code>Spine == 2</code>) as the second argument.
Thus, <code>within</code> translates the previous expression to this:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">within</span>(<span class="fu">list</span>(Token[Spine <span class="sc">==</span> <span class="dv">1</span>], Token[Spine <span class="sc">==</span> <span class="dv">2</span>]))</span></code></pre><p></p></div>
<p>Splatting can be little weird, because there is nothing to assure that the splatted arguments
are all the same length, which we usually want (<a href="vectorization.html">vectorization</a>).
For example, in the previous example, there is no guarantee that <code>Token[Spine == 1]</code> and <code>Token[Spine == 2]</code> are the same length.
This just means we should only use splatting if we really understand the groups we are splatting.
For example, <em>if</em> there are <a href="humSize.html">no spine paths or stops in our data</a>, <em>then</em> we can know that all spines
have the same number of data records, but only including <strong>all</strong> data records (null <em>and</em> non-null).
So, if I know there are no stops/paths in our data, we can run something like this:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>humData <span class="sc">|&gt;</span> <span class="fu">within</span>(<span class="at">dataTypes =</span> <span class="st">'Dd'</span>, </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>                  <span class="fu">tally</span>(Token[<span class="at">splat =</span> Spine <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]))</span></code></pre><p></p></div>
</div>


</div>

<div class="section">
<h3 id="saving-expressions-for-later">Saving expressions for later<a class="anchor" aria-label="anchor" href="#saving-expressions-for-later"></a></h3>


<p>In some cases you may find that there are certain arguments expressions that you use repeatedly.
You can store expressions as variables by "quoting" them: the most common way to
quote an expression in R is using the <a href="https://rdrr.io/r/base/tilde.html" class="external-link">~</a>, which creates what is called a
"formula"---essentially a quoted expression.
You can also quote expressions, using <code><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote()</a></code>.
Once you've quoted an expression you can pass it to
<code>with()</code>, <code>within()</code>, <code>mutate()</code>, <code>summarize()</code>, and <code>reframe()</code>.</p>
<p>Image that you have three different datasets (<code>humData1</code>, <code>humData2</code>, and <code>humData3</code>),
and you'd like to evaluate the expression <code>tally(kern(Token, simple = TRUE))</code> in all three.
Use the <code>~</code> operator to quote and save that expression to variable, then use it with <code>with()</code>:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>tallyKern <span class="ot">&lt;-</span> <span class="er">~</span><span class="fu">tally</span>(<span class="fu">kern</span>(Token, <span class="at">simple =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>humData1 <span class="sc">|&gt;</span> <span class="fu">with</span>(tallyKern)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>humData2 <span class="sc">|&gt;</span> <span class="fu">with</span>(tallyKern)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>humData3 <span class="sc">|&gt;</span> <span class="fu">with</span>(tallyKern)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="expanding-paths">Expanding paths<a class="anchor" aria-label="anchor" href="#expanding-paths"></a></h3>


<p>For data that includes spine paths (which you can check with <code><a href="humSize.html">anyPaths()</a></code>),
some analyses may require that spine paths are treated as contiguous "melodies."
The <code><a href="expandPaths.html">expandPaths()</a></code> function can be used to "expand" spine paths into new spines.
The <code>expandPaths</code> <em>argument</em> to <code>with()</code>/<code>within()</code> will cause <code><a href="expandPaths.html">expandPaths()</a></code>
to be run on your data before evaluating your argument expressions.
After evaluation, the expanded parts of the data are then removed from the output.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="parsing-expression-results">Parsing expression results<a class="anchor" aria-label="anchor" href="#parsing-expression-results"></a></h2>
    


<p>The only differences between the <code>with()</code>, <code>within()</code>, <code>mutate()</code>, <code>summarize()</code>, and <code>reframe()</code> humdrumR methods
are what they do with the <em>results</em> of expressions passed to them.
The major difference is that <code>within()</code>, <code>mutate()</code>, and <code>reframe()</code> put results into new <a href="humTable.html">fields</a>
in a <a href="humdrumRclass.html">humdrumR data</a>, while <code>with()</code> and <code>summarize()</code> just return their results in "normal" R.
The other differences between the functions simply relate to how the <code>recycle</code> and <code>drop</code> arguments are used (details below).</p>
<p>The <code>recycle</code> argument controls how the results of your code are, or aren't, <a href="recycling.html">recycled (or padded)</a>.
When you write code using your <a href="humdrumRclass.html">humdrumR data</a>'s <code><a href="humTable.html">fields()</a></code>
as input, your results are inspected to see how long they are compared to the length of the input field(s).
If any of your results are <em>longer</em> than the input, you'll get an error message---<code>humdrumR</code> can't (yet) handle that case.
If any of your results are <em>shorter</em> than the input, the <code>recycle</code> argument controls what happens to that result.
There are seven options:</p><ul><li><p><code>"no"</code>: The result is not recycled or padded. For calls to <code>within()</code>, <code>mutate</code>, or <code>reframe()</code>, this option is not allowed.</p></li>
<li><p><code>"yes"</code>: the result is recycled, no matter how long it is.</p></li>
<li><p><code>"pad"</code>: the result is padded with <code>NA</code> values.</p></li>
<li><p><code>"ifscalar"</code>: if the result is scalar (length 1), it is recycled; otherwise you see an error.</p></li>
<li><p><code>"ifeven"</code>: if the result length evenly divides the input length, it is recycled; otherwise you see an error.</p></li>
<li><p><code>"never"</code>: The result is not recycled. If the result does not match the input length, you see an error.</p></li>
<li><p><code>"summarize"</code>: if the result is not scalar, <em>even if it matches the input length</em>, you see an error. The result is not recycled.</p></li>
</ul><p>The result of padding/recycling also depends on the <code>alignLeft</code> argument:
If <code>alignLeft = TRUE</code>, results are padded to the right: like <code>c(result, NA, NA, ...)</code>;
If <code>alignLeft = FALSE</code>, results are padded on the left: like <code>c(..., NA, NA, results)</code>.
Recycling is also affected if the result's length does not evenly divide the input length.
For example, consider a result <code>c(1, 2, 3)</code> which needs to be recycled to length <code>10</code>:
If <code>alignLeft = TRUE</code>, the result is recycled <code>c(1, 2, 3, 1, 2, 3, 1, 2, 3, 1)</code>;
If <code>alignLeft = FALSE</code>, the result is recycled <code>c(3, 1, 2, 3, 1, 2, 3, 1, 2, 3)</code>.</p><div class="section">
<h3 id="with-and-summarize-">with() and summarize()<a class="anchor" aria-label="anchor" href="#with-and-summarize-"></a></h3>


<p>The humdrumR <code>with()</code> and <code>summarize()</code> methods return "normal" R data objects.
The only difference between the <code>with()</code> and <code>summarize()</code> methods is their default  <code>drop</code> and <code>recycle</code> arguments:</p><ul><li><p><code>with(..., drop = TRUE, recycle = 'no')</code></p></li>
<li><p><code>summarize(..., drop = FALSE, recycle = 'summarize')</code></p></li>
</ul><p>If <code>drop = TRUE</code>, these methods return whatever your code's result is, with no parsing.
This can be <em>any</em> kind of R data,
including <a href="https://rdrr.io/r/base/vector.html" class="external-link">vectors</a> or objects like <a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm fits</a>
or <a href="https://rdrr.io/r/base/table.html" class="external-link">tables</a>.
If <code>drop = FALSE</code>, the results will instead be returned in a <code>data.table()</code>.</p>
<p>If you are working with <a href="groupHumdrum.html">grouped data</a>,
the <code>drop = FALSE</code> output (<code>data.table</code>) will include all grouping columns as well
as the results of your expressions.
If <code>drop = TRUE</code> <em>and</em> there is only one result per group, the grouping fields will be
used to generate names for the output vector.</p>
</div>

<div class="section">
<h3 id="within-mutate-and-reframe-">within(), mutate(), and reframe().<a class="anchor" aria-label="anchor" href="#within-mutate-and-reframe-"></a></h3>


<p>The humdrumR <code>within()</code>, <code>mutate()</code>, and <code>reframe()</code> methods always return a new <a href="humdrumRclass.html">humdrumR data object</a>,
with new <a href="humTable.html">fields</a> created from your code results.
The only differences between these methods is their default <code>recycle</code> argument and the types of <code>recycle</code> argument they allow:</p><ul><li><p><code>within(..., recycle = 'pad')</code></p><ul><li><p>Can accept any <code>recycle</code> option except <code>"no"</code>.</p></li>
</ul></li>
<li><p><code>mutate(..., recycle = 'ifscalar')</code></p><ul><li><p>Can only accept <code>"ifscalar"</code> or <code>"never"</code>.</p></li>
</ul></li>
<li><p><code>reframe(..., recycle = 'pad')</code></p><ul><li><p>Can only accept <code>"pad"</code> or <code>"yes"</code>.</p></li>
</ul></li>
</ul></div>

<div class="section">
<h3 id="creating-new-humdrumr-fields">Creating new humdrumR fields<a class="anchor" aria-label="anchor" href="#creating-new-humdrumr-fields"></a></h3>


<p>When running <code>within()</code>, <code>mutate()</code>, or <code>reframe()</code>, new <code><a href="humTable.html">fields()</a></code> are
added to the output <a href="humdrumRclass.html">humdrumR data</a>.
These new fields become the <a href="selectedFields.html">selected fields</a> in the output.
You can explicitly name newly created fields (recommended), or allow <code>humdrumR</code> to automatically name them (details below).
When using <code>with(..., drop = FALSE)</code> or <code>summarize(..., drop = FALSE)</code>, the column names of the output data.table
are determined in the same way.</p>
<p>Note that <code>within()</code>, <code>mutate()</code>, and <code>reframe()</code> will (attempt to) put <em>any</em> result back into your
<a href="humdrumRclass.html">humdrumR data</a>...even if it doesn't make much sense.
Things will work well with <a href="https://rdrr.io/r/base/vector.html" class="external-link">vectors</a>.
Atomic vectors are usually the best to work with (i.e., numbers, <code>character</code> strings, or <code>logical</code> values),
but <code>list</code>s will work well too---just remember that you'll need to treat those fields as lists
(e.g., you might need to use <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> or <code><a href="https://rdrr.io/r/base/funprog.html" class="external-link">Map()</a></code> to work with <code>list</code> fields.)
Any <em>non-vector</em> result will be put into a list as well, padded as needed.
For example, if you use <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> to compute a linear-regression in a call to <code>within()</code>
the result will be a new field containing a <code>list</code>, with first element in the
list being a single <code>lm</code> fit object, and the rest of the list empty (padded to the length of the field).</p><div class="section">
<h4 id="naming-new-fields">Naming new fields<a class="anchor" aria-label="anchor" href="#naming-new-fields"></a></h4>


<p>If you don't explicitly name the code expressions you provide, the new fields are named
by capturing the expression code itself as a <code>character</code> string.
However, it is generally a better idea to explicitly name your new fields.
This can be done in two ways:</p><ul><li><p>Base-R <a href="https://rdrr.io/r/base/with.html" class="external-link">within()</a> style: Use the <code>&lt;-</code> assignment operator inside your expression.</p><ul><li><p>Example: <code>within(humData, Kern &lt;- kern(Token))</code>.</p></li>
</ul></li>
<li><p>Tidyverse <a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a> style: provide the expression as a named argument with <code>=</code>.</p><ul><li><p>Example: <code>mutate(humData, Kern = kern(Token))</code>.</p></li>
</ul></li>
</ul><p>Either style can be used with any of the <code>humdrumR</code> methods.
When using <code>&lt;-</code>, only top-level assignment will create a new field, which means only one field can be assigned per expression.
For example,</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">within</span>(humData, </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>       Semits <span class="ot">&lt;-</span> <span class="fu">semits</span>(Token),</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>       Recip <span class="ot">&lt;-</span> <span class="fu">recip</span>(Token))</span></code></pre><p></p></div>
<p>will create two fields (<code>Semits</code> and <code>Recip</code>).
However,</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">within</span>(humData,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>       { </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>         Semits <span class="ot">&lt;-</span> <span class="fu">semits</span>(Token)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>         Recip <span class="ot">&lt;-</span> <span class="fu">recip</span>(Token)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>        })</span></code></pre><p></p></div>
<p>will not.
The <a href="evaluatingExpressions.html">result of expressions</a> grouped by <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> is always the <em>last</em> expression in the brackets.
Thus, the last example above will only create one new field, corresponding to the result of <code>recip(Token)</code>.
However, the resulting field won't be called <code>Recip</code>!
This is because only <em>top-level</em> assignments are used to name an expression:
To name a multi-expression expression (using <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code>), you could do something like this:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">within</span>(humData,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>       Recip <span class="ot">&lt;-</span> { </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>         Semits <span class="ot">&lt;-</span> <span class="fu">semits</span>(Token)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>         <span class="fu">recip</span>(Token)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>        })</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span></code></pre><p></p></div>
<p>Of course, only the result of <code>recip(Token)</code> would be saved to <code>Recip</code>,
so the <code>Semits &lt;- semits(Token)</code> expression is doing nothing useful here.</p>
</div>


</div>

<div class="section">
<h3 id="piped-references">Piped references<a class="anchor" aria-label="anchor" href="#piped-references"></a></h3>


<p>All argument expressions passed to the <code>with()</code>/<code>within()</code> methods are evaluated in order, from left to right,
so any assignments in a previous expression will be visible to the next expression.
This means we can, for example, do this:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">within</span>(humData, </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>       Kern <span class="ot">&lt;-</span> <span class="fu">kern</span>(Token),</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>       Kern2 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(Kern, <span class="fu">nchar</span>(Kern)))</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span></code></pre><p></p></div>
<p>the use of <code>Kern</code> in the second expression will refer to the <code>Kern</code> assigned in the previous expression.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="evaluating-expressions-in-groups-or-windows">Evaluating expressions in groups or windows<a class="anchor" aria-label="anchor" href="#evaluating-expressions-in-groups-or-windows"></a></h2>
    


<p>The <code>with()</code>, <code>within()</code>, <code>mutate()</code>, <code>summarize()</code>, and <code>reframe()</code> functions all
work with <a href="groupHumdrum.html">grouped</a> data, or data with <a href="context.html">contextual windows</a> defined.
When groups or windows are defined, all argument expressions are evaluated independently
within each and every group/window.
Results are then processed (including recycling/padding) within each group/window.
Finally, the results are then pieced back together in locations corresponding to the
original data locations.
Since <a href="groupHumdrum.html">groups</a> are necessarily exhaustive and non-overlapping, the results
location are easy to understand.
On the other hand <a href="context.html">contextual windows</a> may overlap, which means and non-scalar results
could potentially overlap as well;
in these cases, which result data lands where may be hard to predict.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>These functions are most useful in combination with the
<a href="subset.humdrumR.html">subset()</a>, <a href="groupHumdrum.html">group_by()</a>, and <code><a href="context.html">context()</a></code> commands.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with/within style:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">&lt;-</span> <span class="fu"><a href="readHumdrum.html">readHumdrum</a></span><span class="op">(</span><span class="va">humdrumRroot</span>, <span class="st">"HumdrumData/BachChorales/chor00[1-4].krn"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Finding and reading files...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	REpath-pattern '/home/nat/.tmp/RtmpkisqmH/temp_libpath11248629a5765e/humdrumR/HumdrumData/BachChorales/chor00[1-4].krn' matches 4 text files in 1 directory.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Four files read from disk.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Validating four files...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> all valid.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Parsing four files...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Assembling corpus...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span> <span class="fu">with</span><span class="op">(</span><span class="fu"><a href="tally.html">tally</a></span><span class="op">(</span><span class="fu"><a href="kern.html">kern</a></span><span class="op">(</span><span class="va">Token</span>, simple <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="va">Spine</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Spine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> kern(Token)  1  2  3  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          c  12 22  0 16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          c# 17 17  5 16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          d  25 42 12 19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          d#  7  4 10  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          e-  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          e  43 37 46 16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          e#  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          f   3  1  3  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          f# 20 18 41  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          g  23  4 24 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          g# 11 13 25  9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          a-  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          a  29 17 27 33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          a#  1  3  3  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          b-  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          b  33 37 15 53</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span> <span class="fu">within</span><span class="op">(</span><span class="va">Kern</span> <span class="op">&lt;-</span> <span class="fu"><a href="kern.html">kern</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                  <span class="va">Recip</span> <span class="op">&lt;-</span> <span class="fu"><a href="recip.html">recip</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  <span class="va">Semits</span> <span class="op">&lt;-</span> <span class="fu"><a href="semits.html">semits</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">humData</span></span></span>
<span class="r-in"><span>                  </span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>    <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Spine</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">with</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Semits</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Spine1     Spine2     Spine3     Spine4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -9.2844444  0.3425926  5.7500000 10.5661376 </span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>    <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Piece</span>, <span class="va">Spine</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">with</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Semits</span><span class="op">)</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mean(Semits) Piece Spine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  -12.4126984     1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:    0.2881356     1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:    5.5737705     1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:   10.4347826     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:   -8.1639344     2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:    0.7903226     2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:    6.3818182     2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:   10.7358491     2     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:   -7.7115385     3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:   -0.1200000     3     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:    5.6170213     3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   10.8297872     3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:   -8.3265306     4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:    0.3111111     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:    5.3877551     4     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:   10.2093023     4     4</span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span><span class="co"># tidyverse (dplyr) style:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">&lt;-</span> <span class="fu"><a href="readHumdrum.html">readHumdrum</a></span><span class="op">(</span><span class="va">humdrumRroot</span>, <span class="st">"HumdrumData/BachChorales/chor00[1-4].krn"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Finding and reading files...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	REpath-pattern '/home/nat/.tmp/RtmpkisqmH/temp_libpath11248629a5765e/humdrumR/HumdrumData/BachChorales/chor00[1-4].krn' matches 4 text files in 1 directory.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Four files read from disk.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Validating four files...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> all valid.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Parsing four files...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Assembling corpus...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>Kern <span class="op">=</span> <span class="fu"><a href="kern.html">kern</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                  Recip <span class="op">=</span> <span class="fu"><a href="recip.html">recip</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  Semits <span class="op">=</span> <span class="fu"><a href="semits.html">semits</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">humData</span></span></span>
<span class="r-in"><span>                  </span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>    <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Spine</span>, <span class="va">Bar</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">summarize</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Semits</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mean(Semits) Bar Spine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  -8.00000000   0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  -6.05882353   1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  -9.00000000   2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  -7.71428571   3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: -10.33333333   4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: -12.50000000   5     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  -7.19047619   6     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  -9.81250000   7     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  -8.35294118   8     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: -10.64285714   9     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  -9.75000000  10     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12: -11.57142857  11     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:  -6.44444444  12     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:  -8.22222222  13     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15: -15.40000000  14     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16: -14.50000000  15     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17: -16.66666667  16     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18: -13.33333333  17     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19: -12.50000000  18     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:  -7.50000000  19     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:  -6.33333333  20     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22: -10.00000000  21     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23: -17.00000000  22     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:   2.00000000   0     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:   0.38095238   1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:  -0.05555556   2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:   0.43750000   3     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:  -2.30769231   4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:  -2.50000000   5     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:   0.40000000   6     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:   1.14285714   7     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32:   1.81250000   8     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33:  -0.14285714   9     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34:  -0.63157895  10     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35:  -0.21428571  11     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36:   1.30000000  12     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37:   2.44444444  13     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38:   1.50000000  14     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39:   1.00000000  15     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40:   0.25000000  16     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41:   1.33333333  17     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42:   0.33333333  18     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43:   2.00000000  19     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44:   3.00000000  20     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45:   2.00000000  21     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46:  -1.00000000  22     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47:   5.50000000   0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48:   6.47058824   1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49:   5.18750000   2     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50:   5.47368421   3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51:   3.91666667   4     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52:   6.00000000   5     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53:   6.88888889   6     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54:   6.06250000   7     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55:   6.47058824   8     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56:   5.06250000   9     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57:   4.38888889  10     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58:   5.00000000  11     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59:   6.70000000  12     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60:   8.00000000  13     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61:   5.33333333  14     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62:   5.50000000  15     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63:   7.33333333  16     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64:   6.50000000  17     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65:   5.40000000  18     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66:   6.50000000  19     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67:   7.33333333  20     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68:   6.50000000  21     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69:   2.00000000  22     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70:   9.50000000   0     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71:  11.00000000   1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72:  10.37500000   2     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73:   9.42105263   3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74:   9.54545455   4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75:  12.40000000   5     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76:  10.56250000   6     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77:  10.93333333   7     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78:  11.37500000   8     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79:   9.46153846   9     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80:  11.40000000  10     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81:   9.92307692  11     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82:  12.83333333  12     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83:  11.75000000  13     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84:  10.00000000  14     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85:   9.00000000  15     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86:  13.00000000  16     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87:  10.00000000  17     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88:   9.00000000  18     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89:  10.00000000  19     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90:  13.00000000  20     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91:  10.00000000  21     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92:   7.00000000  22     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mean(Semits) Bar Spine</span>
<span class="r-in"><span>      </span></span>
<span class="r-in"><span><span class="co"># dataTypes argument</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Piece</span>, <span class="va">Spine</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">within</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">Token</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor001.krn vvv #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   1:  </span><span style="color: #00BBBB;">!!!COM: Bach, Johann Sebastian</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   2:  </span><span style="color: #00BBBB;">!!!CDT: 1685/02/21/-1750/07/28/</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   3:  </span><span style="color: #00BBBB;">!!!OTL@@DE: Aus meines Herzens Grunde</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   4:  </span><span style="color: #00BBBB;">!!!OTL@EN:      From the Depths of My Heart</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   5:  </span><span style="color: #00BBBB;">!!!SCT: BWV 269</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   6:  </span><span style="color: #00BBBB;">!!!PC#: 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   7:  </span><span style="color: #00BBBB;">!!!AGN: chorale</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   8:  </span><span style="color: #BB0000;">         **kern         **kern         **kern         **kern</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   9:  </span><span style="color: #BB00BB;">         *ICvox         *ICvox         *ICvox         *ICvox</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  10:  </span><span style="color: #BB00BB;">         *Ibass        *Itenor         *Ialto        *Isoprn</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  11:  </span><span style="color: #BB00BB;">        *I"Bass       *I"Tenor        *I"Alto     *I"Soprano</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  12:  </span><span style="color: #BB00BB;">      *&gt;[A,A,B]      *&gt;[A,A,B]      *&gt;[A,A,B]      *&gt;[A,A,B]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  13:  </span><span style="color: #BB00BB;">   *&gt;norep[A,B]   *&gt;norep[A,B]   *&gt;norep[A,B]   *&gt;norep[A,B]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  14:  </span><span style="color: #BB00BB;">            *&gt;A            *&gt;A            *&gt;A            *&gt;A</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  15:  </span><span style="color: #BB00BB;">        *clefF4       *clefGv2        *clefG2        *clefG2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  16:  </span><span style="color: #BB00BB;">         *k[f#]         *k[f#]         *k[f#]         *k[f#]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  17:  </span><span style="color: #BB00BB;">            *G:            *G:            *G:            *G:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  18:  </span><span style="color: #BB00BB;">          *M3/4          *M3/4          *M3/4          *M3/4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  19:  </span><span style="color: #BB00BB;">         *MM100         *MM100         *MM100         *MM100</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  20:  </span><span style="color: #BBBB00;">          4GG 1           4B 1           4d 1           4g 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  21:  </span><span style="color: #00BB00; text-decoration: underline;">             =1             =1             =1             =1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  22:  </span><span style="color: #BBBB00;">           4G 2           4B 2           4d 2           2g 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  23:  </span><span style="color: #BBBB00;">           4E 3          8cL 3           4e 3</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  24:  </span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">          8BJ 4</span><span style="color: #BBBB00; font-weight: 100;">              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  25:  </span><span style="color: #BBBB00;">          4F# 4           4A 5           4d 4          4dd 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  26:  </span><span style="color: #00BB00; text-decoration: underline;">             =2             =2             =2             =2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  27:  </span><span style="color: #BBBB00;">           4G 5           4G 6           2d 5          4.b 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  28:  </span><span style="color: #BBBB00;">           4D 6          4F# 7</span><span style="color: #BBBB00; font-weight: 100;">              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  29:  </span><span style="color: #BBBB00; font-weight: 100;">              .              .              .</span><span style="color: #BBBB00;">           8a 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  30:  </span><span style="color: #BBBB00;">           4E 7           4G 8           4B 6           4g 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  31:  </span><span style="color: #00BB00; text-decoration: underline;">             =3             =3             =3             =3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  32:  </span><span style="color: #BBBB00;">           4C 8          8cL 9          8eL 7          4.g 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  33:  </span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">         8BJ 10           8d 8</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  34:  </span><span style="color: #BBBB00;">         8BBL 9          4c 11           8e 9</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  35:  </span><span style="color: #BBBB00;">        8AAJ 10</span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">        8f#J 10           8a 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  36:  </span><span style="color: #BBBB00;">         4GG 11          4d 12          4g 11           4b 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  37:  </span><span style="color: #00BB00; text-decoration: underline;">             =4             =4             =4             =4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  38:  </span><span style="color: #BBBB00;">         2D; 12         2d; 13        2f#; 12         2a; 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  39:  </span><span style="color: #BBBB00;">         4GG 13          4d 14          4g 13          4b 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  40:  </span><span style="color: #00BB00; text-decoration: underline;">             =5             =5             =5             =5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  41:  </span><span style="color: #BBBB00;">        4FF# 14          4A 15          4d 14         2dd 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  42:  </span><span style="color: #BBBB00;">         4GG 15          4B 16          4e 15</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  43:  </span><span style="color: #BBBB00;">         4AA 16          4c 17         4f# 16         4cc 13</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  44:  </span><span style="color: #00BB00; text-decoration: underline;">             =6             =6             =6             =6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  45:  </span><span style="color: #BBBB00;">         4BB 17          4d 18          2g 17          4b 14</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  46:  </span><span style="color: #BBBB00;">          4C 18          4e 19</span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">          2a 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  47:  </span><span style="color: #BBBB00;">          4D 19         8dL 20         4f# 18</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  48:  </span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">         8cJ 21</span><span style="color: #BBBB00; font-weight: 100;">              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  49:  </span><span style="color: #00BB00; text-decoration: underline;">             =7             =7             =7             =7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  50:  </span><span style="color: #BBBB00;">        2GG; 20         2B; 22         2d; 19         2g; 16</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">51-133::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor001.krn ^^^ #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		(two more pieces...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor004.krn vvv #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">  1-53::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  54:  </span><span style="color: #BBBB00;">          4E 22         4G# 22         8eL 22          4b 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  55:  </span><span style="color: #BBBB00; font-weight: 100;">              .              .</span><span style="color: #BBBB00;">        8f#J 23</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  56:  </span><span style="color: #00BB00; text-decoration: underline;">             =5             =5             =5             =5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  57:  </span><span style="color: #BBBB00;">         4C# 23         4c# 23        8g#L 24         4ee 19</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  58:  </span><span style="color: #BBBB00; font-weight: 100;">              .              .</span><span style="color: #BBBB00;">        8a#J 25</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  59:  </span><span style="color: #BBBB00;">        8D#L 24         4F# 24          4b 26        4dd# 20</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  60:  </span><span style="color: #BBBB00;">         8EJ 25</span><span style="color: #BBBB00; font-weight: 100;">              .              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  61:  </span><span style="color: #BBBB00;">         4F# 26         4f# 25         4a# 27        4cc# 21</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  62:  </span><span style="color: #BBBB00;">          4B 27         4f# 26          4b 28        4dd# 22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  63:  </span><span style="color: #00BB00; text-decoration: underline;">             =6             =6             =6             =6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  64:  </span><span style="color: #BBBB00;">        8G#L 28          4B 27          4b 29        8eeL 23</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  65:  </span><span style="color: #BBBB00;">         8EJ 29</span><span style="color: #BBBB00; font-weight: 100;">              .              .</span><span style="color: #BBBB00;">       8dd#J 24</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  66:  </span><span style="color: #BBBB00;">         4F# 30         4A# 28         4f# 30        4cc# 25</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  67:  </span><span style="color: #BBBB00;">        4BB; 31        4d#; 29        4f#; 31         4b; 26</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  68:  </span><span style="color: #BBBB00;">          4E 32          4e 30         4g# 32          4b 27</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  69:  </span><span style="color: #00BB00; text-decoration: underline;">             =7             =7             =7             =7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  70:  </span><span style="color: #BBBB00;">         4G# 33          4B 31         8eL 33         4ee 28</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  71:  </span><span style="color: #BBBB00; font-weight: 100;">              .              .</span><span style="color: #BBBB00;">        8f#J 34</span><span style="color: #BBBB00; font-weight: 100;">              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  72:  </span><span style="color: #BBBB00;">          4E 34          4e 32         4g# 35          4b 29</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  73:  </span><span style="color: #BBBB00;">       8AnXL 35          4e 33          4a 36        4cc# 30</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  74:  </span><span style="color: #BBBB00;">         8BJ 36</span><span style="color: #BBBB00; font-weight: 100;">              .              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  75:  </span><span style="color: #BBBB00;">         4c# 37         4c# 34         8eL 37        8g#L 31</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  76:  </span><span style="color: #BBBB00; font-weight: 100;">              .              .</span><span style="color: #BBBB00;">        8f#J 38         8aJ 32</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  77:  </span><span style="color: #00BB00; text-decoration: underline;">             =8             =8             =8             =8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  78:  </span><span style="color: #BBBB00;">         4E# 38          4d 35         4g# 39          4b 33</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  79:  </span><span style="color: #BBBB00;">         4F# 39         4c# 36         4f# 40          4a 34</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  80:  </span><span style="color: #BBBB00;">        4C#; 40        4c#; 37        4e#; 41        4g#; 35</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  81:  </span><span style="color: #BBBB00;">          4E 41         [4B 38          4e 42         4g# 36</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  82:  </span><span style="color: #00BB00; text-decoration: underline;">             =9             =9             =9             =9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  83:  </span><span style="color: #BBBB00;">         4BB 42         4B] 39         4d# 43         4f# 37</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  84:  </span><span style="color: #BBBB00;">        8C#L 43          4e 40         4c# 44          4a 38</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  85:  </span><span style="color: #BBBB00;">        8D#J 44</span><span style="color: #BBBB00; font-weight: 100;">              .              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  86:  </span><span style="color: #BBBB00;">          4E 45          4e 41          4B 45         4g# 39</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  87:  </span><span style="color: #BBBB00;">         4BB 46        8d#L 42          4B 46         4f# 40</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  88:  </span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">         8BJ 43</span><span style="color: #BBBB00; font-weight: 100;">              .              .</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  89:  </span><span style="color: #00BB00; text-decoration: underline;">            =10            =10            =10            =10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  90:  </span><span style="color: #BBBB00;">        4AA# 47         2F# 44         4c# 47         4c# 41</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  91:  </span><span style="color: #BBBB00;">         4BB 48</span><span style="color: #BBBB00; font-weight: 100;">              .</span><span style="color: #BBBB00;">          4B 48         4d# 42</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  92:  </span><span style="color: #BBBB00;">        4EE; 49        4G#; 45         4B; 49         4e; 43</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  93:  </span><span style="color: #00BB00; text-decoration: underline;">             ==             ==             ==             ==</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  94:  </span><span style="color: #BB00BB;">             *-             *-             *-             *-</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  95:  </span><span style="color: #00BBBB;">!!!hum2abc: -Q ''</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  96:  </span><span style="color: #00BBBB;">!!!title: @{PC#}. @{OTL@@DE}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  97:  </span><span style="color: #00BBBB;">!!!YOR1: 371 vierstimmige Choralges&amp;auml;nge von Jo***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  98:  </span><span style="color: #00BBBB;">!!!YOR2: 4th ed. by Alfred D&amp;ouml;rffel (Leipzig: B***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  99:  </span><span style="color: #00BBBB;">!!!YOR2: c.1875). 178 pp. Plate "V.A.10".  reprint:***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 100:  </span><span style="color: #00BBBB;">!!!YOR4: Chorales (New York: Associated Music Publi***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 101:  </span><span style="color: #00BBBB;">!!!SMS: B&amp;H, 4th ed, Alfred D&amp;ouml;rffel, c.1875, p***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 102:  </span><span style="color: #00BBBB;">!!!EED:  Craig Stuart Sapp</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;"> 103:  </span><span style="color: #00BBBB;">!!!EEV:  2009/05/22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor004.krn ^^^ #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               (***five global comments truncated due to screen size***)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	humdrumR corpus of four pieces.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Data fields: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Kern                           :: character (**kern tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Recip                          :: character (**recip tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Semits                         :: integer (**semits tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Token                          :: character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	        *paste(Token, seq_along(Token)) :: character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Grouping fields: (sixteen groups)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Piece                          :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Spine                          :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>   </span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Piece</span>, <span class="va">Spine</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">mutate</span><span class="op">(</span>Enumerated <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">Token</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          dataTypes <span class="op">=</span> <span class="st">'Dd'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor001.krn vvv #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   1:  </span><span style="color: #00BBBB;">!!!COM: Bach, Johann Sebastian</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   2:  </span><span style="color: #00BBBB;">!!!CDT: 1685/02/21/-1750/07/28/</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   3:  </span><span style="color: #00BBBB;">!!!OTL@@DE: Aus meines Herzens Grunde</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   4:  </span><span style="color: #00BBBB;">!!!OTL@EN:      From the Depths of My Heart</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   5:  </span><span style="color: #00BBBB;">!!!SCT: BWV 269</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   6:  </span><span style="color: #00BBBB;">!!!PC#: 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   7:  </span><span style="color: #00BBBB;">!!!AGN: chorale</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   8:  </span><span style="color: #BB0000;">         **kern         **kern         **kern         **kern</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   9:  </span><span style="color: #BB00BB;">         *ICvox         *ICvox         *ICvox         *ICvox</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  10:  </span><span style="color: #BB00BB;">         *Ibass        *Itenor         *Ialto        *Isoprn</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  11:  </span><span style="color: #BB00BB;">        *I"Bass       *I"Tenor        *I"Alto     *I"Soprano</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  12:  </span><span style="color: #BB00BB;">      *&gt;[A,A,B]      *&gt;[A,A,B]      *&gt;[A,A,B]      *&gt;[A,A,B]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  13:  </span><span style="color: #BB00BB;">   *&gt;norep[A,B]   *&gt;norep[A,B]   *&gt;norep[A,B]   *&gt;norep[A,B]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  14:  </span><span style="color: #BB00BB;">            *&gt;A            *&gt;A            *&gt;A            *&gt;A</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  15:  </span><span style="color: #BB00BB;">        *clefF4       *clefGv2        *clefG2        *clefG2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  16:  </span><span style="color: #BB00BB;">         *k[f#]         *k[f#]         *k[f#]         *k[f#]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  17:  </span><span style="color: #BB00BB;">            *G:            *G:            *G:            *G:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  18:  </span><span style="color: #BB00BB;">          *M3/4          *M3/4          *M3/4          *M3/4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  19:  </span><span style="color: #BB00BB;">         *MM100         *MM100         *MM100         *MM100</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  20:  </span><span style="color: #BBBB00;">          4GG 1           4B 1           4d 1           4g 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  21:  </span><span style="color: #00BB00; text-decoration: underline;">             =1             =1             =1             =1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  22:  </span><span style="color: #BBBB00;">           4G 2           4B 2           4d 2           2g 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  23:  </span><span style="color: #BBBB00;">           4E 3          8cL 3           4e 3            . 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  24:  </span><span style="color: #BBBB00;">            . 4          8BJ 4            . 4            . 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  25:  </span><span style="color: #BBBB00;">          4F# 5           4A 5           4d 5          4dd 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  26:  </span><span style="color: #00BB00; text-decoration: underline;">             =2             =2             =2             =2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  27:  </span><span style="color: #BBBB00;">           4G 6           4G 6           2d 6          4.b 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  28:  </span><span style="color: #BBBB00;">           4D 7          4F# 7            . 7            . 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  29:  </span><span style="color: #BBBB00;">            . 8            . 8            . 8           8a 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  30:  </span><span style="color: #BBBB00;">           4E 9           4G 9           4B 9           4g 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  31:  </span><span style="color: #00BB00; text-decoration: underline;">             =3             =3             =3             =3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  32:  </span><span style="color: #BBBB00;">          4C 10         8cL 10         8eL 10         4.g 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  33:  </span><span style="color: #BBBB00;">           . 11         8BJ 11          8d 11           . 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  34:  </span><span style="color: #BBBB00;">        8BBL 12          4c 12          8e 12           . 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  35:  </span><span style="color: #BBBB00;">        8AAJ 13           . 13        8f#J 13          8a 13</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  36:  </span><span style="color: #BBBB00;">         4GG 14          4d 14          4g 14          4b 14</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  37:  </span><span style="color: #00BB00; text-decoration: underline;">             =4             =4             =4             =4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  38:  </span><span style="color: #BBBB00;">         2D; 15         2d; 15        2f#; 15         2a; 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  39:  </span><span style="color: #BBBB00;">         4GG 16          4d 16          4g 16          4b 16</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  40:  </span><span style="color: #00BB00; text-decoration: underline;">             =5             =5             =5             =5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  41:  </span><span style="color: #BBBB00;">        4FF# 17          4A 17          4d 17         2dd 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  42:  </span><span style="color: #BBBB00;">         4GG 18          4B 18          4e 18           . 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  43:  </span><span style="color: #BBBB00;">         4AA 19          4c 19         4f# 19         4cc 19</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  44:  </span><span style="color: #00BB00; text-decoration: underline;">             =6             =6             =6             =6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  45:  </span><span style="color: #BBBB00;">         4BB 20          4d 20          2g 20          4b 20</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  46:  </span><span style="color: #BBBB00;">          4C 21          4e 21           . 21          2a 21</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  47:  </span><span style="color: #BBBB00;">          4D 22         8dL 22         4f# 22           . 22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  48:  </span><span style="color: #BBBB00;">           . 23         8cJ 23           . 23           . 23</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  49:  </span><span style="color: #00BB00; text-decoration: underline;">             =7             =7             =7             =7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  50:  </span><span style="color: #BBBB00;">        2GG; 24         2B; 24         2d; 24         2g; 24</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">51-133::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor001.krn ^^^ #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		(two more pieces...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor004.krn vvv #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">  1-53::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  54:  </span><span style="color: #BBBB00;">          4E 29         4G# 29         8eL 29          4b 29</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  55:  </span><span style="color: #BBBB00;">           . 30           . 30        8f#J 30           . 30</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  56:  </span><span style="color: #00BB00; text-decoration: underline;">             =5             =5             =5             =5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  57:  </span><span style="color: #BBBB00;">         4C# 31         4c# 31        8g#L 31         4ee 31</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  58:  </span><span style="color: #BBBB00;">           . 32           . 32        8a#J 32           . 32</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  59:  </span><span style="color: #BBBB00;">        8D#L 33         4F# 33          4b 33        4dd# 33</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  60:  </span><span style="color: #BBBB00;">         8EJ 34           . 34           . 34           . 34</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  61:  </span><span style="color: #BBBB00;">         4F# 35         4f# 35         4a# 35        4cc# 35</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  62:  </span><span style="color: #BBBB00;">          4B 36         4f# 36          4b 36        4dd# 36</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  63:  </span><span style="color: #00BB00; text-decoration: underline;">             =6             =6             =6             =6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  64:  </span><span style="color: #BBBB00;">        8G#L 37          4B 37          4b 37        8eeL 37</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  65:  </span><span style="color: #BBBB00;">         8EJ 38           . 38           . 38       8dd#J 38</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  66:  </span><span style="color: #BBBB00;">         4F# 39         4A# 39         4f# 39        4cc# 39</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  67:  </span><span style="color: #BBBB00;">        4BB; 40        4d#; 40        4f#; 40         4b; 40</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  68:  </span><span style="color: #BBBB00;">          4E 41          4e 41         4g# 41          4b 41</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  69:  </span><span style="color: #00BB00; text-decoration: underline;">             =7             =7             =7             =7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  70:  </span><span style="color: #BBBB00;">         4G# 42          4B 42         8eL 42         4ee 42</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  71:  </span><span style="color: #BBBB00;">           . 43           . 43        8f#J 43           . 43</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  72:  </span><span style="color: #BBBB00;">          4E 44          4e 44         4g# 44          4b 44</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  73:  </span><span style="color: #BBBB00;">       8AnXL 45          4e 45          4a 45        4cc# 45</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  74:  </span><span style="color: #BBBB00;">         8BJ 46           . 46           . 46           . 46</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  75:  </span><span style="color: #BBBB00;">         4c# 47         4c# 47         8eL 47        8g#L 47</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  76:  </span><span style="color: #BBBB00;">           . 48           . 48        8f#J 48         8aJ 48</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  77:  </span><span style="color: #00BB00; text-decoration: underline;">             =8             =8             =8             =8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  78:  </span><span style="color: #BBBB00;">         4E# 49          4d 49         4g# 49          4b 49</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  79:  </span><span style="color: #BBBB00;">         4F# 50         4c# 50         4f# 50          4a 50</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  80:  </span><span style="color: #BBBB00;">        4C#; 51        4c#; 51        4e#; 51        4g#; 51</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  81:  </span><span style="color: #BBBB00;">          4E 52         [4B 52          4e 52         4g# 52</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  82:  </span><span style="color: #00BB00; text-decoration: underline;">             =9             =9             =9             =9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  83:  </span><span style="color: #BBBB00;">         4BB 53         4B] 53         4d# 53         4f# 53</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  84:  </span><span style="color: #BBBB00;">        8C#L 54          4e 54         4c# 54          4a 54</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  85:  </span><span style="color: #BBBB00;">        8D#J 55           . 55           . 55           . 55</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  86:  </span><span style="color: #BBBB00;">          4E 56          4e 56          4B 56         4g# 56</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  87:  </span><span style="color: #BBBB00;">         4BB 57        8d#L 57          4B 57         4f# 57</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  88:  </span><span style="color: #BBBB00;">           . 58         8BJ 58           . 58           . 58</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  89:  </span><span style="color: #00BB00; text-decoration: underline;">            =10            =10            =10            =10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  90:  </span><span style="color: #BBBB00;">        4AA# 59         2F# 59         4c# 59         4c# 59</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  91:  </span><span style="color: #BBBB00;">         4BB 60           . 60          4B 60         4d# 60</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  92:  </span><span style="color: #BBBB00;">        4EE; 61        4G#; 61         4B; 61         4e; 61</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  93:  </span><span style="color: #00BB00; text-decoration: underline;">             ==             ==             ==             ==</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  94:  </span><span style="color: #BB00BB;">             *-             *-             *-             *-</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  95:  </span><span style="color: #00BBBB;">!!!hum2abc: -Q ''</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  96:  </span><span style="color: #00BBBB;">!!!title: @{PC#}. @{OTL@@DE}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  97:  </span><span style="color: #00BBBB;">!!!YOR1: 371 vierstimmige Choralges&amp;auml;nge von Jo***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  98:  </span><span style="color: #00BBBB;">!!!YOR2: 4th ed. by Alfred D&amp;ouml;rffel (Leipzig: B***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  99:  </span><span style="color: #00BBBB;">!!!YOR2: c.1875). 178 pp. Plate "V.A.10".  reprint:***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 100:  </span><span style="color: #00BBBB;">!!!YOR4: Chorales (New York: Associated Music Publi***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 101:  </span><span style="color: #00BBBB;">!!!SMS: B&amp;H, 4th ed, Alfred D&amp;ouml;rffel, c.1875, p***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 102:  </span><span style="color: #00BBBB;">!!!EED:  Craig Stuart Sapp</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;"> 103:  </span><span style="color: #00BBBB;">!!!EEV:  2009/05/22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor004.krn ^^^ #########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               (***five global comments truncated due to screen size***)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	humdrumR corpus of four pieces.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Data fields: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	        *Enumerated :: character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Kern       :: character (**kern tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Recip      :: character (**recip tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Semits     :: integer (**semits tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Token      :: character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Grouping fields: (sixteen groups)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Piece      :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Spine      :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>          </span></span>
<span class="r-in"><span><span class="co"># recycle argument</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Piece</span>, <span class="va">Bar</span>, <span class="va">Spine</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">mutate</span><span class="op">(</span>BarMean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Semits</span><span class="op">)</span>, recycle <span class="op">=</span> <span class="st">'ifscalar'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor001.krn vvv ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   1:  </span><span style="color: #00BBBB;">!!!COM: Bach, Johann Sebastian</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   2:  </span><span style="color: #00BBBB;">!!!CDT: 1685/02/21/-1750/07/28/</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   3:  </span><span style="color: #00BBBB;">!!!OTL@@DE: Aus meines Herzens Grunde</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   4:  </span><span style="color: #00BBBB;">!!!OTL@EN:      From the Depths of My Heart</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   5:  </span><span style="color: #00BBBB;">!!!SCT: BWV 269</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   6:  </span><span style="color: #00BBBB;">!!!PC#: 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   7:  </span><span style="color: #00BBBB;">!!!AGN: chorale</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   8:  </span><span style="color: #BB0000;">             **kern             **kern              **kern</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   9:  </span><span style="color: #BB00BB;">             *ICvox             *ICvox              *ICvox</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  10:  </span><span style="color: #BB00BB;">             *Ibass            *Itenor              *Ialto</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  11:  </span><span style="color: #BB00BB;">            *I"Bass           *I"Tenor             *I"Alto</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  12:  </span><span style="color: #BB00BB;">          *&gt;[A,A,B]          *&gt;[A,A,B]           *&gt;[A,A,B]</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  13:  </span><span style="color: #BB00BB;">       *&gt;norep[A,B]       *&gt;norep[A,B]        *&gt;norep[A,B]</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  14:  </span><span style="color: #BB00BB;">                *&gt;A                *&gt;A                 *&gt;A</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  15:  </span><span style="color: #BB00BB;">            *clefF4           *clefGv2             *clefG2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  16:  </span><span style="color: #BB00BB;">             *k[f#]             *k[f#]              *k[f#]</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  17:  </span><span style="color: #BB00BB;">                *G:                *G:                 *G:</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  18:  </span><span style="color: #BB00BB;">              *M3/4              *M3/4               *M3/4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  19:  </span><span style="color: #BB00BB;">             *MM100             *MM100              *MM100</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  20:  </span><span style="color: #BBBB00;">                -17                 -1                   2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  21:  </span><span style="color: #00BB00; text-decoration: underline;">                 =1                 =1                  =1</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  22:  </span><span style="color: #BBBB00;">  -6.33333333333333              -1.25    2.66666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  23:  </span><span style="color: #BBBB00;">  -6.33333333333333              -1.25    2.66666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  24:  </span><span style="color: #BBBB00; font-weight: 100;">                  .</span><span style="color: #BBBB00;">              -1.25</span><span style="color: #BBBB00; font-weight: 100;">                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  25:  </span><span style="color: #BBBB00;">  -6.33333333333333              -1.25    2.66666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  26:  </span><span style="color: #00BB00; text-decoration: underline;">                 =2                 =2                  =2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  27:  </span><span style="color: #BBBB00;">  -7.66666666666667  -5.33333333333333                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  28:  </span><span style="color: #BBBB00;">  -7.66666666666667  -5.33333333333333</span><span style="color: #BBBB00; font-weight: 100;">                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  29:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  30:  </span><span style="color: #BBBB00;">  -7.66666666666667  -5.33333333333333                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  31:  </span><span style="color: #00BB00; text-decoration: underline;">                 =3                 =3                  =3</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  32:  </span><span style="color: #BBBB00;">             -14.25               0.25                 4.6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  33:  </span><span style="color: #BBBB00; font-weight: 100;">                  .</span><span style="color: #BBBB00;">               0.25                 4.6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  34:  </span><span style="color: #BBBB00;">             -14.25               0.25                 4.6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  35:  </span><span style="color: #BBBB00;">             -14.25</span><span style="color: #BBBB00; font-weight: 100;">                  .</span><span style="color: #BBBB00;">                 4.6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  36:  </span><span style="color: #BBBB00;">             -14.25               0.25                 4.6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  37:  </span><span style="color: #00BB00; text-decoration: underline;">                 =4                 =4                  =4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  38:  </span><span style="color: #BBBB00;">              -13.5                  2                 6.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  39:  </span><span style="color: #BBBB00;">              -13.5                  2                 6.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  40:  </span><span style="color: #00BB00; text-decoration: underline;">                 =5                 =5                  =5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  41:  </span><span style="color: #BBBB00;">  -16.6666666666667  -1.33333333333333                   4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  42:  </span><span style="color: #BBBB00;">  -16.6666666666667  -1.33333333333333                   4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  43:  </span><span style="color: #BBBB00;">  -16.6666666666667  -1.33333333333333                   4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  44:  </span><span style="color: #00BB00; text-decoration: underline;">                 =6                 =6                  =6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  45:  </span><span style="color: #BBBB00;">  -11.6666666666667                  2                 6.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  46:  </span><span style="color: #BBBB00;">  -11.6666666666667                  2</span><span style="color: #BBBB00; font-weight: 100;">                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  47:  </span><span style="color: #BBBB00;">  -11.6666666666667                  2                 6.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  48:  </span><span style="color: #BBBB00; font-weight: 100;">                  .</span><span style="color: #BBBB00;">                  2</span><span style="color: #BBBB00; font-weight: 100;">                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  49:  </span><span style="color: #00BB00; text-decoration: underline;">                 =7                 =7                  =7</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  50:  </span><span style="color: #BBBB00;">                -17                 -1                   2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">51-133:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor001.krn ^^^ ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		(two more pieces...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor004.krn vvv ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">  1-53:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  54:  </span><span style="color: #BBBB00;">                 -8                 -4                   5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  55:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .</span><span style="color: #BBBB00;">                   5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  56:  </span><span style="color: #00BB00; text-decoration: underline;">                 =5                 =5                  =5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  57:  </span><span style="color: #BBBB00;">                 -7               1.75                  10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  58:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .</span><span style="color: #BBBB00;">                  10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  59:  </span><span style="color: #BBBB00;">                 -7               1.75                  10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  60:  </span><span style="color: #BBBB00;">                 -7</span><span style="color: #BBBB00; font-weight: 100;">                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  61:  </span><span style="color: #BBBB00;">                 -7               1.75                  10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  62:  </span><span style="color: #BBBB00;">                 -7               1.75                  10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  63:  </span><span style="color: #00BB00; text-decoration: underline;">                 =6                 =6                  =6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  64:  </span><span style="color: #BBBB00;">               -7.8                  1                7.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  65:  </span><span style="color: #BBBB00;">               -7.8</span><span style="color: #BBBB00; font-weight: 100;">                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  66:  </span><span style="color: #BBBB00;">               -7.8                  1                7.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  67:  </span><span style="color: #BBBB00;">               -7.8                  1                7.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  68:  </span><span style="color: #BBBB00;">               -7.8                  1                7.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  69:  </span><span style="color: #00BB00; text-decoration: underline;">                 =7                 =7                  =7</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  70:  </span><span style="color: #BBBB00;">                 -3                  2    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  71:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .</span><span style="color: #BBBB00;">    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  72:  </span><span style="color: #BBBB00;">                 -3                  2    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  73:  </span><span style="color: #BBBB00;">                 -3                  2    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  74:  </span><span style="color: #BBBB00;">                 -3</span><span style="color: #BBBB00; font-weight: 100;">                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  75:  </span><span style="color: #BBBB00;">                 -3                  2    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  76:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .</span><span style="color: #BBBB00;">    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  77:  </span><span style="color: #00BB00; text-decoration: underline;">                 =8                 =8                  =8</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  78:  </span><span style="color: #BBBB00;">                 -8               0.75                5.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  79:  </span><span style="color: #BBBB00;">                 -8               0.75                5.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  80:  </span><span style="color: #BBBB00;">                 -8               0.75                5.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  81:  </span><span style="color: #BBBB00;">                 -8               0.75                5.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  82:  </span><span style="color: #00BB00; text-decoration: underline;">                 =9                 =9                  =9</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  83:  </span><span style="color: #BBBB00;">              -10.8                1.8                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  84:  </span><span style="color: #BBBB00;">              -10.8                1.8                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  85:  </span><span style="color: #BBBB00;">              -10.8</span><span style="color: #BBBB00; font-weight: 100;">                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  86:  </span><span style="color: #BBBB00;">              -10.8                1.8                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  87:  </span><span style="color: #BBBB00;">              -10.8                1.8                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  88:  </span><span style="color: #BBBB00; font-weight: 100;">                  .</span><span style="color: #BBBB00;">                1.8</span><span style="color: #BBBB00; font-weight: 100;">                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  89:  </span><span style="color: #00BB00; text-decoration: underline;">                =10                =10                 =10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  90:  </span><span style="color: #BBBB00;">  -15.6666666666667                 -5  -0.333333333333333</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  91:  </span><span style="color: #BBBB00;">  -15.6666666666667</span><span style="color: #BBBB00; font-weight: 100;">                  .</span><span style="color: #BBBB00;">  -0.333333333333333</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  92:  </span><span style="color: #BBBB00;">  -15.6666666666667                 -5  -0.333333333333333</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  93:  </span><span style="color: #00BB00; text-decoration: underline;">                 ==                 ==                  ==</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  94:  </span><span style="color: #BB00BB;">                 *-                 *-                  *-</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  95:  </span><span style="color: #00BBBB;">!!!hum2abc: -Q ''</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  96:  </span><span style="color: #00BBBB;">!!!title: @{PC#}. @{OTL@@DE}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  97:  </span><span style="color: #00BBBB;">!!!YOR1: 371 vierstimmige Choralges&amp;auml;nge v***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  98:  </span><span style="color: #00BBBB;">!!!YOR2: 4th ed. by Alfred D&amp;ouml;rffel (Leipz***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  99:  </span><span style="color: #00BBBB;">!!!YOR2: c.1875). 178 pp. Plate "V.A.10".  rep***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 100:  </span><span style="color: #00BBBB;">!!!YOR4: Chorales (New York: Associated Music ***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 101:  </span><span style="color: #00BBBB;">!!!SMS: B&amp;H, 4th ed, Alfred D&amp;ouml;rffel, c.18***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 102:  </span><span style="color: #00BBBB;">!!!EED:  Craig Stuart Sapp</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;"> 103:  </span><span style="color: #00BBBB;">!!!EEV:  2009/05/22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor004.krn ^^^ ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                (***one spine/path not displayed due to screen size***)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	humdrumR corpus of four pieces.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Data fields: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	        *BarMean :: numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Kern    :: character (**kern tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Recip   :: character (**recip tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Semits  :: integer (**semits tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Token   :: character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Grouping fields: (248 groups)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Bar     :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Piece   :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Spine   :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>   </span></span>
<span class="r-in"><span><span class="va">humData</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="groupHumdrum.html">group_by</a></span><span class="op">(</span><span class="va">Piece</span>, <span class="va">Bar</span>, <span class="va">Spine</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">within</span><span class="op">(</span>BarMean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Semits</span><span class="op">)</span>, recycle <span class="op">=</span> <span class="st">'pad'</span><span class="op">)</span>  </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor001.krn vvv ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   1:  </span><span style="color: #00BBBB;">!!!COM: Bach, Johann Sebastian</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   2:  </span><span style="color: #00BBBB;">!!!CDT: 1685/02/21/-1750/07/28/</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   3:  </span><span style="color: #00BBBB;">!!!OTL@@DE: Aus meines Herzens Grunde</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   4:  </span><span style="color: #00BBBB;">!!!OTL@EN:      From the Depths of My Heart</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   5:  </span><span style="color: #00BBBB;">!!!SCT: BWV 269</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   6:  </span><span style="color: #00BBBB;">!!!PC#: 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   7:  </span><span style="color: #00BBBB;">!!!AGN: chorale</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   8:  </span><span style="color: #BB0000;">             **kern             **kern              **kern</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">   9:  </span><span style="color: #BB00BB;">             *ICvox             *ICvox              *ICvox</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  10:  </span><span style="color: #BB00BB;">             *Ibass            *Itenor              *Ialto</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  11:  </span><span style="color: #BB00BB;">            *I"Bass           *I"Tenor             *I"Alto</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  12:  </span><span style="color: #BB00BB;">          *&gt;[A,A,B]          *&gt;[A,A,B]           *&gt;[A,A,B]</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  13:  </span><span style="color: #BB00BB;">       *&gt;norep[A,B]       *&gt;norep[A,B]        *&gt;norep[A,B]</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  14:  </span><span style="color: #BB00BB;">                *&gt;A                *&gt;A                 *&gt;A</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  15:  </span><span style="color: #BB00BB;">            *clefF4           *clefGv2             *clefG2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  16:  </span><span style="color: #BB00BB;">             *k[f#]             *k[f#]              *k[f#]</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  17:  </span><span style="color: #BB00BB;">                *G:                *G:                 *G:</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  18:  </span><span style="color: #BB00BB;">              *M3/4              *M3/4               *M3/4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  19:  </span><span style="color: #BB00BB;">             *MM100             *MM100              *MM100</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  20:  </span><span style="color: #BBBB00;">                -17                 -1                   2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  21:  </span><span style="color: #00BB00; text-decoration: underline;">                 =1                 =1                  =1</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  22:  </span><span style="color: #BBBB00;">  -6.33333333333333              -1.25    2.66666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  23:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  24:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  25:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  26:  </span><span style="color: #00BB00; text-decoration: underline;">                 =2                 =2                  =2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  27:  </span><span style="color: #BBBB00;">  -7.66666666666667  -5.33333333333333                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  28:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  29:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  30:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  31:  </span><span style="color: #00BB00; text-decoration: underline;">                 =3                 =3                  =3</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  32:  </span><span style="color: #BBBB00;">             -14.25               0.25                 4.6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  33:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  34:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  35:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  36:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  37:  </span><span style="color: #00BB00; text-decoration: underline;">                 =4                 =4                  =4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  38:  </span><span style="color: #BBBB00;">              -13.5                  2                 6.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  39:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  40:  </span><span style="color: #00BB00; text-decoration: underline;">                 =5                 =5                  =5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  41:  </span><span style="color: #BBBB00;">  -16.6666666666667  -1.33333333333333                   4</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  42:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  43:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  44:  </span><span style="color: #00BB00; text-decoration: underline;">                 =6                 =6                  =6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  45:  </span><span style="color: #BBBB00;">  -11.6666666666667                  2                 6.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  46:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  47:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  48:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  49:  </span><span style="color: #00BB00; text-decoration: underline;">                 =7                 =7                  =7</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  50:  </span><span style="color: #BBBB00;">                -17                 -1                   2</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">51-133:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor001.krn ^^^ ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		(two more pieces...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## vvv chor004.krn vvv ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; font-style: italic;">  1-53:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  54:  </span><span style="color: #BBBB00;">                 -8                 -4                   5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  55:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  56:  </span><span style="color: #00BB00; text-decoration: underline;">                 =5                 =5                  =5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  57:  </span><span style="color: #BBBB00;">                 -7               1.75                  10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  58:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  59:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  60:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  61:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  62:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  63:  </span><span style="color: #00BB00; text-decoration: underline;">                 =6                 =6                  =6</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  64:  </span><span style="color: #BBBB00;">               -7.8                  1                7.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  65:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  66:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  67:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  68:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  69:  </span><span style="color: #00BB00; text-decoration: underline;">                 =7                 =7                  =7</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  70:  </span><span style="color: #BBBB00;">                 -3                  2    6.16666666666667</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  71:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  72:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  73:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  74:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  75:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  76:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  77:  </span><span style="color: #00BB00; text-decoration: underline;">                 =8                 =8                  =8</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  78:  </span><span style="color: #BBBB00;">                 -8               0.75                5.75</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  79:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  80:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  81:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  82:  </span><span style="color: #00BB00; text-decoration: underline;">                 =9                 =9                  =9</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  83:  </span><span style="color: #BBBB00;">              -10.8                1.8                 0.5</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  84:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  85:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  86:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  87:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  88:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  89:  </span><span style="color: #00BB00; text-decoration: underline;">                =10                =10                 =10</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  90:  </span><span style="color: #BBBB00;">  -15.6666666666667                 -5  -0.333333333333333</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  91:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  92:  </span><span style="color: #BBBB00; font-weight: 100;">                  .                  .                   .</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  93:  </span><span style="color: #00BB00; text-decoration: underline;">                 ==                 ==                  ==</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  94:  </span><span style="color: #BB00BB;">                 *-                 *-                  *-</span>    ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  95:  </span><span style="color: #00BBBB;">!!!hum2abc: -Q ''</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  96:  </span><span style="color: #00BBBB;">!!!title: @{PC#}. @{OTL@@DE}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;">  97:  </span><span style="color: #00BBBB;">!!!YOR1: 371 vierstimmige Choralges&amp;auml;nge v***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  98:  </span><span style="color: #00BBBB;">!!!YOR2: 4th ed. by Alfred D&amp;ouml;rffel (Leipz***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;">  99:  </span><span style="color: #00BBBB;">!!!YOR2: c.1875). 178 pp. Plate "V.A.10".  rep***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 100:  </span><span style="color: #00BBBB;">!!!YOR4: Chorales (New York: Associated Music ***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 101:  </span><span style="color: #00BBBB;">!!!SMS: B&amp;H, 4th ed, Alfred D&amp;ouml;rffel, c.18***</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  </span><span style="color: #000000; font-style: italic;"> 102:  </span><span style="color: #00BBBB;">!!!EED:  Craig Stuart Sapp</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #000000; font-style: italic;"> 103:  </span><span style="color: #00BBBB;">!!!EEV:  2009/05/22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######################## ^^^ chor004.krn ^^^ ########################</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                (***one spine/path not displayed due to screen size***)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	humdrumR corpus of four pieces.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Data fields: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	        *BarMean :: numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Kern    :: character (**kern tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Recip   :: character (**recip tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Semits  :: integer (**semits tokens)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Token   :: character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Grouping fields: (248 groups)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Bar     :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Piece   :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	         Spine   :: integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

