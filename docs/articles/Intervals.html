<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="humdrumR">
<title>Rhythm and Pitch Intervals • humdrumR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rhythm and Pitch Intervals">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The Humdrum Syntax</a>
    <a class="dropdown-item" href="../articles/Intervals.html">Rhythm and Pitch Intervals</a>
    <a class="dropdown-item" href="../articles/IntroForCoders.html">HumdrumR for Coders</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and Tertian Sets in humdrumR</a>
    <a class="dropdown-item" href="../articles/Overview.html">Overview of humdrumR</a>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and Tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing data with humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Rhythm and Meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/Validation.html">Validating Humdrum Data</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Rhythm and Pitch Intervals</h1>
                        <h4 data-toc-skip class="author">Nathaniel Condit-Schultz</h4>
            
            <h4 data-toc-skip class="date">2022-03-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/vignettes/Intervals.Rmd"><code>vignettes/Intervals.Rmd</code></a></small>
      <div class="d-none name"><code>Intervals.Rmd</code></div>
    </div>

    
    
<p><code>humdrumR</code> contains a rich set of built in representations and functions for representing musical tonality and meter. A core philosophical/design choice is that both structures are conceptualized/encoded as <em>intervals</em>.</p>
<div class="section level2">
<h2 id="intervals">Intervals<a class="anchor" aria-label="anchor" href="#intervals"></a>
</h2>
<p>Both pitch and time are perceived <em>relatively</em>: as a relationship between two points. Thus we represent them, conceptually, as an <em>interval</em>—a difference. In the case of pitch, an interval between two frequencies (or more abstractly, a “tonal” interval on the circle-of-fifths). In the case of rhythm, an interval between two time points—between two onsets, or between an onset and an offset. In <code>humdrumR</code>, these abstract intervals are represented as <code>tonalInterval</code> and <code>rhythmInterval</code> objects, respectively.</p>
<p>To concretize our abstract intervals, we must establish what they are relative to. What is the reference? There are actually multiple, useful ways we can represent the same information. Since all intervals are relative, there is always an <em>implicit</em> reference—the origin, zero. For <code>tonalIntervals</code> the origin is the unison interval. For <code>rhythmIntervals</code> the origin is zero.</p>
<p><code>tonalInterval</code>s and <code>rhythmIntervals</code> constitute each constitute an algebraic <em>module over integers</em> (module over <span class="math inline">\(\mathbb{Z}\)</span>), with appropriate arithmetic operations fully defined in <code>humdrumR</code>. Since intervals can be added/subtracted, any interval can be thought of as a combination (addition) of other intervals. In <code>humdrumR</code>, we often “partition” a <code>interval</code> as a combination of useful sub-intervals.</p>
<div class="section level3">
<h3 id="serial-and-fixed-reference">Serial and Fixed Reference<a class="anchor" aria-label="anchor" href="#serial-and-fixed-reference"></a>
</h3>
<p>Vectors of <code>humdrumR</code> intervals can be represented in two fundamental ways: <em>serial reference representation</em> and <em>fixed reference representation</em>. To illustrate, we will use two examples, one rhythmic, one pitched:</p>
<ol style="list-style-type: decimal">
<li>The major scale</li>
<li>The “tag-line” rhythm <code>3+3+3+3+2+2</code>
</li>
</ol>
<div class="section level4">
<h4 id="fixed-reference">Fixed reference<a class="anchor" aria-label="anchor" href="#fixed-reference"></a>
</h4>
<p>In a fixed-reference representation, all intervals are interpreted relative to a fixed point (implicitly 0). Fixed-reference representations of the major scale (using semitones) and the tag-line rhythm are as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">referenceMajor</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span>

<span class="va">referenceTagline</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span>, <span class="fl">12</span>, <span class="fl">14</span>, <span class="fl">16</span><span class="op">)</span></code></pre></div>
<p>Note that this representation is quite commonly used by musicians, in various forms, <em>for pitch</em>. In contrast, fixed-reference representations are <strong>not</strong> commonly used by musicians <em>for rhythm</em>. However, they <em>are</em> used in some contexts, as they essentially represent “time from the beginning” of a piece: Thus, the timestamps/timelines in DAWs or “offsets” in <code>music21</code> are examples of fixed-reference representations of time.</p>
</div>
<div class="section level4">
<h4 id="serial-reference">Serial reference<a class="anchor" aria-label="anchor" href="#serial-reference"></a>
</h4>
<p>An alternative representation is a serial-reference representation, where each interval is measured relative to the previous one. Thus, each data point represents the local change (<span class="math inline">\(\Delta\)</span>) in the parameter. To be lossless (as explained below) the first element of a serial data vector is measured relative to the implicit reference (0). Serial representations of our tag-line and the major scale are as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">serialMajor</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>

<span class="va">serialTagline</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span> </code></pre></div>
<p>This representations is also fairly intuitive to musicians—representing “melodic intervals”—but is <em>not</em> how music notation or sequencers represent pitch. In contrast, the serial-reference representation for rhythm <em>is</em> normative: traditional music notation note values are a serial-reference representation.</p>
</div>
<div class="section level4">
<h4 id="transformations-interval-calculus">Transformations (“Interval Calculus”)<a class="anchor" aria-label="anchor" href="#transformations-interval-calculus"></a>
</h4>
<p>Since addition is defined for <code>interval</code>s fixed-reference and serial-reference representations can be translated between each other.</p>
<p>A serial-reference representation can be calculated as the pairwise differences between elements in a fixed-reference data, with the first reference element appended at the beginning. Conversely, a fixed-reference representation can be calculated as the cumulative sum of serial-reference data. Thus:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">serialMajor</span><span class="op">)</span>, <span class="va">referenceMajor</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">serialTagline</span><span class="op">)</span>, <span class="va">referenceTagline</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">referenceMajor</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">referenceMajor</span><span class="op">)</span><span class="op">)</span>, <span class="va">serialMajor</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">referenceTagline</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">referenceTagline</span><span class="op">)</span><span class="op">)</span>, <span class="va">serialTagline</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<p>In <code>humdrumR</code>, we refer to these two transformations as <code>delta</code> (<span class="math inline">\(\Delta\)</span>) and <code>sigma</code> (<span class="math inline">\(\Sigma\)</span>), for differences and sums respecticely. In <code>humdrumR</code>, we note that the relationship between fixed- and serial-reference representations is analogous to the relationship between a function and its derivative. The fixed-reference representation represents a sequence of independent values as a function of (serial) index position. The serial-reference representation represents the same sequence as the differences between adjacent elements at each index—how much the fixed representation <em>changes</em> at each index. (Since the first element in a serial-reference representation is relative to a fixed (implicit) reference, the normal one-to-many relationship between derivatives and functions is removed, and a lossless one-to-one relationship is maintained.) These two transformations are thus inverses of each other: <span class="math inline">\(x = sigma(delta(x))\)</span> and <span class="math inline">\(x = delta(sigma(x))\)</span>. <!--These two transformations are thus inverses of each other: $x = integrate(derive(x))$ and $x = derive(integrate(x))$.--></p>
<!--Is is because of this analogy that `humdrumR` refers to these functions as `derive` (pairwise differences) and `integrate` (cumulative sum) respectively.-->
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR">humdrumR</a></span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Loading required package: rlang</span></code></pre>
<pre><code><span class="co">## </span>
<span class="co">## Attaching package: 'humdrumR'</span></code></pre>
<pre><code><span class="co">## The following objects are masked from 'package:stats':</span>
<span class="co">## </span>
<span class="co">##     integrate, lag, sigma</span></code></pre>
<pre><code><span class="co">## The following object is masked from 'package:methods':</span>
<span class="co">## </span>
<span class="co">##     signature</span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">referenceMajor</span>, <span class="fu"><a href="../reference/intervalCalculus.html">sigma</a></span><span class="op">(</span><span class="fu"><a href="../reference/intervalCalculus.html">delta</a></span><span class="op">(</span><span class="va">referenceMajor</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">referenceMajor</span>, <span class="fu"><a href="../reference/intervalCalculus.html">delta</a></span><span class="op">(</span><span class="fu"><a href="../reference/intervalCalculus.html">sigma</a></span><span class="op">(</span><span class="va">referenceMajor</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<div class="figure">
<img src="Intervals_files/figure-html/unnamed-chunk-5-1.png" alt="Derivative/Integral relationship in Major Scale" width="700"><p class="caption">
Derivative/Integral relationship in Major Scale
</p>
</div>
<div class="figure">
<img src="Intervals_files/figure-html/unnamed-chunk-6-1.png" alt="Derivative/Integral relationship in Tagline Rhythm" width="700"><p class="caption">
Derivative/Integral relationship in Tagline Rhythm
</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="dynamic-reference">Dynamic Reference<a class="anchor" aria-label="anchor" href="#dynamic-reference"></a>
</h3>
<p>Since <code>intervals</code> are additive, another possibilty is to use one vector of intervals as the reference point for a second vector of intervals. This allows us to create dynamic reference points.</p>
<p>Some examples</p>
<ul>
<li>
<strong>Figured Bass</strong>: the bass voice in the texture is encoded (in serial/reference reprsentation) while other voices are represented relative to the bass voice.</li>
<li>
<strong>Chord Tones</strong>: the abstract “root” of chord progression is represented in one vector, with other vectors representing the “chord tones” (root, 3rd, 5th, 7th, etc.) relative to chord root.</li>
<li>
<strong>Scale degrees</strong>: The tonic of the key is used as a dynamic reference, with notes calculated relative to the tonic.</li>
</ul>
<div class="figure">
<img src="Intervals_files/figure-html/unnamed-chunk-7-1.png" alt="Figured Bass" width="700"><p class="caption">
Figured Bass
</p>
</div>
<p>Calculating dynamic reference intervals is lossless only if the complete information on the reference intervals are maintained. For instance, we we keep track of the serial or fixed intervals off the bass voice. Or, if we keep track of the local key (usually using a fixed interval to “C”).</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="http://fathermckenzie.net/" class="external-link">Nathaniel Condit-Schultz</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
