<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="humdrumR">
<title>Shaping humdrum data • humdrumR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Shaping humdrum data">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/IntroForCoders.html">HumdrumR for coders</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Humdrum background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing data</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your data</a>
    <a class="dropdown-item" href="../articles/WorkingWithData.html">Working with humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Shaping humdrum data</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Condit-Schultz</h4>
            
            <h4 data-toc-skip class="date">July 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/vignettes/Reshaping.Rmd" class="external-link"><code>vignettes/Reshaping.Rmd</code></a></small>
      <div class="d-none name"><code>Reshaping.Rmd</code></div>
    </div>

    
    
<p>One of the great strengths of the <a href="HumdrumSyntax.html" title="Intro to the humdrum syntax">humdrum syntax</a> is its
flexibility—there are lots of ways you can structure your data to
conveniently represent musical information. However, when it comes time
analyze data, we typically want to “reshape” our data into a particular
format that is ideal for analysis.</p>
<p>We must determine, given our data <em>and</em> our particular
research question, what constitutes a <em>single data observation</em>.
We want each data observation, or data point, to correspond to one row
in our humdrum table. In order to shape our data, there are three steps
we might need to do to our data:</p>
<ol style="list-style-type: decimal">
<li>Removing information we don’t want.</li>
<li>Splitting apart information that is bundled together.</li>
<li>Pasting together or aligning information that is currently
separated.</li>
</ol>
<p>Consider the following small humdrum file:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">setwd</span>(humdrumRroot)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(<span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>example</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######### vvv Reshaping_example.hum vvv ##########</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern  <span class="sc">**</span>silbe   <span class="sc">**</span>kern  <span class="sc">**</span>silbe  <span class="sc">**</span>harm</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>    <span class="er">*</span>ICvox        <span class="sc">*</span>   <span class="er">*</span>ICvox        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>    <span class="er">*</span>Ialto        <span class="sc">*</span>  <span class="er">*</span>Isoprn        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       <span class="fl">4.</span>c     This      <span class="fl">4.</span>e     This       I</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>        8d       is       8f       is       .</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>        4e       an       4g       an       .</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        4f      ex<span class="sc">-</span>       4a      ex<span class="sc">-</span>      IV</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>         <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        2g     <span class="sc">-</span>am<span class="sc">-</span>      4dd     <span class="sc">-</span>am<span class="sc">-</span>     I64</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>         .        .      4cc        _       .</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>        2g     <span class="sc">-</span>ple       2b     <span class="sc">-</span>ple       V</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######### ^^^ Reshaping_example.hum ^^^ ##########</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>This file contains seven different pieces of information! There are
two voices, alto and soprano; Each voice has its rhythm <em>and</em>
pitch information encoded in its <code>**kern</code> spine, plus lyrical
information in the next <code>**silbe</code> spine. In addition, the
<code>**harm</code> spine indicates the harmony accompanying the vocal
parts.</p>
<div class="section level2">
<h2 id="filtering-data">Filtering Data<a class="anchor" aria-label="anchor" href="#filtering-data"></a>
</h2>
<p>The first step might to remove data we don’t need. In <em>this</em>
article, we’ll show you the most common, basic, ways you might filter
your data. For more details about other humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> filtering functionality,
check out the <a href="Filtering.html" title="Filtering Humdrum Data">data filtering</a> article.</p>
<div class="section level3">
<h3 id="indexing">Indexing<a class="anchor" aria-label="anchor" href="#indexing"></a>
</h3>
<p>For example, if we are studying tonality, we might simply want to
ignore the lyric data. These easiest way to do this is to index out
spines we don’t want, either using numeric indices</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>example[[ , <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)]]</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="sc">&gt;</span>     vvv Reshaping_example.hum vvv <span class="co">#</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern   <span class="sc">**</span>kern  <span class="sc">**</span>harm</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>    <span class="er">*</span>ICvox   <span class="sc">*</span>ICvox       <span class="sc">*</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>    <span class="er">*</span>Ialto  <span class="sc">*</span>Isoprn       <span class="sc">*</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>    <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>      <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       <span class="fl">4.</span>c      <span class="fl">4.</span>e       I</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>        8d       8f       .</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>        4e       4g       .</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        4f       4a      IV</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>         <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        2g      4dd     I64</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>         .      4cc       .</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>        2g       2b       V</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="er">&gt;</span>     <span class="er">^^^</span> Reshaping_example.hum <span class="sc">^</span><span class="er">^^</span> <span class="co">#</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>or by exclusive interpretation:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>example[[ , <span class="fu">c</span>(<span class="st">'**kern'</span>, <span class="st">'**harm'</span>)]]</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="sc">&gt;</span>     vvv Reshaping_example.hum vvv <span class="co">#</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern   <span class="sc">**</span>kern  <span class="sc">**</span>harm</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>    <span class="er">*</span>ICvox   <span class="sc">*</span>ICvox       <span class="sc">*</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>    <span class="er">*</span>Ialto  <span class="sc">*</span>Isoprn       <span class="sc">*</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>    <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>      <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       <span class="fl">4.</span>c      <span class="fl">4.</span>e       I</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>        8d       8f       .</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>        4e       4g       .</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        4f       4a      IV</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>         <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        2g      4dd     I64</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>         .      4cc       .</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>        2g       2b       V</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="er">&gt;</span>     <span class="er">^^^</span> Reshaping_example.hum <span class="sc">^</span><span class="er">^^</span> <span class="co">#</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parsing-token">Parsing Token<a class="anchor" aria-label="anchor" href="#parsing-token"></a>
</h3>
<p>In this file, the <code>**kern</code> spines in our example file
include rhythmic data (<code>**recip</code>) <em>and</em> pitch data. If
we are just studying tonality, we could extract just the pitch
information from the <code>Token</code> field, and save it to a new
field. For example, we can use <code>kern</code> to extract the pitch
information from <code>Token</code>, and put it in a new field—let’s
call it <code>Pitch</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">within</span>(example, </span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>       <span class="fu">kern</span>(Token) <span class="ot">-&gt;</span> Pitch) <span class="ot">-&gt;</span> example</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>example</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######## vvv Reshaping_example.hum vvv #########</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern  <span class="sc">**</span>kern   <span class="sc">**</span>kern  <span class="sc">**</span>kern  <span class="sc">**</span>kern</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>    <span class="er">*</span>ICvox       <span class="sc">*</span>   <span class="er">*</span>ICvox       <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>    <span class="er">*</span>Ialto       <span class="sc">*</span>  <span class="er">*</span>Isoprn       <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>       <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>       <span class="er">*</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>         c       .        e       .       .</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>         d       .        f       .       .</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         e       .        g       .       .</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>         f       .        a       .       .</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>         <span class="er">=</span>       <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>         g       .       dd       .       .</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>         .       .       cc       .       .</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>         g       .        b       .       .</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######## ^^^ Reshaping_example.hum ^^^ #########</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="er">&gt;</span>                Token <span class="sc">::</span> character</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Pitch <span class="sc">::</span> character</span></code></pre></div>
<p>We have a new <code>Pitch</code> field, but we can still access the
original <code>Token</code> field. You can see it easily by setting the
“active” field back to <code>Token</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>example<span class="sc">$</span>Token</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######### vvv Reshaping_example.hum vvv ##########</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern  <span class="sc">**</span>silbe   <span class="sc">**</span>kern  <span class="sc">**</span>silbe  <span class="sc">**</span>harm</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>    <span class="er">*</span>ICvox        <span class="sc">*</span>   <span class="er">*</span>ICvox        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>    <span class="er">*</span>Ialto        <span class="sc">*</span>  <span class="er">*</span>Isoprn        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       <span class="fl">4.</span>c     This      <span class="fl">4.</span>e     This       I</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>        8d       is       8f       is       .</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>        4e       an       4g       an       .</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        4f      ex<span class="sc">-</span>       4a      ex<span class="sc">-</span>      IV</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>         <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        2g     <span class="sc">-</span>am<span class="sc">-</span>      4dd     <span class="sc">-</span>am<span class="sc">-</span>     I64</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>         .        .      4cc        _       .</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>        2g     <span class="sc">-</span>ple       2b     <span class="sc">-</span>ple       V</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######### ^^^ Reshaping_example.hum ^^^ ##########</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="sc">&gt;</span>                Pitch <span class="sc">::</span> character</span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="splittingseparating-data">Splitting/Separating Data<a class="anchor" aria-label="anchor" href="#splittingseparating-data"></a>
</h2>
<p>Humdrum data often packs multiple pieces of information into compact,
concise, readable tokens. The classic example, or course, is
<code>**kern</code> itself which often includes rhythm, pitch, phrasing,
beaming, and pitch ornamentation information! These tokens are great for
reading/writing, but not for analyzing, so we typically want to separate
the information we do want.</p>
<div class="section level4">
<h4 id="pitch-and-rhythm">Pitch and Rhythm<a class="anchor" aria-label="anchor" href="#pitch-and-rhythm"></a>
</h4>
<p>As we’ve seen, the <code>**kern</code> spines in our example file
include rhythmic data (<code>**recip</code>) <em>and</em> pitch data. In
some cases, we might want to access both pieces of information, but
separately. We can separate them by applying different functions to the
<code>Token</code> field, and saving the output to new fields. For
example,</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">within</span>(example, </span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>       Pitch <span class="ot">&lt;-</span> <span class="fu">pitch</span>(Token),</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>       Rhythm <span class="ot">&lt;-</span> <span class="fu">recip</span>(Token)) <span class="ot">-&gt;</span> example</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>example</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">########## vvv Reshaping_example.hum vvv ###########</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>pitch  <span class="sc">**</span>pitch  <span class="sc">**</span>pitch  <span class="sc">**</span>pitch  <span class="sc">**</span>pitch</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>ICvox        <span class="sc">*</span>   <span class="er">*</span>ICvox        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>     <span class="er">*</span>Ialto        <span class="sc">*</span>  <span class="er">*</span>Isoprn        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>     C4, <span class="fl">4.</span>        .   E4, <span class="fl">4.</span>        .        .</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>      D4, <span class="dv">8</span>        .    F4, <span class="dv">8</span>        .        .</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>      E4, <span class="dv">4</span>        .    G4, <span class="dv">4</span>        .        .</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>      F4, <span class="dv">4</span>        .    A4, <span class="dv">4</span>        .        .</span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>          <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>      G4, <span class="dv">2</span>        .    D5, <span class="dv">4</span>        .     , <span class="dv">64</span></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>          .        .    C5, <span class="dv">4</span>        .        .</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>      G4, <span class="dv">2</span>        .    B4, <span class="dv">2</span>        .        .</span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">########## ^^^ Reshaping_example.hum ^^^ ###########</span></span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="er">&gt;</span>                Token  <span class="sc">::</span> character</span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Pitch  <span class="sc">::</span> character</span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Rhythm <span class="sc">::</span> character</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>uses the <code>pitch</code> function to extract the pitch
information and saves it to a new field which we call <code>Pitch</code>
and</li>
<li>uses the <code>recip</code> function to extract the rhythm
information and saves it to a new field which we call
<code>Rhythm</code>.</li>
</ol>
<ul>
<li>(Of course, you could choose different names for your new fields,
instead of <code>Pitch</code> of <code>Rhythm</code>.)</li>
</ul>
<p>We can then use either of these new fields, or both, in any call to
<code>within.humdrumR</code>, or make them the active fields to see them
print:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>example<span class="sc">$</span>Pitch</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">########## vvv Reshaping_example.hum vvv ###########</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>pitch  <span class="sc">**</span>pitch  <span class="sc">**</span>pitch  <span class="sc">**</span>pitch  <span class="sc">**</span>pitch</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>ICvox        <span class="sc">*</span>   <span class="er">*</span>ICvox        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>     <span class="er">*</span>Ialto        <span class="sc">*</span>  <span class="er">*</span>Isoprn        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>         C4        .       E4        .        .</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>         D4        .       F4        .        .</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         E4        .       G4        .        .</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>         F4        .       A4        .        .</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>          <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>         G4        .       D5        .        .</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>          .        .       C5        .        .</span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>         G4        .       B4        .        .</span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">########## ^^^ Reshaping_example.hum ^^^ ###########</span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="er">&gt;</span>                Token  <span class="sc">::</span> character</span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Pitch  <span class="sc">::</span> character</span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="sc">&gt;</span>                Rhythm <span class="sc">::</span> character</span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a>example<span class="sc">$</span>Rhythm</span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">########## vvv Reshaping_example.hum vvv ###########</span></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>recip  <span class="sc">**</span>recip  <span class="sc">**</span>recip  <span class="sc">**</span>recip  <span class="sc">**</span>recip</span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>ICvox        <span class="sc">*</span>   <span class="er">*</span>ICvox        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>     <span class="er">*</span>Ialto        <span class="sc">*</span>  <span class="er">*</span>Isoprn        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb7-28"><a href="#cb7-28" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>        <span class="er">*</span></span>
<span id="cb7-29"><a href="#cb7-29" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb7-30"><a href="#cb7-30" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>         <span class="fl">4.</span>        .       <span class="fl">4.</span>        .        .</span>
<span id="cb7-31"><a href="#cb7-31" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>          <span class="dv">8</span>        .        <span class="dv">8</span>        .        .</span>
<span id="cb7-32"><a href="#cb7-32" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>          <span class="dv">4</span>        .        <span class="dv">4</span>        .        .</span>
<span id="cb7-33"><a href="#cb7-33" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>          <span class="dv">4</span>        .        <span class="dv">4</span>        .        .</span>
<span id="cb7-34"><a href="#cb7-34" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>          <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span></span>
<span id="cb7-35"><a href="#cb7-35" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>          <span class="dv">2</span>        .        <span class="dv">4</span>        .       <span class="dv">64</span></span>
<span id="cb7-36"><a href="#cb7-36" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>          .        .        <span class="dv">4</span>        .        .</span>
<span id="cb7-37"><a href="#cb7-37" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>          <span class="dv">2</span>        .        <span class="dv">2</span>        .        .</span>
<span id="cb7-38"><a href="#cb7-38" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span></span>
<span id="cb7-39"><a href="#cb7-39" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">########## ^^^ Reshaping_example.hum ^^^ ###########</span></span>
<span id="cb7-40"><a href="#cb7-40" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb7-41"><a href="#cb7-41" tabindex="-1"></a><span class="er">&gt;</span>                Token  <span class="sc">::</span> character</span>
<span id="cb7-42"><a href="#cb7-42" tabindex="-1"></a><span class="sc">&gt;</span>                Pitch  <span class="sc">::</span> character</span>
<span id="cb7-43"><a href="#cb7-43" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Rhythm <span class="sc">::</span> character</span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="pastingaligning">Pasting/Aligning<a class="anchor" aria-label="anchor" href="#pastingaligning"></a>
</h2>
<p>The next step might be to align/combine information that is currently
separated. In many humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> datasets, we have multiple
pieces of information spread across multiple spines, or in some cases,
across spine paths or stops. If, given our research question, we need to
think of multiple pieces of information as describing a <em>single data
point</em>, we’ll reshape the data. For example, in our example file the
<code>**silbe</code> (lyric) spines associate each syllable with exactly
one note in the adjacent <code>**kern</code> spines.</p>
<div class="section level3">
<h3 id="folding-data">Folding Data<a class="anchor" aria-label="anchor" href="#folding-data"></a>
</h3>
<p>The most powerful approach to aligning separated data is by “folding”
the information into a new field using the family “folding functions.”
<em>Folding</em> means taking information from one spine, path, or stop,
and moving it into a new data field “on top of” another spine. This
means taking, for example, the data in Spine 2 and putting in a new
field in Spine 1.</p>
<div class="section level4">
<h4 id="folding-spines">Folding Spines<a class="anchor" aria-label="anchor" href="#folding-spines"></a>
</h4>
<div class="section level5">
<h5 id="lyrics">Lyrics<a class="anchor" aria-label="anchor" href="#lyrics"></a>
</h5>
<p>In our example, we want to align the notes in the <code>**kern</code>
spines with the syllables in the <code>**silbe</code> spine. We can do
this directly using <code>foldHumdrum</code>: use the <code>fold</code>
argument to indicate which spine to fold, and the <code>onto</code>
argument to indicate which spine to move it onto.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">foldHumdrum</span>(example, <span class="at">fold =</span> <span class="dv">2</span>, <span class="at">onto =</span> <span class="dv">1</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">##### vvv Reshaping_example.hum vvv ######</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>silbe   <span class="sc">**</span>kern  <span class="sc">**</span>silbe  <span class="sc">**</span>harm</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>ICvox   <span class="sc">*</span>ICvox        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>     <span class="er">*</span>Ialto  <span class="sc">*</span>Isoprn        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>    <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>       <span class="er">*</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       This        .        .       .</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>         is        .        .       .</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         an        .        .       .</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        ex<span class="sc">-</span>        .        .       .</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>          <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>       <span class="sc">-</span>am<span class="sc">-</span>        .        .       .</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>          .        .        .       .</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>       <span class="sc">-</span>ple        .        .       .</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">##### ^^^ Reshaping_example.hum ^^^ ######</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="er">&gt;</span>                Token   <span class="sc">::</span> character</span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Result1 <span class="sc">::</span> character</span></code></pre></div>
<p>Notice that the second spine has disappeared, and now there is a new
field called <code>Result1</code>, in the first (<code>onto</code>)
spine, but containing the data from the old Spine 2. We could do both
<code>**silbe</code> spines like this:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">foldHumdrum</span>(example, <span class="at">fold =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>), <span class="at">onto =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="co"># vvv Reshaping_example.hum vvv #</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>silbe  <span class="sc">**</span>silbe  <span class="sc">**</span>harm</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>ICvox   <span class="sc">*</span>ICvox       <span class="sc">*</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>     <span class="er">*</span>Ialto  <span class="sc">*</span>Isoprn       <span class="sc">*</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>    <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>      <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       This     This       .</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>         is       is       .</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         an       an       .</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        ex<span class="sc">-</span>      ex<span class="sc">-</span>       .</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>          <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>       <span class="sc">-</span>am<span class="sc">-</span>     <span class="sc">-</span>am<span class="sc">-</span>       .</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>          .        _       .</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>       <span class="sc">-</span>ple     <span class="sc">-</span>ple       .</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="co"># ^^^ Reshaping_example.hum ^^^ #</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="er">&gt;</span>                Token   <span class="sc">::</span> character</span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Result1 <span class="sc">::</span> character</span></code></pre></div>
<hr>
<p>In some datasets, there might be different numbers of
<code>**kern</code>/<code>**silbe</code> spines in different files
within the dataset. Though <code>foldHumdrum</code> <em>can</em> handle
this case, its usually easier to use the special
<code>foldExclusive</code> function, which folds based on exclusive
interpretation. Just specify the <code>fold</code> and <code>onto</code>
arguments as character strings matching the names of exclusive
interpretations in your file:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">foldExclusive</span>(example, <span class="st">'silbe'</span>, <span class="st">'kern'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="co"># vvv Reshaping_example.hum vvv #</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>silbe  <span class="sc">**</span>silbe  <span class="sc">**</span>harm</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>ICvox   <span class="sc">*</span>ICvox       <span class="sc">*</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>     <span class="er">*</span>Ialto  <span class="sc">*</span>Isoprn       <span class="sc">*</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>    <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>      <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>       This     This       .</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>         is       is       .</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         an       an       .</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        ex<span class="sc">-</span>      ex<span class="sc">-</span>       .</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>          <span class="er">=</span>        <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>       <span class="sc">-</span>am<span class="sc">-</span>     <span class="sc">-</span>am<span class="sc">-</span>       .</span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>          .        _       .</span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>       <span class="sc">-</span>ple     <span class="sc">-</span>ple       .</span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="co"># ^^^ Reshaping_example.hum ^^^ #</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="er">&gt;</span>                Token <span class="sc">::</span> character</span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Silbe <span class="sc">::</span> character</span></code></pre></div>
<p>Notice that <code>foldExclusive</code> automatically folded both
<code>**sible</code> spines onto their respective <code>**kern</code>
spines, and have them a new field name.</p>
</div>
<div class="section level5">
<h5 id="harmonic-interval">Harmonic Interval<a class="anchor" aria-label="anchor" href="#harmonic-interval"></a>
</h5>
<p>Let’s consider another common use case for “folding” humdrum data.
Lots of humdrum files have multiple spines of <code>**kern</code>. In
some cases, our research question will lead us to think of each
<strong>note</strong>, across all spines, as being individual data
points. However, if our research question concerns harmonic intervals
(combinations of pitches happening at the same time) we might think of
each record of multiple pitches as being a <em>single data
observation</em>. In this case, we might want to fold the kern data from
one spine, on top of another!</p>
<p>We can do this using <code>foldHumdrum</code> as well:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readHumdrum.html">readHumdrum</a></span><span class="op">(</span><span class="va">humdrumRroot</span>, <span class="st">'examples/Reshaping_example.hum'</span><span class="op">)</span>

<span class="va">kernonly</span> <span class="op">&lt;-</span> <span class="va">example</span><span class="op">[[</span> , <span class="st">'**kern'</span><span class="op">]</span><span class="op">]</span>

<span class="va">kernonly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/foldHumdrum.html">foldHumdrum</a></span><span class="op">(</span><span class="va">kernonly</span>, <span class="fl">2</span>, <span class="fl">1</span>, newFieldNames <span class="op">=</span> <span class="st">'Spine2'</span><span class="op">)</span> </code></pre></div>
<p>We could now cross tabulate the two spines of data:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">with</span>(kernonly, <span class="fu">table</span>(Token, Spine2))</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="sc">&gt;</span>         Spine2</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="sc">&gt;</span>    Token 2b <span class="fl">4.</span>e 4a 4cc 4dd 4g 8f</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="sc">&gt;</span>      2g   <span class="dv">1</span>   <span class="dv">0</span>  <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">1</span>  <span class="dv">0</span>  <span class="dv">0</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="fl">4.</span>c  <span class="dv">0</span>   <span class="dv">1</span>  <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">0</span>  <span class="dv">0</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="sc">&gt;</span>      4e   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">0</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="sc">&gt;</span>      4f   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">1</span>   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">0</span>  <span class="dv">0</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="sc">&gt;</span>      8d   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">0</span>  <span class="dv">1</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="sc">&gt;</span>      .    <span class="dv">0</span>   <span class="dv">0</span>  <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">0</span>  <span class="dv">0</span>  <span class="dv">0</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="harmony-spreading-data">Harmony (Spreading Data)<a class="anchor" aria-label="anchor" href="#harmony-spreading-data"></a>
</h5>
<p>In another common use case, we might have one spine of data which
actually describes what is happening in the entire record of data. For
example, our example’s <code>**harm</code> spine. The chords indicated
in this spine are associated with the pitches in both, or either, of the
<code>**kern</code> spines.</p>
<p>Luckily, if <code>foldHumdrum</code> or <code>foldExclusive</code>
are given more <code>onto</code> spines then <code>fold</code> spines,
the <code>fold</code> spine will be duplicated to fill more than one
target spines:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="fu">foldExclusive</span>(example, <span class="st">'harm'</span>, <span class="st">'kern'</span>) </span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">##### vvv Reshaping_example.hum vvv ######</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>harm  <span class="sc">**</span>silbe   <span class="sc">**</span>harm  <span class="sc">**</span>silbe</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>    <span class="er">*</span>ICvox        <span class="sc">*</span>   <span class="er">*</span>ICvox        <span class="sc">*</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>    <span class="er">*</span>Ialto        <span class="sc">*</span>  <span class="er">*</span>Isoprn        <span class="sc">*</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span>    <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>        <span class="sc">*</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span>      <span class="er">*</span>C<span class="sc">:</span>        <span class="er">*</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>         I        .        I        .</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>         .        .        .        .</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         .        .        .        .</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>        IV        .       IV        .</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>         <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span>        <span class="er">=</span></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>       I64        .      I64        .</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>         .        .        .        .</span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>         V        .        V        .</span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span>       <span class="er">*</span><span class="sc">-</span></span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">##### ^^^ Reshaping_example.hum ^^^ ######</span></span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a><span class="er">&gt;</span>                Token <span class="sc">::</span> character</span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Harm  <span class="sc">::</span> character</span></code></pre></div>
<p>The harm spine was copied into a new field “on top of” <em>both</em>
<code>**kern</code> spines!</p>
</div>
</div>
<div class="section level4">
<h4 id="folding-stops-and-paths">Folding Stops and Paths<a class="anchor" aria-label="anchor" href="#folding-stops-and-paths"></a>
</h4>
<p>Though spines the most common structure in humdrum data that you
might need to “fold,” we can also fold other structures. Of course, it
depends on what questions you are trying to ask of your data!</p>
<p>Consider this example, with multi-stop chords in a
<code>**kern</code> spine:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>example_stops <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example2_stops.hum'</span>)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>example_stops</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="sc">&gt;</span>     vvv Reshaping_example2_stops.hum vvv </span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>     <span class="er">**</span>kern  <span class="sc">**</span>harm</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>      <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>        <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>         4c       I</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>         4B      Vb</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>    4B<span class="sc">-</span> d g      vb</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>     4A d f     IVb</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>          <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>     2G c e     I64</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>     2G B d       V</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="er">&gt;</span>     <span class="er">^^^</span> Reshaping_example2_stops.hum <span class="sc">^</span><span class="er">^^</span> </span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>By default, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>
treats each token (note) in <em>each</em> stop as a separate data
observation, with its own row in the humdrum table. If we are studying
harmony, we might want to align those stops “on top” of each other, in
different fields. Try the <code>foldStops</code> function!</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">foldStops</span>(example_stops)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="sc">&gt;</span>     vvv Reshaping_example2_stops.hum vvv </span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern  <span class="sc">**</span>harm</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>         .       .</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>         .       .</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>      d, g       .</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>      d, f       .</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>      c, e       .</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>      B, d       .</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="er">&gt;</span>     <span class="er">^^^</span> Reshaping_example2_stops.hum <span class="sc">^</span><span class="er">^^</span> </span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="er">&gt;</span>                Token       <span class="sc">::</span> character</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token_Stop2 <span class="sc">::</span> character</span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token_Stop3 <span class="sc">::</span> character</span></code></pre></div>
<p>When working with spine paths, it is often less obvious how we should
interpret different paths in terms of data observations, but if you want
to fold them, you can using <code>foldPaths</code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>example_paths <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example3_paths.hum'</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>example_paths</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="sc">&gt;</span>     vvv Reshaping_example3_paths.hum vvv </span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern      <span class="sc">**</span>harm</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>           <span class="sc">*</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>         <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>        4c           I</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        4d           .</span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>        4e           .</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>        <span class="er">*^</span>           <span class="er">*</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>        4d  4f      ii</span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>         <span class="er">=</span>   <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>        2c  2g       I</span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        2B  2g      Vb</span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>        <span class="er">*</span>v  <span class="sc">*</span>v       <span class="sc">*</span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>         <span class="er">=</span>           <span class="er">=</span></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="er">&gt;</span>     <span class="er">^^^</span> Reshaping_example3_paths.hum <span class="sc">^</span><span class="er">^^</span> </span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a></span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a><span class="fu">foldPaths</span>(example_paths)</span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a><span class="sc">&gt;</span>     vvv Reshaping_example3_paths.hum vvv </span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>kern  <span class="sc">**</span>harm</span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>     <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>       <span class="er">*</span>C<span class="sc">:</span>     <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb16-28"><a href="#cb16-28" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>        4c       I</span>
<span id="cb16-29"><a href="#cb16-29" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>        4d       .</span>
<span id="cb16-30"><a href="#cb16-30" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>        4e       .</span>
<span id="cb16-31"><a href="#cb16-31" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>        <span class="er">*^</span>       <span class="er">*</span></span>
<span id="cb16-32"><a href="#cb16-32" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>        4f      ii</span>
<span id="cb16-33"><a href="#cb16-33" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>         <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb16-34"><a href="#cb16-34" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>        2g       I</span>
<span id="cb16-35"><a href="#cb16-35" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        2g      Vb</span>
<span id="cb16-36"><a href="#cb16-36" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>        <span class="er">*</span>v       <span class="sc">*</span></span>
<span id="cb16-37"><a href="#cb16-37" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>         <span class="er">=</span>       <span class="er">=</span></span>
<span id="cb16-38"><a href="#cb16-38" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="er">*</span><span class="sc">-</span>      <span class="er">*</span><span class="sc">-</span></span>
<span id="cb16-39"><a href="#cb16-39" tabindex="-1"></a><span class="er">&gt;</span>     <span class="er">^^^</span> Reshaping_example3_paths.hum <span class="sc">^</span><span class="er">^^</span> </span>
<span id="cb16-40"><a href="#cb16-40" tabindex="-1"></a><span class="er">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb16-41"><a href="#cb16-41" tabindex="-1"></a><span class="er">&gt;</span>                Token       <span class="sc">::</span> character</span>
<span id="cb16-42"><a href="#cb16-42" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token_Path1 <span class="sc">::</span> character</span></code></pre></div>
<p>Note that <code>foldPaths</code> does something a little bit
different: wherever the “folding” path is null (non-existent) it copies
the data from the base path. This means that we get two complete copies
of the melody, identical where there is no spine path, but different
where there are different paths. So we get one melody (in the
<code>Token</code> field) going <code>4c 4d 4e 4d 2c 2B</code> and
another melody (in the new <code>Token_Path</code> field) going
<code>4c 4d 4e 4f 2g 2g</code>. This option can be used with other
folding functions as well, by setting the argument
<code>fillFromField == TRUE</code>.</p>
</div>
<div class="section level4">
<h4 id="folding-grace-notes">Folding Grace Notes<a class="anchor" aria-label="anchor" href="#folding-grace-notes"></a>
</h4>
<blockquote>
<p>This functionality hasn’t been implemented yet. Bug us about it!</p>
</blockquote>
</div>
<div class="section level4">
<h4 id="other-folding">Other Folding<a class="anchor" aria-label="anchor" href="#other-folding"></a>
</h4>
<p>Using <code>foldHumdrum</code>, it is also possible to fold other
data structures. The most obvious example, would be folding consecutive
records or bars on top of each other. I’m not sure why you would want
to! To do this, use the <code>what</code> argument of
<code>foldHumdrum</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="collapsing-data">Collapsing Data<a class="anchor" aria-label="anchor" href="#collapsing-data"></a>
</h3>
<p>TBA</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
