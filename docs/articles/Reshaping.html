<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="humdrumR">
<title>Shaping humdrum data • humdrumR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Shaping humdrum data">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    <a href="https://gatech.edu" class="external-link"><img src="gt-logo.svg" alt="Georgia Tech" style="height:50px; padding-right:20px;"></a> <a href="https://ccml.gtcmt.gatech.edu" class="external-link"><img src="CCMLbanner.png" alt="CCMLab" style="height:80px; padding-right:20px;"></a>
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/DataFields.html">HumdrumR Data Fields</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing humdrum data</a>
    <a class="dropdown-item" href="../articles/ComplexSyntax.html">Complex humdrum syntax</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your humdrum data</a>
    <a class="dropdown-item" href="../articles/Grouping.html">Grouping humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ccml.music.gatech.edu/humdrumR">GUI</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Shaping humdrum data</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Condit-Schultz</h4>
            
            <h4 data-toc-skip class="date">July 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/vignettes/Reshaping.Rmd" class="external-link"><code>vignettes/Reshaping.Rmd</code></a></small>
      <div class="d-none name"><code>Reshaping.Rmd</code></div>
    </div>

    
    
<p>Welcome to “Shaping humdrum data”! This article explains various
steps you can, and often need, to take to prepare humdrum datasets for
analysis, using humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>.</p>
<p>One of the great strengths of the <a href="HumdrumSyntax.html" title="Intro to the humdrum syntax">humdrum syntax</a> is its
flexibility—there are lots of ways you can structure your data to
conveniently <em>represent</em> musical information. However, when it
comes time analyze data, we typically want to “reshape” our data into a
particular format that is ideal for <em>analysis</em>. The key idea is
this: given our data <em>and</em> our particular research question, we
must determine/decide what constitutes a <em>single data
observation</em>. We want each data observation, or data point, to
correspond to one row in our humdrum table. Depending on how your
humdrum data files are organized, this might not be the case when you
first load your data.</p>
<p>In order to shape our data, there are three steps we might need to do
to our data:</p>
<ol style="list-style-type: decimal">
<li>Removing information we don’t want.</li>
<li>Splitting apart information that is bundled together.</li>
<li>Pasting together or aligning information that is currently
separated.</li>
</ol>
<p>Consider the following small humdrum file, which is bundled with
humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>example</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>        <span class="er">**</span>kern      <span class="sc">**</span>silbe       <span class="sc">**</span>kern      <span class="sc">**</span>silbe      <span class="sc">**</span>harm</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>        <span class="er">*</span>ICvox            <span class="sc">*</span>       <span class="er">*</span>ICvox            <span class="sc">*</span>           <span class="er">*</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>        <span class="er">*</span>Ialto            <span class="sc">*</span>      <span class="er">*</span>Isoprn            <span class="sc">*</span>           <span class="er">*</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>         <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>            <span class="sc">*</span>        <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>            <span class="sc">*</span>           <span class="er">*</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>           <span class="er">*</span>C<span class="sc">:</span>            <span class="er">*</span>          <span class="er">*</span>C<span class="sc">:</span>            <span class="er">*</span>         <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>           <span class="fl">4.</span>c         This          <span class="fl">4.</span>e         This           I</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>            <span class="dv">8</span>d           is           <span class="dv">8</span>f           is           .</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>            <span class="dv">4</span>e           an           <span class="dv">4</span>g           an           .</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>            <span class="dv">4</span>f          ex<span class="sc">-</span>           <span class="dv">4</span>a          ex<span class="sc">-</span>          IV</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>             <span class="er">=</span>            <span class="er">=</span>            <span class="er">=</span>            <span class="er">=</span>           <span class="er">=</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>            <span class="dv">2</span>g         <span class="sc">-</span>am<span class="sc">-</span>          <span class="dv">4</span>dd         <span class="sc">-</span>am<span class="sc">-</span>         I64</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>             .            .          <span class="dv">4</span>cc            _           .</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>            <span class="dv">2</span>g         <span class="sc">-</span>ple           <span class="dv">2</span>b         <span class="sc">-</span>ple           V</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>            <span class="er">*</span><span class="sc">-</span>           <span class="er">*</span><span class="sc">-</span>           <span class="er">*</span><span class="sc">-</span>           <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>This file contains (at least) <strong>seven</strong> different pieces
of information! There are two voices, alto and soprano; Each voice has
its rhythm <em>and</em> pitch information encoded in its
<code>**kern</code> spine, plus lyrical information in the next
<code>**silbe</code> spine. In addition, the <code>**harm</code> spine
indicates the harmony accompanying <em>both</em> the vocal parts. Now,
depending on what sorts of analyses we want to perform, we need to
decide what combinations of these seven information streams consitute a
“data observation.”</p>
<div class="section level2">
<h2 id="filtering-data">Filtering Data<a class="anchor" aria-label="anchor" href="#filtering-data"></a>
</h2>
<p>The first step is often to simply remove data we don’t need. In
<em>this</em> article, we’ll show you the most common, basic, ways you
might filter your data. For more details about other humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> filtering functionality,
check out the <a href="Filtering.html" title="Filtering humdrum data article">data filtering</a> article.</p>
<div class="section level3">
<h3 id="indexing">Indexing<a class="anchor" aria-label="anchor" href="#indexing"></a>
</h3>
<p>For example, <em>if</em> we are studying tonality, we might simply
want to ignore the lyric data. These easiest way to do this is to index
out spines we don’t want, either using numeric indices</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>example[[ , <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)]]</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern              <span class="sc">**</span>harm</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox                   <span class="sc">*</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn                   <span class="sc">*</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                   <span class="fl">4.</span>c                 <span class="fl">4.</span>e                   I</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    <span class="dv">8</span>d                  <span class="dv">8</span>f                   .</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                    <span class="dv">4</span>e                  <span class="dv">4</span>g                   .</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                    <span class="dv">4</span>f                  <span class="dv">4</span>a                  IV</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                    <span class="dv">2</span>g                 <span class="dv">4</span>dd                 I64</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                 <span class="dv">4</span>cc                   .</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                    <span class="dv">2</span>g                  <span class="dv">2</span>b                   V</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>or (probably better) by exclusive interpretation:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>example[[ , <span class="fu">c</span>(<span class="st">'**kern'</span>, <span class="st">'**harm'</span>)]]</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern              <span class="sc">**</span>harm</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox                   <span class="sc">*</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn                   <span class="sc">*</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                   <span class="fl">4.</span>c                 <span class="fl">4.</span>e                   I</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    <span class="dv">8</span>d                  <span class="dv">8</span>f                   .</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                    <span class="dv">4</span>e                  <span class="dv">4</span>g                   .</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                    <span class="dv">4</span>f                  <span class="dv">4</span>a                  IV</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                    <span class="dv">2</span>g                 <span class="dv">4</span>dd                 I64</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                 <span class="dv">4</span>cc                   .</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                    <span class="dv">2</span>g                  <span class="dv">2</span>b                   V</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parsing-token">Parsing Token<a class="anchor" aria-label="anchor" href="#parsing-token"></a>
</h3>
<p>In this file, the <code>**kern</code> spines in our example file
include rhythmic data (<code>**recip</code>) <em>and</em> pitch data.
<em>If</em> we are “just” studying tonality, we could extract the pitch
information from the <code>Token</code> field, and save it to a new
field. For example, we can use the <code><a href="../reference/kern.html">kern()</a></code> function to
extract the pitch information from <code>Token</code>, and put it in a
new field, which we’ll call <code>Pitch</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Pitch =</span> <span class="fu">kern</span>(Token)) <span class="ot">-&gt;</span> example</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>example</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>        <span class="er">**</span>kern      <span class="sc">**</span>kern      <span class="sc">**</span>kern      <span class="sc">**</span>kern      <span class="sc">**</span>kern</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>           <span class="er">*</span>C<span class="sc">:</span>           .         <span class="sc">*</span>C<span class="sc">:</span>           .         <span class="sc">*</span>C<span class="sc">:</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>             c           .           e           .           .</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>             d           .           f           .           .</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>             e           .           g           .           .</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>             f           .           a           .           .</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>             <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>             g           .          dd           .           .</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>             .           .          cc           .           .</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>             g           .           b           .           .</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>            <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Pitch <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>kern tokens)</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="sc">&gt;</span>                Token <span class="sc">::</span> character</span></code></pre></div>
<p>Having now isolated the pitch information, we can analyze it. (Of
course, the rhythm information is still present, in the original
<code>Token</code> field.)</p>
</div>
<div class="section level3">
<h3 id="other-filtering">Other filtering<a class="anchor" aria-label="anchor" href="#other-filtering"></a>
</h3>
<p>Of course, there are many other filtering options you might want to
do, depending on your research goals. Perhaps you only want to study
pieces/passages in a flat keys, or only works from a particular time
period, etc. A common example would be limiting our rhythmic analyses to
music in 4/4 time, and perhaps ignoring pickup notes. The
<code>TimeSignature</code> field indicates the time signature, and the
<code>Bar</code> field can be used as an indicator of pickups at the
beginning of pieces, as they are marked <code>Bar == 0</code>. So for
example (using the Bach chorale data):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>chorales <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'HumdrumData/BachChorales/.*krn'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>chorales <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="fu">filter</span>(Bar <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> TimeSignature <span class="sc">==</span> <span class="st">'M4/4'</span>) <span class="ot">-&gt;</span> chorales</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>chorales</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## vvv chor002.krn vvv #########################</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="er">&gt;</span>                <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="er">&gt;</span>                <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Ich dank dir, lieber Herre</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">347</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 2</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">7</span><span class="sc">:</span>           <span class="er">**</span>kern         <span class="sc">**</span>kern         <span class="sc">**</span>kern         <span class="sc">**</span>kern</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">8</span><span class="sc">:</span>           <span class="er">*</span>ICvox         <span class="sc">*</span>ICvox         <span class="sc">*</span>ICvox         <span class="sc">*</span>ICvox</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">9</span><span class="sc">:</span>           <span class="er">*</span>Ibass        <span class="sc">*</span>Itenor         <span class="sc">*</span>Ialto        <span class="sc">*</span>Isoprn</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>I<span class="st">"Bass       *I"</span>Tenor        <span class="sc">*</span>I<span class="st">"Alto     *I"</span>Soprano</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">11</span><span class="sc">:</span>        <span class="er">*&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">12</span><span class="sc">:</span>     <span class="er">*&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">13</span><span class="sc">:</span>              <span class="er">*&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">14</span><span class="sc">:</span>          <span class="er">*</span>clefF4       <span class="sc">*</span>clefGv2        <span class="sc">*</span>clefG2        <span class="sc">*</span>clefG2</span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">15</span><span class="sc">:</span>       <span class="er">*</span>k[f<span class="co">#c#g#]     *k[f#c#g#]     *k[f#c#g#]     *k[f#c#g#]</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">16</span><span class="sc">:</span>              <span class="er">*</span>A<span class="sc">:</span>            <span class="er">*</span>A<span class="sc">:</span>            <span class="er">*</span>A<span class="sc">:</span>            <span class="er">*</span>A<span class="sc">:</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">17</span><span class="sc">:</span>            <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">18</span><span class="sc">:</span>          <span class="er">*</span><span class="fu">met</span>(c)        <span class="sc">*</span><span class="fu">met</span>(c)        <span class="sc">*</span><span class="fu">met</span>(c)        <span class="sc">*</span><span class="fu">met</span>(c)</span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">19</span><span class="sc">:</span>           <span class="er">*</span>MM100         <span class="sc">*</span>MM100         <span class="sc">*</span>MM100         <span class="sc">*</span>MM100</span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">20</span><span class="sc">:</span>                .              .              .              .</span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">21</span><span class="sc">:</span>                .              .              .              .</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">22</span><span class="sc">:</span>               <span class="er">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">23</span><span class="sc">:</span>              <span class="dv">4</span>F<span class="co">#            4c#            4f#             4a</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">24</span><span class="sc">:</span>              <span class="dv">4</span>C<span class="co">#           8c#L             4e             4a</span></span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">25</span><span class="sc">:</span>                .            <span class="dv">8</span>BJ              .              .</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">26</span><span class="sc">:</span>               <span class="dv">4</span>D            <span class="dv">8</span>AL            <span class="dv">4</span>f<span class="co">#             4a</span></span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">27</span><span class="sc">:</span>                .           <span class="dv">8</span>G<span class="co">#J              .              .</span></span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">28</span><span class="sc">:</span>              <span class="dv">4</span>D<span class="co">#            4F#            4f#             4b</span></span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">29</span><span class="sc">:</span>               <span class="er">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">30</span><span class="sc">:</span>               <span class="dv">4</span>E            <span class="fl">4.</span>B             <span class="dv">4</span>e             <span class="dv">4</span>g</span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">31-124</span><span class="sc">:::</span><span class="er">:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## ^^^ chor002.krn ^^^ #########################</span></span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a><span class="er">&gt;</span>           (six more pieces...)</span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## vvv chor010.krn vvv #########################</span></span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-70</span><span class="sc">:::</span><span class="er">:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">71</span><span class="sc">:</span>               <span class="dv">4</span>D            <span class="dv">8</span>F<span class="co">#             4d             4b</span></span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">72</span><span class="sc">:</span>                .             <span class="dv">4</span>G              .              .</span>
<span id="cb5-47"><a href="#cb5-47" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">73</span><span class="sc">:</span>               <span class="dv">4</span>D              .             <span class="dv">4</span>c             <span class="dv">4</span>a</span>
<span id="cb5-48"><a href="#cb5-48" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">74</span><span class="sc">:</span>                .            <span class="dv">8</span>F<span class="co">#              .              .</span></span>
<span id="cb5-49"><a href="#cb5-49" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">75</span><span class="sc">:</span>             <span class="dv">2</span>GG;            <span class="dv">2</span>G;            <span class="dv">2</span>B;            <span class="dv">2</span>g;</span>
<span id="cb5-50"><a href="#cb5-50" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">76</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb5-51"><a href="#cb5-51" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">77</span><span class="sc">:</span>               <span class="dv">2</span>C             <span class="dv">2</span>G             <span class="dv">2</span>e             <span class="dv">2</span>g</span>
<span id="cb5-52"><a href="#cb5-52" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">78</span><span class="sc">:</span>              <span class="dv">4</span>AA             <span class="dv">4</span>A             <span class="dv">4</span>e            <span class="dv">4</span>cc</span>
<span id="cb5-53"><a href="#cb5-53" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">79</span><span class="sc">:</span>               <span class="dv">4</span>E            <span class="dv">4</span>G<span class="co">#            8eL             4b</span></span>
<span id="cb5-54"><a href="#cb5-54" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">80</span><span class="sc">:</span>                .              .            <span class="dv">8</span>dJ              .</span>
<span id="cb5-55"><a href="#cb5-55" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">81</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb5-56"><a href="#cb5-56" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">82</span><span class="sc">:</span>               <span class="dv">4</span>F             <span class="dv">4</span>A             <span class="dv">4</span>c             <span class="dv">4</span>a</span>
<span id="cb5-57"><a href="#cb5-57" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">83</span><span class="sc">:</span>               <span class="dv">4</span>C             <span class="dv">4</span>G             <span class="dv">4</span>c             <span class="dv">4</span>e</span>
<span id="cb5-58"><a href="#cb5-58" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">84</span><span class="sc">:</span>             <span class="dv">4</span>BB<span class="sc">-</span>             <span class="dv">4</span>G            [<span class="dv">2</span>d             <span class="dv">4</span>g</span>
<span id="cb5-59"><a href="#cb5-59" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">85</span><span class="sc">:</span>              <span class="dv">4</span>AA             <span class="dv">4</span>A              .             <span class="dv">4</span>f</span>
<span id="cb5-60"><a href="#cb5-60" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">86</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb5-61"><a href="#cb5-61" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">87</span><span class="sc">:</span>             <span class="dv">4</span>GG<span class="co">#             4B            4d]            1e;</span></span>
<span id="cb5-62"><a href="#cb5-62" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">88</span><span class="sc">:</span>              <span class="dv">4</span>AA             <span class="dv">4</span>A             <span class="dv">4</span>c              .</span>
<span id="cb5-63"><a href="#cb5-63" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">89</span><span class="sc">:</span>             <span class="dv">2</span>EE;          <span class="dv">2</span>G<span class="co">#X;            2B;              .</span></span>
<span id="cb5-64"><a href="#cb5-64" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">90</span><span class="sc">:</span>               <span class="er">==</span>             <span class="er">==</span>             <span class="er">==</span>             <span class="er">==</span></span>
<span id="cb5-65"><a href="#cb5-65" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">91</span><span class="sc">:</span>               <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span></span>
<span id="cb5-66"><a href="#cb5-66" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb5-67"><a href="#cb5-67" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb5-68"><a href="#cb5-68" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb5-69"><a href="#cb5-69" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> <span class="dv">4</span>th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb5-70"><a href="#cb5-70" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb5-71"><a href="#cb5-71" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb5-72"><a href="#cb5-72" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, <span class="dv">4</span>th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb5-73"><a href="#cb5-73" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb5-74"><a href="#cb5-74" tabindex="-1"></a><span class="sc">&gt;</span>              <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb5-75"><a href="#cb5-75" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## ^^^ chor010.krn ^^^ #########################</span></span>
<span id="cb5-76"><a href="#cb5-76" tabindex="-1"></a><span class="er">&gt;</span>                  (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb5-77"><a href="#cb5-77" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb5-78"><a href="#cb5-78" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of eight pieces.</span>
<span id="cb5-79"><a href="#cb5-79" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb5-80"><a href="#cb5-80" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb5-81"><a href="#cb5-81" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="splittingseparating-data">Splitting/Separating Data<a class="anchor" aria-label="anchor" href="#splittingseparating-data"></a>
</h2>
<p>Humdrum data often packs multiple pieces of information into compact,
concise, readable tokens. The classic example, or course, is
<code>**kern</code> itself which often includes rhythm, pitch, phrasing,
beaming, and pitch ornamentation information! These tokens are great for
reading/writing, but not for analyzing, so we typically want to separate
the information we do want.</p>
<div class="section level4">
<h4 id="isolating-pitch-and-rhythm">Isolating Pitch and Rhythm<a class="anchor" aria-label="anchor" href="#isolating-pitch-and-rhythm"></a>
</h4>
<p>As we’ve seen, the <code>**kern</code> spines in our example file
include rhythmic data (<code>**recip</code>) <em>and</em> pitch data. In
some cases, we might want to access <em>both</em> pieces of information,
but separately. We can separate them by applying different functions to
the <code>Token</code> field, and saving the output to new fields. For
example,</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Rhythm =</span> <span class="fu">recip</span>(Token),</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>         <span class="at">Pitch =</span> <span class="fu">kern</span>(Token)) <span class="ot">-&gt;</span> example</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>example</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>    <span class="er">**</span>recip<span class="sc">**</span>kern  <span class="sc">**</span>recip<span class="sc">**</span>kern  <span class="sc">**</span>recip<span class="sc">**</span>kern  <span class="sc">**</span>recip<span class="sc">**</span>kern    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                .              .              .              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                .              .              .              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>            <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>              .          <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>              <span class="er">*</span>C<span class="sc">:</span>              .            <span class="sc">*</span>C<span class="sc">:</span>              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>              <span class="fl">4.</span>c              .            <span class="fl">4.</span>e              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>               <span class="dv">8</span>d              .             <span class="dv">8</span>f              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>               <span class="dv">4</span>e              .             <span class="dv">4</span>g              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>               <span class="dv">4</span>f              .             <span class="dv">4</span>a              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                <span class="er">=</span>              <span class="er">=</span>              <span class="er">=</span>              <span class="er">=</span>    <span class="er">***</span></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>               <span class="dv">2</span>g              .            <span class="dv">4</span>dd              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                .              .            <span class="dv">4</span>cc              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>               <span class="dv">2</span>g              .             <span class="dv">2</span>b              .    <span class="sc">**</span><span class="er">*</span></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>               <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>    <span class="er">***</span></span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a><span class="er">&gt;</span>                    (<span class="sc">**</span><span class="er">*</span>one spine<span class="sc">/</span>path not displayed due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Pitch  <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>kern tokens)</span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Rhythm <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>recip tokens)</span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a><span class="sc">&gt;</span>                Token  <span class="sc">::</span> character</span></code></pre></div>
<p>Hey, the printout kind of looks the same…but if you look at the
bottom you’ll see that there are now separte <code>Pitch</code> and
<code>Rhythm</code> fields. Since both fields are automatically selected
by <code>mutate()</code>, we are seeing them both. But we could, for
example, select one or the other field,</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>example <span class="sc">|&gt;</span> <span class="fu">select</span>(Pitch)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>        <span class="er">**</span>kern      <span class="sc">**</span>kern      <span class="sc">**</span>kern      <span class="sc">**</span>kern      <span class="sc">**</span>kern</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>           <span class="er">*</span>C<span class="sc">:</span>           .         <span class="sc">*</span>C<span class="sc">:</span>           .         <span class="sc">*</span>C<span class="sc">:</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>             c           .           e           .           .</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>             d           .           f           .           .</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>             e           .           g           .           .</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>             f           .           a           .           .</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>             <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>             g           .          dd           .           .</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>             .           .          cc           .           .</span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>             g           .           b           .           .</span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>            <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Pitch  <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>kern tokens)</span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="sc">&gt;</span>                Rhythm <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>recip tokens)</span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="sc">&gt;</span>                Token  <span class="sc">::</span> character</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>example <span class="sc">|&gt;</span> <span class="fu">select</span>(Rhythm)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>       <span class="er">**</span>recip     <span class="sc">**</span>recip     <span class="sc">**</span>recip     <span class="sc">**</span>recip     <span class="sc">**</span>recip</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>         <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>           .       <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>           .           .</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>            <span class="fl">4.</span>           .          <span class="fl">4.</span>           .           .</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>             <span class="dv">8</span>           .           <span class="dv">8</span>           .           .</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>             <span class="dv">4</span>           .           <span class="dv">4</span>           .           .</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>             <span class="dv">4</span>           .           <span class="dv">4</span>           .           .</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>             <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>             <span class="dv">2</span>           .           <span class="dv">4</span>           .          <span class="dv">64</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>             .           .           <span class="dv">4</span>           .           .</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>             <span class="dv">2</span>           .           <span class="dv">2</span>           .           .</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>            <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="er">&gt;</span>                Pitch  <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>kern tokens)</span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Rhythm <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>recip tokens)</span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="sc">&gt;</span>                Token  <span class="sc">::</span> character</span></code></pre></div>
<p>or run commands using them. For example, we could tabulate pitches
wherever the rhythmic duration is a quarter note:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">filter</span>(Rhythm <span class="sc">==</span> <span class="st">'4'</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">count</span>(Pitch)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="sc">&gt;</span>    humdrumR count distribution </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="sc">&gt;</span>    Pitch  n</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="sc">&gt;</span>        C  .</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="sc">&gt;</span>       C<span class="co">#  .</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="sc">&gt;</span>        D  .</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="sc">&gt;</span>       E<span class="sc">-</span>  .</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="sc">&gt;</span>        E  .</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="sc">&gt;</span>        F  .</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="sc">&gt;</span>       F<span class="co">#  .</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="sc">&gt;</span>        G  .</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="sc">&gt;</span>       A<span class="sc">-</span>  .</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="sc">&gt;</span>        A  .</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="sc">&gt;</span>       B<span class="sc">-</span>  .</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="sc">&gt;</span>        B  .</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="sc">&gt;</span>        c  .</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="sc">&gt;</span>       c<span class="co">#  .</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="sc">&gt;</span>        d  .</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="sc">&gt;</span>       e<span class="sc">-</span>  .</span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="sc">&gt;</span>        e  <span class="dv">1</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="sc">&gt;</span>        f  <span class="dv">1</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="sc">&gt;</span>       f<span class="co">#  .</span></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="sc">&gt;</span>        g  <span class="dv">1</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="sc">&gt;</span>       a<span class="sc">-</span>  .</span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="sc">&gt;</span>        a  <span class="dv">1</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="sc">&gt;</span>       b<span class="sc">-</span>  .</span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="sc">&gt;</span>        b  .</span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a><span class="sc">&gt;</span>       cc  <span class="dv">1</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="sc">&gt;</span>      cc<span class="co">#  .</span></span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a><span class="sc">&gt;</span>       dd  <span class="dv">1</span></span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a><span class="sc">&gt;</span>      ee<span class="sc">-</span>  .</span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a><span class="sc">&gt;</span>       ee  .</span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a><span class="sc">&gt;</span>       ff  .</span>
<span id="cb9-36"><a href="#cb9-36" tabindex="-1"></a><span class="sc">&gt;</span>      ff<span class="co">#  .</span></span>
<span id="cb9-37"><a href="#cb9-37" tabindex="-1"></a><span class="sc">&gt;</span>       gg  .</span>
<span id="cb9-38"><a href="#cb9-38" tabindex="-1"></a><span class="sc">&gt;</span>      aa<span class="sc">-</span>  .</span>
<span id="cb9-39"><a href="#cb9-39" tabindex="-1"></a><span class="sc">&gt;</span>       aa  .</span>
<span id="cb9-40"><a href="#cb9-40" tabindex="-1"></a><span class="sc">&gt;</span>      bb<span class="sc">-</span>  .</span>
<span id="cb9-41"><a href="#cb9-41" tabindex="-1"></a><span class="sc">&gt;</span>       bb  .</span>
<span id="cb9-42"><a href="#cb9-42" tabindex="-1"></a><span class="sc">&gt;</span>    Pitch  n</span>
<span id="cb9-43"><a href="#cb9-43" tabindex="-1"></a><span class="sc">&gt;</span>    humdrumR count distribution</span></code></pre></div>
<p>This is only possible because we separated the information which was
originally “pasted” together in the <code>**kern</code> tokens.</p>
</div>
<div class="section level3">
<h3 id="rend">Rend<a class="anchor" aria-label="anchor" href="#rend"></a>
</h3>
<p>What if actually want to move the rhythm and pitch information to
separate spines—i.e., into their rows in the humdrum table? Use
<code><a href="../reference/rend.html">rend()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="fu">rend</span>(Rhythm, Pitch)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>       <span class="er">**</span>recip     <span class="sc">**</span>recip     <span class="sc">**</span>recip     <span class="sc">**</span>recip     <span class="sc">**</span>recip</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>         <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>       <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>           .</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>             .           .           .           .           .</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>            <span class="fl">4.</span>           c          <span class="fl">4.</span>           e           .</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>             <span class="dv">8</span>           d           <span class="dv">8</span>           f           .</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>             <span class="dv">4</span>           e           <span class="dv">4</span>           g           .</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>             <span class="dv">4</span>           f           <span class="dv">4</span>           a           .</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>             <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span>           <span class="er">=</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>             <span class="dv">2</span>           g           <span class="dv">4</span>          dd          <span class="dv">64</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>             .           .           <span class="dv">4</span>          cc           .</span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>             <span class="dv">2</span>           g           <span class="dv">2</span>           b           .</span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>            <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span>          <span class="er">*</span><span class="sc">-</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Rhythm.Pitch <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>recip tokens)</span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a><span class="sc">&gt;</span>                Token        <span class="sc">::</span> character</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="cleave-pastingaligning">Cleave (Pasting/Aligning)<a class="anchor" aria-label="anchor" href="#cleave-pastingaligning"></a>
</h2>
<p>The next step might be to align/combine information that is currently
separated. In many humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> datasets, we have multiple
pieces of information spread across multiple spines, or in some cases,
across spine paths or stops. If, given our research question, we need to
think of multiple pieces of information as describing a <em>single data
point</em>, we’ll need to reshape the data. For example, in our
<code>example</code> file the <code>**silbe</code> (lyric) spines
associate each syllable with exactly one note in the adjacent
<code>**kern</code> spines. Currently, by default, each
<code>**kern</code> token <em>and</em> each <code>**silbe</code> token
are in their own, separate row of the humdrum table. We want them in the
<em>same</em> row. In the humdrum syntax view, this means moving the
<code>**silbe</code> data into the same location as the
<code>**kern</code> tokens.</p>
<div class="section level3">
<h3 id="cleaving-spines">Cleaving Spines<a class="anchor" aria-label="anchor" href="#cleaving-spines"></a>
</h3>
<p>To take separate spines—like <code>**kern</code> and
<code>**silbe</code>—and paste them together, we use
<code><a href="../reference/cleave.html">cleave()</a></code>; as in “to cleave together.” Simply run cleave,
and tell it which spines to cleave together. In our <code>example</code>
file, the 1st and 3rd spines are <code>**kern</code> while the 2nd and
4th spines are <code>**silbe</code>, so we can tell <code>cleave</code>
to cleave together <code>1:2</code> and <code>3:4</code>:</p>
<p>In our example, we want to align the notes in the <code>**kern</code>
spines with the syllables in the <code>**silbe</code> spine. We can do
this directly using <code><a href="../reference/cleave.html">cleave()</a></code>: use the <code>fold</code>
argument to indicate which spine to fold, and the <code>onto</code>
argument to indicate which spine to move it onto.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################## vvv Reshaping_example.hum vvv ##################</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>         <span class="er">**</span>kern<span class="sc">**</span>silbe       <span class="sc">**</span>kern<span class="sc">**</span>silbe          <span class="sc">**</span>harm</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox               <span class="sc">*</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn               <span class="sc">*</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>             <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>               <span class="fl">4.</span>cThis             <span class="fl">4.</span>eThis               I</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="dv">8</span>dis                <span class="dv">8</span>fis               .</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                  <span class="dv">4</span>ean                <span class="dv">4</span>gan               .</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                 <span class="dv">4</span>fex<span class="sc">-</span>               <span class="dv">4</span>aex<span class="sc">-</span>              IV</span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>               <span class="er">=</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                <span class="dv">2</span>g<span class="sc">-</span>am<span class="sc">-</span>             <span class="dv">4</span>dd<span class="sc">-</span>am<span class="sc">-</span>             I64</span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                <span class="dv">4</span>cc_               .</span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                <span class="dv">2</span>g<span class="sc">-</span>ple              <span class="dv">2</span>b<span class="sc">-</span>ple               V</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>              <span class="er">*</span><span class="sc">-</span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################## ^^^ Reshaping_example.hum ^^^ ##################</span></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Spine2<span class="sc">|</span><span class="dv">4</span> <span class="sc">::</span> character</span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token    <span class="sc">::</span> character</span></code></pre></div>
<p>It worked! The 1st and 3rd spines have dissappeared, with their
content now in the 1st and 3rd spines. But notice that the cleave put
some data into a new field, which it has called <code>Spine2|4</code>.
We can improve this name using the <code>newFields</code> argument:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">newFields =</span> <span class="st">'Silbe'</span>) <span class="ot">-&gt;</span> example</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>example</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################## vvv Reshaping_example.hum vvv ##################</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>         <span class="er">**</span>kern<span class="sc">**</span>silbe       <span class="sc">**</span>kern<span class="sc">**</span>silbe          <span class="sc">**</span>harm</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox               <span class="sc">*</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn               <span class="sc">*</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>             <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>               <span class="fl">4.</span>cThis             <span class="fl">4.</span>eThis               I</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="dv">8</span>dis                <span class="dv">8</span>fis               .</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                  <span class="dv">4</span>ean                <span class="dv">4</span>gan               .</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                 <span class="dv">4</span>fex<span class="sc">-</span>               <span class="dv">4</span>aex<span class="sc">-</span>              IV</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>               <span class="er">=</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                <span class="dv">2</span>g<span class="sc">-</span>am<span class="sc">-</span>             <span class="dv">4</span>dd<span class="sc">-</span>am<span class="sc">-</span>             I64</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                <span class="dv">4</span>cc_               .</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                <span class="dv">2</span>g<span class="sc">-</span>ple              <span class="dv">2</span>b<span class="sc">-</span>ple               V</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>              <span class="er">*</span><span class="sc">-</span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################## ^^^ Reshaping_example.hum ^^^ ##################</span></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Silbe <span class="sc">::</span> character</span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>But, wait, where did the <code>**kern</code> and <code>**sible</code>
data go exactly? Well, since the <code>**kern</code> spines were the
first spines we indicated to <code><a href="../reference/cleave.html">cleave()</a></code>, that data stays in
the original <code>Token</code> field. The other spines—which in this
case are the <code>**sible</code> data—are put into the new field(s).
See:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>example <span class="sc">|&gt;</span> <span class="fu">select</span>(Token)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern              <span class="sc">**</span>harm</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox                   <span class="sc">*</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn                   <span class="sc">*</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                   <span class="fl">4.</span>c                 <span class="fl">4.</span>e                   I</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    <span class="dv">8</span>d                  <span class="dv">8</span>f                   .</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                    <span class="dv">4</span>e                  <span class="dv">4</span>g                   .</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                    <span class="dv">4</span>f                  <span class="dv">4</span>a                  IV</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                    <span class="dv">2</span>g                 <span class="dv">4</span>dd                 I64</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                 <span class="dv">4</span>cc                   .</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                    <span class="dv">2</span>g                  <span class="dv">2</span>b                   V</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a><span class="er">&gt;</span>                Silbe <span class="sc">::</span> character</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>example <span class="sc">|&gt;</span> <span class="fu">select</span>(Silbe)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>               <span class="er">**</span>silbe             <span class="sc">**</span>silbe              <span class="sc">**</span>harm</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox                   <span class="sc">*</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn                   <span class="sc">*</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                  This                This                   .</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    is                  is                   .</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                    an                  an                   .</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                   ex<span class="sc">-</span>                 ex<span class="sc">-</span>                   .</span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                  <span class="sc">-</span>am<span class="sc">-</span>                <span class="sc">-</span>am<span class="sc">-</span>                   .</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                   _                   .</span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                  <span class="sc">-</span>ple                <span class="sc">-</span>ple                   .</span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Silbe <span class="sc">::</span> character</span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a><span class="sc">&gt;</span>                Token <span class="sc">::</span> character</span></code></pre></div>
<p>Notice that the fifth spine, which wasn’t part of the cleave, is also
left untouched in the <code>Token</code> field.</p>
<hr>
<p>In some datasets, there might be different numbers of
<code>**kern</code>/<code>**silbe</code> spines in different files
within the dataset. In these cases, it will be much smarter to pass
<code><a href="../reference/cleave.html">cleave()</a></code> the names of the exclusive intepretations we want
to cleave. We should get the same result we got manually before:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="fu">c</span>(<span class="st">'kern'</span>, <span class="st">'silbe'</span>))</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################## vvv Reshaping_example.hum vvv ##################</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>         <span class="er">**</span>kern<span class="sc">**</span>silbe       <span class="sc">**</span>kern<span class="sc">**</span>silbe          <span class="sc">**</span>harm</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">*</span>ICvox              <span class="sc">*</span>ICvox               <span class="sc">*</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                <span class="er">*</span>Ialto             <span class="sc">*</span>Isoprn               <span class="sc">*</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>             <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>               <span class="fl">4.</span>cThis             <span class="fl">4.</span>eThis               I</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="dv">8</span>dis                <span class="dv">8</span>fis               .</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                  <span class="dv">4</span>ean                <span class="dv">4</span>gan               .</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                 <span class="dv">4</span>fex<span class="sc">-</span>               <span class="dv">4</span>aex<span class="sc">-</span>              IV</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>               <span class="er">=</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                <span class="dv">2</span>g<span class="sc">-</span>am<span class="sc">-</span>             <span class="dv">4</span>dd<span class="sc">-</span>am<span class="sc">-</span>             I64</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                     .                <span class="dv">4</span>cc_               .</span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                <span class="dv">2</span>g<span class="sc">-</span>ple              <span class="dv">2</span>b<span class="sc">-</span>ple               V</span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>              <span class="er">*</span><span class="sc">-</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################## ^^^ Reshaping_example.hum ^^^ ##################</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Silbe <span class="sc">::</span> character</span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<hr>
<p>What if we want to study the note combinations that are formed
between the two <code>**kern</code> spines? As they are, this would be
hard because the tokens from each spine are all in their own rows.
However, we could <code><a href="../reference/cleave.html">cleave()</a></code> together the two kern spines!
(We’ll also isolate <em>just</em> the <code>**kern</code> spines for
this.)</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  <span class="fu">index2</span>( , <span class="st">'**kern'</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>  <span class="fu">kern</span>(<span class="at">simple =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="sc">&gt;</span>    humdrumR count distribution </span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="sc">&gt;</span>    Kern  Spine2                  </span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="sc">&gt;</span>               a  b  c  d  e  f  g</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="cn">NA</span>       .  .  <span class="dv">1</span>  .  .  .  .</span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="sc">&gt;</span>       c       .  .  .  .  <span class="dv">1</span>  .  .</span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="sc">&gt;</span>      c<span class="co">#       .  .  .  .  .  .  .</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="sc">&gt;</span>       d       .  .  .  .  .  <span class="dv">1</span>  .</span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="sc">&gt;</span>      e<span class="sc">-</span>       .  .  .  .  .  .  .</span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="sc">&gt;</span>       e       .  .  .  .  .  .  <span class="dv">1</span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="sc">&gt;</span>       f       <span class="dv">1</span>  .  .  .  .  .  .</span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a><span class="sc">&gt;</span>      f<span class="co">#       .  .  .  .  .  .  .</span></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="sc">&gt;</span>       g       .  <span class="dv">1</span>  .  <span class="dv">1</span>  .  .  .</span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="sc">&gt;</span>      a<span class="sc">-</span>       .  .  .  .  .  .  .</span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a><span class="sc">&gt;</span>       a       .  .  .  .  .  .  .</span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a><span class="sc">&gt;</span>      b<span class="sc">-</span>       .  .  .  .  .  .  .</span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a><span class="sc">&gt;</span>       b       .  .  .  .  .  .  .</span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a><span class="sc">&gt;</span>               a  b  c  d  e  f  g</span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="sc">&gt;</span>    Kern  Spine2                  </span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a><span class="sc">&gt;</span>    humdrumR count distribution</span></code></pre></div>
<div class="section level4">
<h4 id="multi-cleaving">Multi-cleaving<a class="anchor" aria-label="anchor" href="#multi-cleaving"></a>
</h4>
<p>What about that <code>**harm</code> spine in our data. Unlike the
<code>**silbe</code> spines, the <code>**harm</code> spine is not
“paired up” with the <code>**kern</code> spines. Rather, the
<code>**harm</code> actually describes what is happening in the entire
<em>record</em> of data. The chords indicated in this spine are
associated with the pitches in both, or either, of the
<code>**kern</code> spines. Luckily, <code><a href="../reference/cleave.html">cleave()</a></code> will handle
this:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example.hum'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>example <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="fu">c</span>(<span class="st">'kern'</span>, <span class="st">'harm'</span>))</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">################### vvv Reshaping_example.hum vvv ####################</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>        <span class="er">**</span>kern<span class="sc">**</span>harm      <span class="sc">**</span>silbe      <span class="sc">**</span>kern<span class="sc">**</span>harm      <span class="sc">**</span>silbe</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>              <span class="er">*</span>ICvox            <span class="sc">*</span>            <span class="er">*</span>ICvox            <span class="sc">*</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>              <span class="er">*</span>Ialto            <span class="sc">*</span>           <span class="er">*</span>Isoprn            <span class="sc">*</span></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>               <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>            <span class="sc">*</span>             <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>            <span class="sc">*</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>            <span class="er">*</span>               <span class="er">*</span>C<span class="sc">:</span>            <span class="er">*</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                <span class="fl">4.</span>cI         This              <span class="fl">4.</span>eI         This</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="dv">8</span>d           is                <span class="dv">8</span>f           is</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                  <span class="dv">4</span>e           an                <span class="dv">4</span>g           an</span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                <span class="dv">4</span>fIV          ex<span class="sc">-</span>              <span class="dv">4</span>aIV          ex<span class="sc">-</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                   <span class="er">=</span>            <span class="er">=</span>                 <span class="er">=</span>            <span class="er">=</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>               <span class="dv">2</span>gI64         <span class="sc">-</span>am<span class="sc">-</span>            <span class="dv">4</span>ddI64         <span class="sc">-</span>am<span class="sc">-</span></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                   .            .               <span class="dv">4</span>cc            _</span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                 <span class="dv">2</span>gV         <span class="sc">-</span>ple               <span class="dv">2</span>bV         <span class="sc">-</span>ple</span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                  <span class="er">*</span><span class="sc">-</span>           <span class="er">*</span><span class="sc">-</span>                <span class="er">*</span><span class="sc">-</span>           <span class="er">*</span><span class="sc">-</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">################### ^^^ Reshaping_example.hum ^^^ ####################</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Harm  <span class="sc">::</span> character</span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>Data from the <code>**harm</code> spine is copied <em>twice</em> into
a new field “on top of” <em>both</em> <code>**kern</code> spines!</p>
</div>
</div>
<div class="section level3">
<h3 id="cleaving-stops-and-paths">Cleaving Stops and Paths<a class="anchor" aria-label="anchor" href="#cleaving-stops-and-paths"></a>
</h3>
<p>Though spines are the most common structure in humdrum data that you
might need to “cleave” together, we can also cleave other structures. Of
course, it depends on what questions you are trying to ask of your
data!</p>
<div class="section level4">
<h4 id="multi-stops">Multi-Stops<a class="anchor" aria-label="anchor" href="#multi-stops"></a>
</h4>
<p>Consider this example, with multi-stop chords in a
<code>**kern</code> spine:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>example_stops <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example2_stops.hum'</span>)</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>example_stops</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">###### vvv Reshaping_example2_stops.hum vvv ######</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>harm</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                    <span class="dv">4</span>c                   I</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="dv">4</span>B                  Vb</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>               <span class="dv">4</span>B<span class="sc">-</span> d g                  vb</span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                <span class="dv">4</span>A d f                 IVb</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                <span class="dv">2</span>G c e                 I64</span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                <span class="dv">2</span>G B d                   V</span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">###### ^^^ Reshaping_example2_stops.hum ^^^ ######</span></span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>By default, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>
treats each token (note) in <em>each</em> stop as a separate data
observation, with its own row in the humdrum table. If we are studying
harmony, we might want to align those stops “on top” of each other, in
different fields. But, we can cleave the stops together, putting them
each into their own field!</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>example_stops <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="at">Stop =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">###### vvv Reshaping_example2_stops.hum vvv ######</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>harm</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                    <span class="dv">4</span>c                   I</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="dv">4</span>B                  Vb</span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                 <span class="dv">4</span>B<span class="sc">-</span>dg                  vb</span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="dv">4</span>Adf                 IVb</span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                  <span class="dv">2</span>Gce                 I64</span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                  <span class="dv">2</span>GBd                   V</span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">###### ^^^ Reshaping_example2_stops.hum ^^^ ######</span></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Stop2 <span class="sc">::</span> character</span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Stop3 <span class="sc">::</span> character</span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>The first stop (<code>Stop == 1</code>) is left in the
<code>Token</code> field, but we get new <code>Stop2</code> and
<code>Stop3</code> fields holding the other stops!</p>
</div>
<div class="section level4">
<h4 id="spine-paths">Spine Paths<a class="anchor" aria-label="anchor" href="#spine-paths"></a>
</h4>
<p>When working with spine paths, it is often less obvious how we should
interpret different paths in terms of data observations, but if you want
to cleave them, you can. Don’t forget that <code>Path</code> is numbered
starting from <code>0</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>example_paths <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Reshaping_example3_paths.hum'</span>)</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>example_paths <span class="sc">|&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>  <span class="fu">cleave</span>(<span class="at">Path =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">###### vvv Reshaping_example3_paths.hum vvv ######</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>harm</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>                   <span class="sc">*</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                    <span class="dv">4</span>c                   I</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="dv">4</span>d                   .</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                    <span class="dv">4</span>e                   .</span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    <span class="er">*^</span>                   <span class="er">*</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                  <span class="dv">4</span>d4f                  ii</span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                  <span class="dv">2</span>c2g                   I</span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                  <span class="dv">2</span>B2g                  Vb</span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                    <span class="er">*</span>v                   <span class="sc">*</span></span>
<span id="cb20-18"><a href="#cb20-18" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb20-19"><a href="#cb20-19" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb20-20"><a href="#cb20-20" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">###### ^^^ Reshaping_example3_paths.hum ^^^ ######</span></span>
<span id="cb20-21"><a href="#cb20-21" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb20-22"><a href="#cb20-22" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb20-23"><a href="#cb20-23" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Path1 <span class="sc">::</span> character</span>
<span id="cb20-24"><a href="#cb20-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
