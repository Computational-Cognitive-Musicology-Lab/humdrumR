<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="humdrumR">
<title>Time, rhythm, and meter in humdrumR • humdrumR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Time, rhythm, and meter in humdrumR">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    <a href="https://gatech.edu" class="external-link"><img src="gt-logo.svg" alt="Georgia Tech" style="height:50px; padding-right:20px;"></a> <a href="https://ccml.gtcmt.gatech.edu" class="external-link"><img src="CCMLbanner.png" alt="CCMLab" style="height:80px; padding-right:20px;"></a>
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/DataFields.html">HumdrumR Data Fields</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing humdrum data</a>
    <a class="dropdown-item" href="../articles/ComplexSyntax.html">Complex humdrum syntax</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your humdrum data</a>
    <a class="dropdown-item" href="../articles/Grouping.html">Grouping humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ccml.music.gatech.edu/humdrumR">GUI</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Time, rhythm, and meter in humdrumR</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Condit-Schultz</h4>
            
            <h4 data-toc-skip class="date">2024-10-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/vignettes/RhythmAndMeter.Rmd" class="external-link"><code>vignettes/RhythmAndMeter.Rmd</code></a></small>
      <div class="d-none name"><code>RhythmAndMeter.Rmd</code></div>
    </div>

    
    
<p>As a computational musicology toolkit, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>’s tools for analyzing and
manipulating rhythmic (timing) information are just about the most
important tools in the toolbox. For the most part, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>’s rhythm tools are focused
on the Western notions of rhythm and meter, but the tools can easily be
generalized to more diverse notions of rhythm and time.</p>
<div class="section level2">
<h2 id="durations">Durations<a class="anchor" aria-label="anchor" href="#durations"></a>
</h2>
<p>The fundamental unit of rhythm is a “duration”—a span of time.
Humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> defines a
suite of rhythm functions, notably <code><a href="../reference/recip.html">recip()</a></code> and
<code><a href="../reference/duration.html">duration()</a></code>. These functions all work in essentially the
same way: they take in an input argument and output rhythm (duration)
information in their own particular format. For example,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'4.c'</span>, <span class="st">'8d'</span>, <span class="st">'4e'</span>, <span class="st">'2.g'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">duration</span>(input)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">duration</span> (numeric)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">0.375</span> <span class="fl">0.125</span> <span class="fl">0.250</span> <span class="fl">0.750</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">recip</span>(input)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">4.</span> <span class="dv">8</span>  <span class="dv">4</span>  <span class="fl">2.</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">notehead</span>(input)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">notehead</span> (character)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] 𝅘𝅥 𝅭  𝅘𝅥𝅮    𝅘𝅥    𝅗𝅥 𝅭 </span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">quarters</span>(input)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">quarters</span> (numeric)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">1.5</span> <span class="fl">0.5</span> <span class="fl">1.0</span> <span class="fl">3.0</span></span></code></pre></div>
<p>Notice that the functions all recognize the rhythm part of these
input tokens, ignoring the non-rhythm (pitch) information. If you want
to keep the non-rhythm part of your tokens, use the <code>inPlace</code>
argument:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'4.c'</span>, <span class="st">'8d'</span>, <span class="st">'4e'</span>, <span class="st">'2.g'</span>)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="fu">duration</span>(input, <span class="at">inPlace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="st">"0.375c"</span> <span class="st">"0.125d"</span> <span class="st">"0.25e"</span>  <span class="st">"0.75g"</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">recip</span>(input, <span class="at">inPlace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="st">"4.c"</span> <span class="st">"8d"</span>  <span class="st">"4e"</span>  <span class="st">"2.g"</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">notehead</span>(input, <span class="at">inPlace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="st">"𝅘𝅥 𝅭 c"</span> <span class="st">"𝅘𝅥𝅮 d"</span>   <span class="st">"𝅘𝅥 e"</span>   <span class="st">"𝅗𝅥 𝅭 g"</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">quarters</span>(input, <span class="at">inPlace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="st">"1.5c"</span> <span class="st">"0.5d"</span> <span class="st">"1e"</span>   <span class="st">"3g"</span></span></code></pre></div>
<p>The cool thing is that each of these functions can read any of the
other function’s output. So you can do things like:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">recip</span>(<span class="fl">0.375</span>)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">4.</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">quarters</span>(<span class="st">'4.'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">quarters</span> (numeric)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">1.5</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">quarters</span>(<span class="fl">0.375</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">quarters</span> (numeric)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">1.5</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="fu">recip</span>(<span class="st">"𝅘𝅥 𝅭 "</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="fl">4.</span></span></code></pre></div>
<hr>
<p>The complete list of basic rhythm (duration) functions is:</p>
<ul>
<li>
<strong>Metric duration representations</strong>
<ul>
<li>
<em>Symbolic duration representations</em>
<ul>
<li>
<code>recip</code> (reciprocal note values)</li>
<li>
<code>notehead</code> (traditional note-value symbols)</li>
</ul>
</li>
<li>
<em>Numeric duration representations</em>
<ul>
<li>
<code>duration</code> (Whole notes)</li>
<li>
<code>quarters</code> (quarter notes/crotchets)</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Ametric duration representations</strong>
<ul>
<li>
<em>Symbolic duration representations</em>
<ul>
<li>
<code>dur</code> (durations of time)</li>
</ul>
</li>
<li>
<em>Numeric duration representations</em>
<ul>
<li><code>seconds</code></li>
<li>
<code>ms</code> (milliseconds)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section level5">
<h5 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h5>
<p>The global documentation for <em>all</em> the rhythm functions can be
seen by calling <code><a href="../reference/rhythmFunctions.html">?rhythmFunctions</a></code>. You can also call
documentation for any individual function, like <code><a href="../reference/recip.html">?recip</a></code>.</p>
</div>
<div class="section level4">
<h4 id="rhythm-arguments">Rhythm Arguments<a class="anchor" aria-label="anchor" href="#rhythm-arguments"></a>
</h4>
<p>The rhythm functions from the previous section have a few shared
arguments that they <em>all</em> understand: <code>scale</code> and
<code>unit</code>.</p>
</div>
<div class="section level4">
<h4 id="scale-and-unit">Scale and Unit<a class="anchor" aria-label="anchor" href="#scale-and-unit"></a>
</h4>
<p>The <code>scale</code> and <code>unit</code> arguments are
conceptually different, but can be used to achieve very similar
transformations, so it can be easy to confuse them. The
<code>scale</code> argument is the easiest to understand: it simply
(re)scales the output duration of the function. Would you like to <a href="https://en.wikipedia.org/wiki/Augmentation_(music)" class="external-link">augment</a>
durations? Perhaps doubling their length? Simply specify
<code>scale = 2</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="fu">recip</span>(<span class="fu">c</span>(<span class="st">'8'</span>,<span class="st">'4'</span>,<span class="st">'4.'</span>,<span class="st">'2'</span>), <span class="at">scale =</span> <span class="dv">2</span>)</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="dv">4</span>  <span class="dv">2</span>  <span class="fl">2.</span> <span class="dv">1</span></span></code></pre></div>
<p>Or maybe you’d like <a href="https://en.wikipedia.org/wiki/Diminution" class="external-link">diminish</a> the
durations, by cutting them in thirds?</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">recip</span>(<span class="fu">c</span>(<span class="st">'8'</span>,<span class="st">'4'</span>,<span class="st">'4.'</span>,<span class="st">'2'</span>), <span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="dv">24</span> <span class="dv">12</span> <span class="dv">8</span>  <span class="dv">6</span></span></code></pre></div>
<hr>
<p>Unlike <code>scale</code>, which controls the <em>output</em> scale,
<code>unit</code> controls the input scale. This is most useful with
numeric values. What do we mean by “controls the input scale”? Imagine
we have a bunch of duration values as numbers, like
<code>c(1, 1.5, 2, 1, 0.5, 1)</code>. But what unit is these numbers
counting? By default, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> treats them as <em>whole
notes</em>, so <code>0.5</code> is a half note, right? However, we might
prefer to think of these numbers as units of quarter notes—a very common
approach. This is what the <code>unit</code> argument is for. Because it
is an argument for the rhythm parser/interpreter, you must pass
<code>unit</code> through the <code>parseArgs</code> argument, which
must be a named list of values:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="fl">0.5</span>, <span class="dv">1</span>)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="fu">recip</span>(input)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="dv">1</span>  <span class="fl">1.</span> <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">recip</span>(input, <span class="at">parseArgs =</span> <span class="fu">list</span>(<span class="at">unit =</span> <span class="st">'4'</span>))</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">recip</span> (character)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="dv">4</span>  <span class="fl">4.</span> <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">8</span>  <span class="dv">4</span></span></code></pre></div>
<p>As you can see, you <em>can</em> achieve the same difference in
output using the <code>scale</code> argument (<code>scale = 1/4</code>),
but the <code>unit</code> argument is a little bit of a different way of
thinking about it.</p>
</div>
<div class="section level3">
<h3 id="special-cases">Special Cases<a class="anchor" aria-label="anchor" href="#special-cases"></a>
</h3>
<div class="section level4">
<h4 id="ioi">IOI<a class="anchor" aria-label="anchor" href="#ioi"></a>
</h4>
<p>In <code>**kern</code> data, some durations correspond to
<em>rests</em> in the music, rather than notes, indicated by an
<code>"r"</code>. In many analyses, we want to ignore rests and just
consider the durations (timespans) between notes, ignoring the presence
of rests. These are called <em>inter-onset-intervals</em>, or IOIs. The
<code><a href="../reference/ioi.html">ioi()</a></code> function can be used to convert duration data that
includes rests, into IOIs. For example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>melody <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'8g'</span>,<span class="st">'8f#'</span>, <span class="st">'8g'</span>, <span class="st">'8r'</span>, <span class="st">'8g'</span>, <span class="st">'8f#'</span>,<span class="st">'8e'</span>,<span class="st">'8d'</span>, <span class="st">'4d#'</span>, <span class="st">'8r'</span>, <span class="st">'8f#'</span>, <span class="st">'4b'</span>, <span class="st">'4r'</span>)</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="fu">ioi</span>(melody)</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="st">"8g"</span>   <span class="st">"8f#"</span>  <span class="st">"4g"</span>   <span class="st">"."</span>    <span class="st">"8g"</span>   <span class="st">"8f#"</span>  <span class="st">"8e"</span>   <span class="st">"8d"</span>   <span class="st">"4.d#"</span> <span class="st">"."</span>   </span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">11</span>] <span class="st">"8f#"</span>  <span class="cn">NA</span>     <span class="st">"."</span></span></code></pre></div>
<p>What did this do?</p>
<ol style="list-style-type: decimal">
<li>The duration of each rest is append to the duration of the previous
non-rest (if any).</li>
</ol>
<ul>
<li>The first <code>8g</code> becomes a <code>4g</code>
</li>
<li>The <code>4d#</code> becomes <code>4.d#</code>.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Rests are replaced by null tokens (<code>"."</code>).</li>
<li>The last note even is <code>NA</code>, because there is no more
onsets after it to create a inter-<em>onset</em>-interval.</li>
</ol>
<p>The last step here makes conceptual sense, but may not be what you
want! Maybe you’d like the interval between the last onset and the
<em>end</em> of the data? For that, specify
<code>finalOnset = TRUE</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="fu">ioi</span>(melody, <span class="at">finalOnset =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="st">"8g"</span>   <span class="st">"8f#"</span>  <span class="st">"4g"</span>   <span class="st">"."</span>    <span class="st">"8g"</span>   <span class="st">"8f#"</span>  <span class="st">"8e"</span>   <span class="st">"8d"</span>   <span class="st">"4.d#"</span> <span class="st">"."</span>   </span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">11</span>] <span class="st">"8f#"</span>  <span class="st">"2b"</span>   <span class="st">"."</span></span></code></pre></div>
<p>When used in a call to <code><a href="../reference/withinHumdrum.html">with()</a></code> or <code><a href="../reference/withinHumdrum.html">within()</a></code>,
<code><a href="../reference/ioi.html">ioi()</a></code> will automatically be applied within
Files/Spines/Paths.</p>
</div>
<div class="section level4">
<h4 id="ties">Ties<a class="anchor" aria-label="anchor" href="#ties"></a>
</h4>
<p>A similar case to inter-onset-intervals are <em>ties</em>. In
<code>**kern</code>, the <code>[</code>, <code>_</code>, and
<code>]</code> tokens are used to indicate groups of durations that are
actually played as a single, longer duration. The <code><a href="../reference/ioi.html">sumTies()</a></code>
function will automatically sum the durations of tied notes:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>melody <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'[2d'</span>, <span class="st">'8d]'</span>, <span class="st">'8d'</span>, <span class="st">'8f#'</span>, <span class="st">'8g#'</span>, <span class="st">'4.a'</span>, <span class="st">'[8b-'</span>, <span class="st">'2b-_'</span>, <span class="st">'4b-]'</span>, <span class="st">'4a'</span>, <span class="st">'2g#'</span>)</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="fu">sumTies</span>(melody)</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="st">"8%5d"</span>  <span class="st">"."</span>     <span class="st">"8d"</span>    <span class="st">"8f#"</span>   <span class="st">"8g#"</span>   <span class="st">"4.a"</span>   <span class="st">"2..b-"</span> <span class="st">"."</span>     <span class="st">"."</span>    </span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">10</span>] <span class="st">"4a"</span>    <span class="st">"2g#"</span></span></code></pre></div>
<p>The tie tokens are removed, and tied-notes are replaced by null
tokens (<code>"."</code>).</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="timeline">Timeline<a class="anchor" aria-label="anchor" href="#timeline"></a>
</h2>
<p>Traditional musical scores, and most humdrum data, encode rhythmic
information as duration, like what we worked on in the previous section.
However, we often want to think about when musical events are happening,
relative to a fixed reference: usually, relative to the beginning of the
piece. We can compute a <em>timeline</em> from sequences of duration
values, using the <code><a href="../reference/timeline.html">timeline()</a></code> function.</p>
<p>Let’s say we have a melody like:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">row</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'4c'</span>, <span class="st">'4c'</span>, <span class="st">'6c'</span>, <span class="st">'12d'</span>, <span class="st">'4e'</span>, <span class="st">'6e'</span>,<span class="st">'12d'</span>, <span class="st">'6e'</span>, <span class="st">'12f'</span>, <span class="st">'2g'</span>, </span>
<span>         <span class="st">'12cc'</span>, <span class="st">'12cc'</span>, <span class="st">'12cc'</span>, <span class="st">'12g'</span>, <span class="st">'12g'</span>, <span class="st">'12g'</span>, <span class="st">'12e'</span>, <span class="st">'12e'</span>, <span class="st">'12e'</span>, <span class="st">'12c'</span>, <span class="st">'12c'</span>, <span class="st">'12c'</span>, </span>
<span>         <span class="st">'6g'</span>,<span class="st">'12f'</span>, <span class="st">'6e'</span>, <span class="st">'12d'</span>,<span class="st">'2c'</span><span class="op">)</span></span></code></pre></div>
<p>Let’s look at a timeline for that melody:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="fu">timeline</span>(row)</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="fl">0.0000000</span> <span class="fl">0.2500000</span> <span class="fl">0.5000000</span> <span class="fl">0.6666667</span> <span class="fl">0.7500000</span> <span class="fl">1.0000000</span> <span class="fl">1.1666667</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">8</span>] <span class="fl">1.2500000</span> <span class="fl">1.4166667</span> <span class="fl">1.5000000</span> <span class="fl">2.0000000</span> <span class="fl">2.0833333</span> <span class="fl">2.1666667</span> <span class="fl">2.2500000</span></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">15</span>] <span class="fl">2.3333333</span> <span class="fl">2.4166667</span> <span class="fl">2.5000000</span> <span class="fl">2.5833333</span> <span class="fl">2.6666667</span> <span class="fl">2.7500000</span> <span class="fl">2.8333333</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">22</span>] <span class="fl">2.9166667</span> <span class="fl">3.0000000</span> <span class="fl">3.1666667</span> <span class="fl">3.2500000</span> <span class="fl">3.4166667</span> <span class="fl">3.5000000</span></span></code></pre></div>
<p>The first note (<code>4c</code>) occurs at zero (the beginning) of
the timeline; the last note (<code>2c</code>) lands <code>3.5</code>
whole-notes later; etc. If we combine this with a call to
<code><a href="../reference/semits.html">semits()</a></code> (check out the [Pitch and
Tonality][PitchAndTonality.html] guide) we can even make a plot of the
melody:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/timeline.html">timeline</a></span><span class="op">(</span><span class="va">row</span><span class="op">)</span>,</span>
<span>     y <span class="op">=</span> <span class="fu"><a href="../reference/semits.html">semits</a></span><span class="op">(</span><span class="va">row</span>, Exclusive <span class="op">=</span> <span class="st">'kern'</span><span class="op">)</span>,</span>
<span>     main <span class="op">=</span> <span class="st">'Row Row Row Your Boat'</span><span class="op">)</span></span></code></pre></div>
<p><img src="RhythmAndMeter_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<hr>
<p>The <code><a href="../reference/timeline.html">timeline()</a></code> function has extra special functionality
when working on actual humdrum datasets. It will automatically (unless
told not too) calculate timelines separately within each File/Spine/Path
of a dataset, ignoring multiple stops. For example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>chorales <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'HumdrumData/BachChorales/chor.*.krn'</span>)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>chorales <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>  <span class="fu">timeline</span>()</span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## vvv chor001.krn vvv #########################</span></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="er">&gt;</span>                <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a><span class="er">&gt;</span>                <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">8</span><span class="sc">:</span>           <span class="er">**</span>kern         <span class="sc">**</span>kern         <span class="sc">**</span>kern         <span class="sc">**</span>kern</span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">9</span><span class="sc">:</span>           <span class="er">*</span>ICvox         <span class="sc">*</span>ICvox         <span class="sc">*</span>ICvox         <span class="sc">*</span>ICvox</span>
<span id="cb23-15"><a href="#cb23-15" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">10</span><span class="sc">:</span>           <span class="er">*</span>Ibass        <span class="sc">*</span>Itenor         <span class="sc">*</span>Ialto        <span class="sc">*</span>Isoprn</span>
<span id="cb23-16"><a href="#cb23-16" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">11</span><span class="sc">:</span>          <span class="er">*</span>I<span class="st">"Bass       *I"</span>Tenor        <span class="sc">*</span>I<span class="st">"Alto     *I"</span>Soprano</span>
<span id="cb23-17"><a href="#cb23-17" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">12</span><span class="sc">:</span>        <span class="er">*&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb23-18"><a href="#cb23-18" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">13</span><span class="sc">:</span>     <span class="er">*&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb23-19"><a href="#cb23-19" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">14</span><span class="sc">:</span>              <span class="er">*&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb23-20"><a href="#cb23-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">15</span><span class="sc">:</span>          <span class="er">*</span>clefF4       <span class="sc">*</span>clefGv2        <span class="sc">*</span>clefG2        <span class="sc">*</span>clefG2</span>
<span id="cb23-21"><a href="#cb23-21" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">16</span><span class="sc">:</span>           <span class="er">*</span>k[f<span class="co">#]         *k[f#]         *k[f#]         *k[f#]</span></span>
<span id="cb23-22"><a href="#cb23-22" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">17</span><span class="sc">:</span>              <span class="er">*</span>G<span class="sc">:</span>            <span class="er">*</span>G<span class="sc">:</span>            <span class="er">*</span>G<span class="sc">:</span>            <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb23-23"><a href="#cb23-23" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">18</span><span class="sc">:</span>            <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb23-24"><a href="#cb23-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">19</span><span class="sc">:</span>           <span class="er">*</span>MM100         <span class="sc">*</span>MM100         <span class="sc">*</span>MM100         <span class="sc">*</span>MM100</span>
<span id="cb23-25"><a href="#cb23-25" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">20</span><span class="sc">:</span>            <span class="sc">-</span><span class="fl">0.25</span>          <span class="sc">-</span><span class="fl">0.25</span>          <span class="sc">-</span><span class="fl">0.25</span>          <span class="sc">-</span><span class="fl">0.25</span></span>
<span id="cb23-26"><a href="#cb23-26" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">21</span><span class="sc">:</span>               <span class="er">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb23-27"><a href="#cb23-27" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">22</span><span class="sc">:</span>                <span class="dv">0</span>              <span class="dv">0</span>              <span class="dv">0</span>              <span class="dv">0</span></span>
<span id="cb23-28"><a href="#cb23-28" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">23</span><span class="sc">:</span>             <span class="fl">0.25</span>           <span class="fl">0.25</span>           <span class="fl">0.25</span>              .</span>
<span id="cb23-29"><a href="#cb23-29" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">24</span><span class="sc">:</span>                .          <span class="fl">0.375</span>              .              .</span>
<span id="cb23-30"><a href="#cb23-30" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">25</span><span class="sc">:</span>              <span class="fl">0.5</span>            <span class="fl">0.5</span>            <span class="fl">0.5</span>            <span class="fl">0.5</span></span>
<span id="cb23-31"><a href="#cb23-31" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">26</span><span class="sc">:</span>               <span class="er">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb23-32"><a href="#cb23-32" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">27</span><span class="sc">:</span>             <span class="fl">0.75</span>           <span class="fl">0.75</span>           <span class="fl">0.75</span>           <span class="fl">0.75</span></span>
<span id="cb23-33"><a href="#cb23-33" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">28</span><span class="sc">:</span>                <span class="dv">1</span>              <span class="dv">1</span>              .              .</span>
<span id="cb23-34"><a href="#cb23-34" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">29</span><span class="sc">:</span>                .              .              .          <span class="fl">1.125</span></span>
<span id="cb23-35"><a href="#cb23-35" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">30</span><span class="sc">:</span>             <span class="fl">1.25</span>           <span class="fl">1.25</span>           <span class="fl">1.25</span>           <span class="fl">1.25</span></span>
<span id="cb23-36"><a href="#cb23-36" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">31-133</span><span class="sc">:::</span><span class="er">:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb23-37"><a href="#cb23-37" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## ^^^ chor001.krn ^^^ #########################</span></span>
<span id="cb23-38"><a href="#cb23-38" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb23-39"><a href="#cb23-39" tabindex="-1"></a><span class="er">&gt;</span>           (eight more pieces...)</span>
<span id="cb23-40"><a href="#cb23-40" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb23-41"><a href="#cb23-41" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## vvv chor010.krn vvv #########################</span></span>
<span id="cb23-42"><a href="#cb23-42" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-70</span><span class="sc">:::</span><span class="er">:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb23-43"><a href="#cb23-43" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">71</span><span class="sc">:</span>                <span class="dv">9</span>              <span class="dv">9</span>              <span class="dv">9</span>              <span class="dv">9</span></span>
<span id="cb23-44"><a href="#cb23-44" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">72</span><span class="sc">:</span>                .          <span class="fl">9.125</span>              .              .</span>
<span id="cb23-45"><a href="#cb23-45" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">73</span><span class="sc">:</span>             <span class="fl">9.25</span>              .           <span class="fl">9.25</span>           <span class="fl">9.25</span></span>
<span id="cb23-46"><a href="#cb23-46" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">74</span><span class="sc">:</span>                .          <span class="fl">9.375</span>              .              .</span>
<span id="cb23-47"><a href="#cb23-47" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">75</span><span class="sc">:</span>              <span class="fl">9.5</span>            <span class="fl">9.5</span>            <span class="fl">9.5</span>            <span class="fl">9.5</span></span>
<span id="cb23-48"><a href="#cb23-48" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">76</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb23-49"><a href="#cb23-49" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">77</span><span class="sc">:</span>               <span class="dv">10</span>             <span class="dv">10</span>             <span class="dv">10</span>             <span class="dv">10</span></span>
<span id="cb23-50"><a href="#cb23-50" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">78</span><span class="sc">:</span>             <span class="fl">10.5</span>           <span class="fl">10.5</span>           <span class="fl">10.5</span>           <span class="fl">10.5</span></span>
<span id="cb23-51"><a href="#cb23-51" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">79</span><span class="sc">:</span>            <span class="fl">10.75</span>          <span class="fl">10.75</span>          <span class="fl">10.75</span>          <span class="fl">10.75</span></span>
<span id="cb23-52"><a href="#cb23-52" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">80</span><span class="sc">:</span>                .              .         <span class="fl">10.875</span>              .</span>
<span id="cb23-53"><a href="#cb23-53" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">81</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb23-54"><a href="#cb23-54" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">82</span><span class="sc">:</span>               <span class="dv">11</span>             <span class="dv">11</span>             <span class="dv">11</span>             <span class="dv">11</span></span>
<span id="cb23-55"><a href="#cb23-55" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">83</span><span class="sc">:</span>            <span class="fl">11.25</span>          <span class="fl">11.25</span>          <span class="fl">11.25</span>          <span class="fl">11.25</span></span>
<span id="cb23-56"><a href="#cb23-56" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">84</span><span class="sc">:</span>             <span class="fl">11.5</span>           <span class="fl">11.5</span>           <span class="fl">11.5</span>           <span class="fl">11.5</span></span>
<span id="cb23-57"><a href="#cb23-57" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">85</span><span class="sc">:</span>            <span class="fl">11.75</span>          <span class="fl">11.75</span>              .          <span class="fl">11.75</span></span>
<span id="cb23-58"><a href="#cb23-58" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">86</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb23-59"><a href="#cb23-59" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">87</span><span class="sc">:</span>               <span class="dv">12</span>             <span class="dv">12</span>             <span class="dv">12</span>             <span class="dv">12</span></span>
<span id="cb23-60"><a href="#cb23-60" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">88</span><span class="sc">:</span>            <span class="fl">12.25</span>          <span class="fl">12.25</span>          <span class="fl">12.25</span>              .</span>
<span id="cb23-61"><a href="#cb23-61" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">89</span><span class="sc">:</span>             <span class="fl">12.5</span>           <span class="fl">12.5</span>           <span class="fl">12.5</span>              .</span>
<span id="cb23-62"><a href="#cb23-62" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">90</span><span class="sc">:</span>               <span class="er">==</span>             <span class="er">==</span>             <span class="er">==</span>             <span class="er">==</span></span>
<span id="cb23-63"><a href="#cb23-63" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">91</span><span class="sc">:</span>               <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span></span>
<span id="cb23-64"><a href="#cb23-64" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb23-65"><a href="#cb23-65" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb23-66"><a href="#cb23-66" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb23-67"><a href="#cb23-67" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> <span class="dv">4</span>th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb23-68"><a href="#cb23-68" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb23-69"><a href="#cb23-69" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb23-70"><a href="#cb23-70" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, <span class="dv">4</span>th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb23-71"><a href="#cb23-71" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb23-72"><a href="#cb23-72" tabindex="-1"></a><span class="sc">&gt;</span>              <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb23-73"><a href="#cb23-73" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## ^^^ chor010.krn ^^^ #########################</span></span>
<span id="cb23-74"><a href="#cb23-74" tabindex="-1"></a><span class="er">&gt;</span>                  (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb23-75"><a href="#cb23-75" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb23-76"><a href="#cb23-76" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten pieces.</span>
<span id="cb23-77"><a href="#cb23-77" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb23-78"><a href="#cb23-78" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb23-79"><a href="#cb23-79" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Timeline <span class="sc">::</span> numeric</span>
<span id="cb23-80"><a href="#cb23-80" tabindex="-1"></a><span class="sc">&gt;</span>                Token    <span class="sc">::</span> character</span></code></pre></div>
<p>So we get a separate timeline for each spine in each piece.</p>
<blockquote>
<p>Note: <code><a href="../reference/timeline.html">timeline()</a></code> ignores all multi-stops. If you have
spine paths in your data, you should look into the <a href="ComplexSyntax.html#expanding-paths" title="Complex syntax article, expanding paths section">expandPaths</a>
options.</p>
</blockquote>
<div class="section level3">
<h3 id="controlling-the-start">Controlling the Start<a class="anchor" aria-label="anchor" href="#controlling-the-start"></a>
</h3>
<p>You’ll notice that our timelines all start from zero, which makes
sense of course. But in some cases, you might want to have the timeline
start at a different value. For example, “Row Row Row Your Boat” is a
round, so we’d want the second entrance of the round to start at the
second measure. We can do this with the <code>start</code> argument to
timeline:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">timeline</span>(row, <span class="at">start =</span> <span class="dv">2</span>)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="fl">2.000000</span> <span class="fl">2.250000</span> <span class="fl">2.500000</span> <span class="fl">2.666667</span> <span class="fl">2.750000</span> <span class="fl">3.000000</span> <span class="fl">3.166667</span> <span class="fl">3.250000</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">9</span>] <span class="fl">3.416667</span> <span class="fl">3.500000</span> <span class="fl">4.000000</span> <span class="fl">4.083333</span> <span class="fl">4.166667</span> <span class="fl">4.250000</span> <span class="fl">4.333333</span> <span class="fl">4.416667</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">17</span>] <span class="fl">4.500000</span> <span class="fl">4.583333</span> <span class="fl">4.666667</span> <span class="fl">4.750000</span> <span class="fl">4.833333</span> <span class="fl">4.916667</span> <span class="fl">5.000000</span> <span class="fl">5.166667</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">25</span>] <span class="fl">5.250000</span> <span class="fl">5.416667</span> <span class="fl">5.500000</span></span></code></pre></div>
<hr>
<div class="section level4">
<h4 id="pickups">Pickups<a class="anchor" aria-label="anchor" href="#pickups"></a>
</h4>
<p>The <code>pickup</code> argument gives us another option to control
where our timeline starts. In many datasets, the first few events in the
music are an <em>anacrusis</em> or “pick up”; we’d generally like our
timeline to start <em>after</em> the pickup. To make this happen, the
<code>pickup</code> argument can be passed a <code>logical</code> vector
which is the same length as the input (<code>x</code>): Any
<code>TRUE</code> values at the beginning of the vector are considered a
pickup; Thus, the <em>first</em> <code>FALSE</code> value in the
<code>pickup</code> vector is chosen as the start of th timeline. For
example, let’s say we have the melody</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">melody</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'8c'</span>, <span class="st">'8d'</span>,<span class="st">'2e'</span>, <span class="st">'2f'</span>,<span class="st">'1e'</span><span class="op">)</span></span></code></pre></div>
<p>but the first two notes are a pickup. Since we can <em>see</em> that
the pickup has a duration of <code>.25</code> (quarter-note), we
<em>could</em> use the <code>start</code> argument to do this:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">timeline</span>(melody, <span class="at">start =</span> <span class="sc">-</span>.<span class="dv">25</span>)</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.250</span> <span class="sc">-</span><span class="fl">0.125</span>  <span class="fl">0.000</span>  <span class="fl">0.500</span>  <span class="fl">1.000</span></span></code></pre></div>
<p>Now <code>0</code> is on the downbeat, and events before that
<code>start</code> are negative on the timeline!</p>
<p>To do this with the <code>logical</code> <code>pickup</code>
argument, we could do this:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">timeline</span>(melody, <span class="at">pickup =</span> melody <span class="sc">!=</span> <span class="st">'2e'</span>)</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.250</span> <span class="sc">-</span><span class="fl">0.125</span>  <span class="fl">0.000</span>  <span class="fl">0.500</span>  <span class="fl">1.000</span></span></code></pre></div>
<p>This might seem <em>less</em> intuitive! However, this approach can
be very useful when working with actual humdrumR datasets. In many
humdrum datasets, pickup measures are indicated by have barlines labeled
<code>=0</code> or <code>=-</code>. When humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> reads a file, it counts the
barlines and creates a field called <code>Bar</code>, and it numbers
pickup measures as zero (or negative numbers, if there are more than
one). This means pickups will have <code>Bar &lt; 1</code>. So, in our
Bach chorales:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>chorales <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>  <span class="fu">timeline</span>(<span class="at">pickup =</span> Bar <span class="sc">&lt;</span> <span class="dv">1</span>)</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## vvv chor001.krn vvv #########################</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="er">&gt;</span>                <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="er">&gt;</span>                <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">8</span><span class="sc">:</span>           <span class="er">**</span>kern         <span class="sc">**</span>kern         <span class="sc">**</span>kern         <span class="sc">**</span>kern</span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a><span class="sc">&gt;</span>                <span class="dv">9</span><span class="sc">:</span>           <span class="er">*</span>ICvox         <span class="sc">*</span>ICvox         <span class="sc">*</span>ICvox         <span class="sc">*</span>ICvox</span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">10</span><span class="sc">:</span>           <span class="er">*</span>Ibass        <span class="sc">*</span>Itenor         <span class="sc">*</span>Ialto        <span class="sc">*</span>Isoprn</span>
<span id="cb28-15"><a href="#cb28-15" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">11</span><span class="sc">:</span>          <span class="er">*</span>I<span class="st">"Bass       *I"</span>Tenor        <span class="sc">*</span>I<span class="st">"Alto     *I"</span>Soprano</span>
<span id="cb28-16"><a href="#cb28-16" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">12</span><span class="sc">:</span>        <span class="er">*&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]      <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb28-17"><a href="#cb28-17" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">13</span><span class="sc">:</span>     <span class="er">*&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]   <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb28-18"><a href="#cb28-18" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">14</span><span class="sc">:</span>              <span class="er">*&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A            <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb28-19"><a href="#cb28-19" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">15</span><span class="sc">:</span>          <span class="er">*</span>clefF4       <span class="sc">*</span>clefGv2        <span class="sc">*</span>clefG2        <span class="sc">*</span>clefG2</span>
<span id="cb28-20"><a href="#cb28-20" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">16</span><span class="sc">:</span>           <span class="er">*</span>k[f<span class="co">#]         *k[f#]         *k[f#]         *k[f#]</span></span>
<span id="cb28-21"><a href="#cb28-21" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">17</span><span class="sc">:</span>              <span class="er">*</span>G<span class="sc">:</span>            <span class="er">*</span>G<span class="sc">:</span>            <span class="er">*</span>G<span class="sc">:</span>            <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb28-22"><a href="#cb28-22" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">18</span><span class="sc">:</span>            <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>          <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb28-23"><a href="#cb28-23" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">19</span><span class="sc">:</span>           <span class="er">*</span>MM100         <span class="sc">*</span>MM100         <span class="sc">*</span>MM100         <span class="sc">*</span>MM100</span>
<span id="cb28-24"><a href="#cb28-24" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">20</span><span class="sc">:</span>            <span class="sc">-</span><span class="fl">0.25</span>          <span class="sc">-</span><span class="fl">0.25</span>          <span class="sc">-</span><span class="fl">0.25</span>          <span class="sc">-</span><span class="fl">0.25</span></span>
<span id="cb28-25"><a href="#cb28-25" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">21</span><span class="sc">:</span>               <span class="er">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span>             <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb28-26"><a href="#cb28-26" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">22</span><span class="sc">:</span>                <span class="dv">0</span>              <span class="dv">0</span>              <span class="dv">0</span>              <span class="dv">0</span></span>
<span id="cb28-27"><a href="#cb28-27" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">23</span><span class="sc">:</span>             <span class="fl">0.25</span>           <span class="fl">0.25</span>           <span class="fl">0.25</span>              .</span>
<span id="cb28-28"><a href="#cb28-28" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">24</span><span class="sc">:</span>                .          <span class="fl">0.375</span>              .              .</span>
<span id="cb28-29"><a href="#cb28-29" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">25</span><span class="sc">:</span>              <span class="fl">0.5</span>            <span class="fl">0.5</span>            <span class="fl">0.5</span>            <span class="fl">0.5</span></span>
<span id="cb28-30"><a href="#cb28-30" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">26</span><span class="sc">:</span>               <span class="er">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span>             <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb28-31"><a href="#cb28-31" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">27</span><span class="sc">:</span>             <span class="fl">0.75</span>           <span class="fl">0.75</span>           <span class="fl">0.75</span>           <span class="fl">0.75</span></span>
<span id="cb28-32"><a href="#cb28-32" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">28</span><span class="sc">:</span>                <span class="dv">1</span>              <span class="dv">1</span>              .              .</span>
<span id="cb28-33"><a href="#cb28-33" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">29</span><span class="sc">:</span>                .              .              .          <span class="fl">1.125</span></span>
<span id="cb28-34"><a href="#cb28-34" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">30</span><span class="sc">:</span>             <span class="fl">1.25</span>           <span class="fl">1.25</span>           <span class="fl">1.25</span>           <span class="fl">1.25</span></span>
<span id="cb28-35"><a href="#cb28-35" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">31-133</span><span class="sc">:::</span><span class="er">:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb28-36"><a href="#cb28-36" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## ^^^ chor001.krn ^^^ #########################</span></span>
<span id="cb28-37"><a href="#cb28-37" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb28-38"><a href="#cb28-38" tabindex="-1"></a><span class="er">&gt;</span>           (eight more pieces...)</span>
<span id="cb28-39"><a href="#cb28-39" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb28-40"><a href="#cb28-40" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## vvv chor010.krn vvv #########################</span></span>
<span id="cb28-41"><a href="#cb28-41" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-70</span><span class="sc">:::</span><span class="er">:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb28-42"><a href="#cb28-42" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">71</span><span class="sc">:</span>                <span class="dv">9</span>              <span class="dv">9</span>              <span class="dv">9</span>              <span class="dv">9</span></span>
<span id="cb28-43"><a href="#cb28-43" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">72</span><span class="sc">:</span>                .          <span class="fl">9.125</span>              .              .</span>
<span id="cb28-44"><a href="#cb28-44" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">73</span><span class="sc">:</span>             <span class="fl">9.25</span>              .           <span class="fl">9.25</span>           <span class="fl">9.25</span></span>
<span id="cb28-45"><a href="#cb28-45" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">74</span><span class="sc">:</span>                .          <span class="fl">9.375</span>              .              .</span>
<span id="cb28-46"><a href="#cb28-46" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">75</span><span class="sc">:</span>              <span class="fl">9.5</span>            <span class="fl">9.5</span>            <span class="fl">9.5</span>            <span class="fl">9.5</span></span>
<span id="cb28-47"><a href="#cb28-47" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">76</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span>            <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb28-48"><a href="#cb28-48" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">77</span><span class="sc">:</span>               <span class="dv">10</span>             <span class="dv">10</span>             <span class="dv">10</span>             <span class="dv">10</span></span>
<span id="cb28-49"><a href="#cb28-49" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">78</span><span class="sc">:</span>             <span class="fl">10.5</span>           <span class="fl">10.5</span>           <span class="fl">10.5</span>           <span class="fl">10.5</span></span>
<span id="cb28-50"><a href="#cb28-50" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">79</span><span class="sc">:</span>            <span class="fl">10.75</span>          <span class="fl">10.75</span>          <span class="fl">10.75</span>          <span class="fl">10.75</span></span>
<span id="cb28-51"><a href="#cb28-51" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">80</span><span class="sc">:</span>                .              .         <span class="fl">10.875</span>              .</span>
<span id="cb28-52"><a href="#cb28-52" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">81</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span>            <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb28-53"><a href="#cb28-53" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">82</span><span class="sc">:</span>               <span class="dv">11</span>             <span class="dv">11</span>             <span class="dv">11</span>             <span class="dv">11</span></span>
<span id="cb28-54"><a href="#cb28-54" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">83</span><span class="sc">:</span>            <span class="fl">11.25</span>          <span class="fl">11.25</span>          <span class="fl">11.25</span>          <span class="fl">11.25</span></span>
<span id="cb28-55"><a href="#cb28-55" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">84</span><span class="sc">:</span>             <span class="fl">11.5</span>           <span class="fl">11.5</span>           <span class="fl">11.5</span>           <span class="fl">11.5</span></span>
<span id="cb28-56"><a href="#cb28-56" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">85</span><span class="sc">:</span>            <span class="fl">11.75</span>          <span class="fl">11.75</span>              .          <span class="fl">11.75</span></span>
<span id="cb28-57"><a href="#cb28-57" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">86</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span>            <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb28-58"><a href="#cb28-58" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">87</span><span class="sc">:</span>               <span class="dv">12</span>             <span class="dv">12</span>             <span class="dv">12</span>             <span class="dv">12</span></span>
<span id="cb28-59"><a href="#cb28-59" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">88</span><span class="sc">:</span>            <span class="fl">12.25</span>          <span class="fl">12.25</span>          <span class="fl">12.25</span>              .</span>
<span id="cb28-60"><a href="#cb28-60" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">89</span><span class="sc">:</span>             <span class="fl">12.5</span>           <span class="fl">12.5</span>           <span class="fl">12.5</span>              .</span>
<span id="cb28-61"><a href="#cb28-61" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">90</span><span class="sc">:</span>               <span class="er">==</span>             <span class="er">==</span>             <span class="er">==</span>             <span class="er">==</span></span>
<span id="cb28-62"><a href="#cb28-62" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">91</span><span class="sc">:</span>               <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span></span>
<span id="cb28-63"><a href="#cb28-63" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb28-64"><a href="#cb28-64" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb28-65"><a href="#cb28-65" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb28-66"><a href="#cb28-66" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> <span class="dv">4</span>th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb28-67"><a href="#cb28-67" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb28-68"><a href="#cb28-68" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb28-69"><a href="#cb28-69" tabindex="-1"></a><span class="er">&gt;</span>               <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, <span class="dv">4</span>th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb28-70"><a href="#cb28-70" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb28-71"><a href="#cb28-71" tabindex="-1"></a><span class="sc">&gt;</span>              <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb28-72"><a href="#cb28-72" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## ^^^ chor010.krn ^^^ #########################</span></span>
<span id="cb28-73"><a href="#cb28-73" tabindex="-1"></a><span class="er">&gt;</span>                  (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb28-74"><a href="#cb28-74" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb28-75"><a href="#cb28-75" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten pieces.</span>
<span id="cb28-76"><a href="#cb28-76" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb28-77"><a href="#cb28-77" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb28-78"><a href="#cb28-78" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Timeline <span class="sc">::</span> numeric</span>
<span id="cb28-79"><a href="#cb28-79" tabindex="-1"></a><span class="sc">&gt;</span>                Token    <span class="sc">::</span> character</span></code></pre></div>
<p>Now the <code>0</code> in our timelines corresponds to the first
downbeat of each spine, in each file. The key advantage is that this
will work even if different pieces in the corpus have pickups of
different lengths, and even if there is <em>no</em> pickup.</p>
</div>
<div class="section level4">
<h4 id="timestamp">Timestamp<a class="anchor" aria-label="anchor" href="#timestamp"></a>
</h4>
<p>The <code><a href="../reference/timeline.html">timestamp()</a></code> function is a special variant of
<code><a href="../reference/timeline.html">timeline()</a></code> which outputs a timeline in clock-time, using
the <code><a href="../reference/time.html">dur()</a></code> format. In order to do this
<code><a href="../reference/timeline.html">timestamp()</a></code> needs to know a tempo: by default, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> will pass the
<code>BPM</code> field from humdrum data (if there is one) to
<code><a href="../reference/timeline.html">timestamp()</a></code>. If the <code>BPM</code> argument is not
provided, the default is 60 beats-per-minute.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="counting-beats">Counting Beats<a class="anchor" aria-label="anchor" href="#counting-beats"></a>
</h2>
<p>Ok, the <code><a href="../reference/timeline.html">timeline()</a></code> gives us a timeline in whole-note
units, giving fractional (decimal) output. Often in music, we want to
know how many <em>beats</em> have elapsed at a given time, rather than
the exact time position. For this, use the <code><a href="../reference/timecount.html">timecount()</a></code>, and
its <code>unit</code> argument. The default <code>unit</code> is a
whole-note, so <code><a href="../reference/timecount.html">timecount()</a></code> will count which whole note you
are on:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>row <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'4c'</span>, <span class="st">'4c'</span>, <span class="st">'6c'</span>, <span class="st">'12d'</span>, <span class="st">'4e'</span>, <span class="st">'6e'</span>,<span class="st">'12d'</span>, <span class="st">'6e'</span>, <span class="st">'12f'</span>, <span class="st">'2g'</span>, </span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>         <span class="st">'12cc'</span>, <span class="st">'12cc'</span>, <span class="st">'12cc'</span>, <span class="st">'12g'</span>, <span class="st">'12g'</span>, <span class="st">'12g'</span>, <span class="st">'12e'</span>, <span class="st">'12e'</span>, <span class="st">'12e'</span>, <span class="st">'12c'</span>, <span class="st">'12c'</span>, <span class="st">'12c'</span>, </span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>         <span class="st">'6g'</span>,<span class="st">'12f'</span>, <span class="st">'6e'</span>, <span class="st">'12d'</span>,<span class="st">'2c'</span>)</span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="fu">timecount</span>(row)</span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span></span></code></pre></div>
<p>Let’s try quarter-notes instead:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">timecount</span>(row, <span class="at">unit =</span> <span class="st">'4'</span>)</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">9</span>  <span class="dv">9</span>  <span class="dv">9</span> <span class="dv">10</span> <span class="dv">10</span> <span class="dv">10</span> <span class="dv">11</span> <span class="dv">11</span> <span class="dv">11</span> <span class="dv">12</span> <span class="dv">12</span> <span class="dv">12</span> <span class="dv">13</span> <span class="dv">13</span> <span class="dv">14</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">26</span>] <span class="dv">14</span> <span class="dv">15</span></span></code></pre></div>
<p><code><a href="../reference/timecount.html">timecount()</a></code> will even work for irregular beat patterns,
which must be entered as a list. For example, the meter 7/8 is often
played as three beats, with the last beat being longer than the first
two: a pattern line <code>4 4 4.</code>. <code><a href="../reference/timecount.html">timecount()</a></code> can
count these irregular beats!</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>seven8 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'4'</span>, <span class="st">'4'</span>, <span class="st">'8'</span>,<span class="st">'8'</span>,<span class="st">'8'</span>,<span class="st">'4'</span>,<span class="st">'4'</span>,<span class="st">'4'</span>,<span class="st">'8'</span>,<span class="st">'4'</span>,<span class="st">'4'</span>,<span class="st">'8'</span>,<span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'4'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="fu">timecount</span>(seven8, <span class="at">unit =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">'4'</span>, <span class="st">'4'</span>, <span class="st">'4.'</span>)))</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">3</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span>  <span class="dv">9</span>  <span class="dv">9</span> <span class="dv">10</span></span></code></pre></div>
<p>This could be handy for counting subdivisions in swing time!</p>
<div class="section level4">
<h4 id="subposition">Subposition<a class="anchor" aria-label="anchor" href="#subposition"></a>
</h4>
<p>The counterpart to <code><a href="../reference/timecount.html">timecount()</a></code> is <code><a href="../reference/timecount.html">subpos()</a></code>.
When we count beats, some notes don’t actually land <em>on</em> the
beat, but somewhere “inside” the beat—in other words, between beats.
<code><a href="../reference/timecount.html">subpos()</a></code> will tell us how far from the beat each attack is;
the unit will be whole-notes, unless we pass a <code>scale</code>
argument to change the scale. Let’s look at our last few examples again,
but using <code><a href="../reference/timecount.html">subpos()</a></code>:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="fu">subpos</span>(row, <span class="at">scale =</span> <span class="dv">12</span>)</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">duration</span> (numeric)</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>]  <span class="dv">0</span>  <span class="dv">3</span>  <span class="dv">6</span>  <span class="dv">8</span>  <span class="dv">9</span>  <span class="dv">0</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span> <span class="dv">10</span> <span class="dv">11</span>  <span class="dv">0</span>  <span class="dv">2</span>  <span class="dv">3</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">26</span>]  <span class="dv">5</span>  <span class="dv">6</span></span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="fu">subpos</span>(row, <span class="at">unit =</span> <span class="st">'4'</span>, <span class="at">scale =</span> <span class="dv">12</span>)</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">duration</span> (numeric)</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span></span></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="fu">subpos</span>(seven8, <span class="at">unit =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">'4'</span>, <span class="st">'4'</span>, <span class="st">'4.'</span>)), <span class="at">scale =</span> <span class="dv">8</span>)</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">duration</span> (numeric)</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="meter">Meter<a class="anchor" aria-label="anchor" href="#meter"></a>
</h2>
<p>The <code><a href="../reference/timecount.html">timecount()</a></code> and <code><a href="../reference/timecount.html">subpos()</a></code> commands are
great if we want count in a single beat/measure unit. To take things to
the next level(s), we need to consider musical <em>meter</em>. From the
point of view of humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>, “meter” is a set of
multiple “beat levels” occurring at the same time (in parallel), with
“lower” (faster/shorter) levels nested inside “higher” (slower/longer)
levels. <code>R Hm</code> defines a number of useful tools for applying
metric analyses to rhythmic data.</p>
<div class="section level4">
<h4 id="metric-levels">Metric levels<a class="anchor" aria-label="anchor" href="#metric-levels"></a>
</h4>
<p>The first thing we might want to do, is take a sequence of rhythm
durations and identify which metric level each onset lands on. To do
this, use <code><a href="../reference/metlev.html">metlev()</a></code>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>eighths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>)</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a><span class="fu">metlev</span>(eighths)</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="st">"1"</span> <span class="st">"8"</span> <span class="st">"4"</span> <span class="st">"8"</span> <span class="st">"2"</span> <span class="st">"8"</span> <span class="st">"4"</span> <span class="st">"8"</span></span></code></pre></div>
<p>By default, <code><a href="../reference/metlev.html">metlev()</a></code> is assuming a duple meter for
us—basically 4/4 time—so these eight eighth-notes make one measure of
4/4. The first onset lands on the downbeat, coinciding with the highest
level in the meter (as defined by default)—this highest level beat is a
whole-note, which is why the output is <code>"1"</code>
(<code>**recip</code> notation for a whole-note). Every odd eighth-note
falls down at the eighth-note beat level, and is labeled
<code>"8"</code>. 4/4 beats 2 and 4 (the back beats) fall on the
quarter-note level, and labeled <code>"4"</code>. Finally, beat 3 is on
the half-note level (<code>"2"</code>).</p>
<p>If you prefer to have your levels simply numbered from highest to
lowest, use <code>metlev(..., value = FALSE)</code>:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>eighths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>)</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="fu">metlev</span>(eighths, <span class="at">value =</span> <span class="cn">FALSE</span>)</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
<p>The whole-note level is <code>1</code> and (in this case) the
eighth-note level is <code>4</code>.</p>
</div>
<div class="section level4">
<h4 id="metric-position">Metric position<a class="anchor" aria-label="anchor" href="#metric-position"></a>
</h4>
<p>Along with <code><a href="../reference/metlev.html">metlev()</a></code>, humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> provides to complementary
functions called <code><a href="../reference/metlev.html">metcount()</a></code>, <code><a href="../reference/metlev.html">metsubpos()</a></code>. As
you might guess, these are metric parallels of <code><a href="../reference/timecount.html">timecount()</a></code>
and <code><a href="../reference/timecount.html">subpos()</a></code>. The <code><a href="../reference/metlev.html">metcount()</a></code> function counts
beats at a particular beat level (the <code>level</code> argument)
<em>within</em> the highest level in the meter. The
<code><a href="../reference/metlev.html">metsubpos()</a></code> function calculates the rhythm offset between
each onset and the nearest beat in the meter.</p>
</div>
<div class="section level3">
<h3 id="controlling-meter">Controlling meter<a class="anchor" aria-label="anchor" href="#controlling-meter"></a>
</h3>
<p>You can control the meter used by <code><a href="../reference/metlev.html">metlev()</a></code> using the
<code>meter</code> argument. The simplest thing is to pass the meter as
a humdrum time-signature interpretation:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>eighths <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>, <span class="st">'8'</span>)</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="fu">metlev</span>(eighths, <span class="at">meter =</span> <span class="st">'M3/4'</span>)</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1</span>] <span class="st">"2."</span> <span class="st">"16"</span> <span class="st">"4"</span>  <span class="st">"16"</span> <span class="st">"4"</span>  <span class="st">"16"</span> <span class="st">"2."</span> <span class="st">"16"</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
