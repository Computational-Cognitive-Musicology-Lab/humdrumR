<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Humdrum Syntax • humdrumR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Humdrum Syntax">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">humdrumR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    </li>
    <li>
      <a href="../articles/HumdrumSyntax.html">The Humdrum Syntax</a>
    </li>
    <li>
      <a href="../articles/Intervals.html">Rhythm and Pitch Intervals</a>
    </li>
    <li>
      <a href="../articles/IntroForCoders.html">HumdrumR for Coders</a>
    </li>
    <li>
      <a href="../articles/KeysAndChord.html">Diatonic and Tertian Sets in humdrumR</a>
    </li>
    <li>
      <a href="../articles/Overview.html">Overview of humdrumR</a>
    </li>
    <li>
      <a href="../articles/PitchAndTonality.html">Pitch and Tonality in humdrumR</a>
    </li>
    <li>
      <a href="../articles/ReadWrite.html">Reading and writing data with humdrumR</a>
    </li>
    <li>
      <a href="../articles/RhythmAndMeter.html">Rhythm and Meter in humdrumR</a>
    </li>
    <li>
      <a href="../articles/Validation.html">Validating Humdrum Data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="HumdrumSyntax_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Humdrum Syntax</h1>
                        <h4 class="author">Nathaniel Condit-Schultz</h4>
            
            <h4 class="date">2021-07-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/master/vignettes/HumdrumSyntax.Rmd"><code>vignettes/HumdrumSyntax.Rmd</code></a></small>
      <div class="hidden name"><code>HumdrumSyntax.Rmd</code></div>

    </div>

    
    
<p>The humdrum syntax is a simple, flexible, and powerful way of encoding musicological data. Humdrum files are simply <a href="https://en.wikipedia.org/wiki/Plain_text" title="Plain text on wikipedia">plain text</a> files—files which simply contain a simple characters. (This is <em>unlike</em> <code>.pdf</code> or <code>.docx</code> (MS Word) files, which are much more complex “rich text” files.) You can open plain-text files in simple text editors like <strong>Notepad</strong> (Windows) or <strong>TextEdit</strong> (MacOS).</p>
<p>To be a humdrum file, your text-file must have very general layout which is called the <em>humdrum syntax</em>. Such a file can be said “to conform to the humdrum syntax,” “to be valid humdrum,” or most simply “to be a humdrum file.”</p>
<blockquote>
<p>In computer programming, you will often encounter words like “characters”, “text”, and “strings” used interchangibly. You’ll also hear combinations like “character-strings” and “text-strings.” These all (generally) refer to the same things: collectiosn of letters, numbers, punctuation, and a control/spacing characters like SPACEBAR (<code></code>), TAB (<code>\t</code>), NEWLINE (<code>\n</code>), etc. Technically, humdrum text files are supposed to use the ASCII character set.</p>
</blockquote>
<div id="structure-vs-content" class="section level3">
<h3 class="hasAnchor">
<a href="#structure-vs-content" class="anchor"></a>Structure vs Content</h3>
<p>The humdrum syntax lays out a simple <em>structure</em> for encoding data, but it says <em>nothing</em> about the content. What information is encoded, and how that information is represented is flexible. For all this flexibility, the <em>structure</em> of humdrum data—the humdrum syntax—is always the same, which makes it easy to work with!</p>
<p>To fill content into our humdrum files, we define "<strong>interpretations</strong>. Interpretations are schemes for how to represent some information as characters. This sounds complicated/scary, but it can be very simple! For instance, if I wanted to encode drum beats in humdrum I could invent a simple scheme for encoding drum beats as:</p>
<ul>
<li>Kick drum = “K”</li>
<li>Snare drum = “S”</li>
<li>Hi-Hat = “H”</li>
</ul>
<p>I could treat each newline in my text file as a sixteenth-note tick (read about humdrum “timebase” below) and start encoding. The only thing I need to make this conform the humdrum syntax would be to name it: we call overarching interpretations like this “<em>exclusive interpretations</em>”, which are prefixed with <code>**</code>. We could call it <code>**drums</code> and we’d be ready to create humdrum data!</p>
</div>
<div id="syntax" class="section level1">
<h1 class="hasAnchor">
<a href="#syntax" class="anchor"></a>Syntax</h1>
<p>The humdrum syntax is, at first glange, nothing but a simple, tab-delineated spread sheet. (“tab-delineated” just means that the columns of the spreadsheet are separated by TABs.) This <em>is</em> the basic idea, but there are a few extra features to learn!</p>
<p>Let’s take a look at a basic humdrum file:</p>
<p><img src="images/Syntax_Example.png" width="800"></p>
<p>This file can be broken down into different types of information like this:</p>
<p><img src="images/Syntax_Abstract.png" width="800"></p>
<p>This file has two columns of data, separated by tabs. However, we have special terminology that we use: The “columns” in a humdrum file are called <em>spines</em>. Each line, or row, in the file is called a <em>record</em>.</p>
<p><img src="images/Syntax_Concrete_RecSpine.png" width="800"></p>
<p>There are twenty records and two spines in this file.</p>
<p>Each character-string, located at each spine/record position, is called a <em>token</em>. Examples of tokens in this file include <code>*M4/4</code>, <code>4A</code>, <code>=1</code>, and <code>!Suspension</code>.</p>
<div id="global-vs-local" class="section level4">
<h4 class="hasAnchor">
<a href="#global-vs-local" class="anchor"></a>Global vs Local</h4>
<p>You’ll notice that two records in this file (<code>1</code> and <code>10</code>) don’t seem to have two columns. Indeed, these are called “<em>global</em>” records—they don’t belong to a particular column, but to the whole row/file. This image illustrates that the two spines in this file don’t include records <code>1</code> and <code>10</code>:</p>
<p><img src="images/Syntax_Spine.png" width="800"></p>
<p>Or with the real data again:</p>
</div>
<div id="time" class="section level2">
<h2 class="hasAnchor">
<a href="#time" class="anchor"></a>Time</h2>
<p>There is one fundamental assumption regarding how the humdrum syntax encodes information: as we travel downward through a file (from top to bottom) we are encoding information in the order it occurs in time. This is true of data records—interpetation and comment records are all associated with the moment in time of the first data record that occurs below them. Information that appears in the same record (within one spine, or in different spines) is assumed to happen at the same time.</p>
</div>
<div id="record-types" class="section level2">
<h2 class="hasAnchor">
<a href="#record-types" class="anchor"></a>Record Types</h2>
<p>The humdrum syntax recognizes four broad types of records, with five sub-types:</p>
<ul>
<li>Interpretations
<ul>
<li>Exclusive (<code>**</code>)</li>
<li>Tandem (<code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>)</li>
</ul>
</li>
<li>Comments
<ul>
<li>Reference (<code>!!!</code>)</li>
<li>Global (<code>!!</code>)</li>
<li>Local (<code><a href="https://rdrr.io/r/base/Logic.html">!</a></code>)</li>
</ul>
</li>
<li>Barlines (<code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code>)</li>
<li>Data</li>
</ul>
<p>We know what type of record we’re dealing with by looking at the first character in each token. All tokens in a single record <em>must</em> be of the same type—you can’t have an interpretation token and a comment token on the same line. As a result, we can refer to the type of a token, <em>or</em> the type of a whole record, because all the tokens within a record are always the same type.</p>
<div id="interpretations" class="section level4">
<h4 class="hasAnchor">
<a href="#interpretations" class="anchor"></a>Interpretations</h4>
<p>If a token starts with <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>, it is an interpretation token. Two stars <code>**</code> indicates an <strong>exclusive</strong> interpretation. Every spine must start with an exclusive interpretation, and can only have one. The exclusive interpretation for a spine tells us the type of information is encoded in that spine, for the whole spine. For instance, our <code>**drums</code> interpration that we invented above is an exclusive interpetation.</p>
<p>In the examples we’re using here, the exclusive interpretation in both spines is <code>**kern</code>, is the most widely used humdrum interpretation, used to encode music notation. Note that a humdrum file can have different exclusive interpretations in each spine—they don’t have to be the same, as they are in this example. To read about various humdrum interpretations that have been defined, check out <a href="http://www.humdrum.org/rep/" target="_blank">humdrum.org</a>.</p>
<p><img src="images/Syntax_Interpretations.png" width="800"></p>
<hr>
<p>If a token starts with only one <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>, it is called a <strong>tandem</strong> interpretation. Tandem interpretations tell us more specific, localized information about how to interpret data. There can be different, overlapping tandem interpretations within a spine. In our example,</p>
<p><code>*C:</code>, <code>*Ibass</code>, <code>*M4/4</code>, and <code>*M3/4</code>, are all tandem interpretations. <code>*C:</code> is used in <code>**kern</code> to indicate the key of C major. <code>*Ibass</code> indicates what instrument is associated with that spine (bass voice). <code>*M4/4</code> and <code>*M3/4</code> indicate 4/4 and 3/4 meter respectively. This last case brings up something important about tandem interprations: a tandem interpretation is applied to all subsequent data points, unless it is cancelled or replaced by another tandem intepretation of the same type. Thus, this humdrum file indicates 4/4 time starting at record 5, but switches to 3/4 time at record 13. However, the <code>*M4/4</code> in record 4 doesn’t replace the <code>*C:</code> in record 3, because they are different types of tandem intepretations.</p>
<hr>
<p>One more very special token is the <code>*-</code> token. This token indicates where a spine <em>ends</em>. If the <code>*-</code> are missing at the end—one for every spine—it is an invalid humdrum file!</p>
</div>
<div id="comments" class="section level3">
<h3 class="hasAnchor">
<a href="#comments" class="anchor"></a>Comments</h3>
<p>If a token begins with <code><a href="https://rdrr.io/r/base/Logic.html">!</a></code>, it is a <strong>comment</strong> token. Comments are used to freely include comments in the data. There are both <em>global</em> comments (<code>!!</code>) which are not associated with a spine—they apply to the whole file at the point they appear—and <em>local</em> comments (<code><a href="https://rdrr.io/r/base/Logic.html">!</a></code>) which are specific to a particular spine. In our example, <code>!! Ritardando</code> is a global comment, while <code>!Suspension</code> is a local comment, which is specific to the second spine.</p>
<p><img src="images/Syntax_Comments.png" width="800"></p>
<div id="reference-records" class="section level4">
<h4 class="hasAnchor">
<a href="#reference-records" class="anchor"></a>Reference Records</h4>
<p>There is one final type of comment: <strong>reference records</strong>. Reference records are global comments that are placed at the beginning or end of file. Reference records encode global metadata about an entire file: things like who composed the piece or what the title of the piece is. Reference records have specific “reference codes,” usually three digits, which come after the <code>!!!</code>, and are followed by a colon, then whatever the content of the record is. For instance, the code <code>!!!OTL:</code> refers to the original title of the piece. Learn about various standard humdrum reference records <a href="http://www.humdrum.org/Humdrum/guide.append1.html" target="_blank">here</a>.</p>
</div>
</div>
<div id="barlines" class="section level3">
<h3 class="hasAnchor">
<a href="#barlines" class="anchor"></a>Barlines</h3>
<p><img src="images/Syntax_Barlines.png" width="800"></p>
<p><img src="images/Syntax_Data.png" width="800"></p>
<p><img src="images/Syntax_RecordTypes.png" width="800"></p>
<p><img src="images/Syntax_NullTokens.png" width="800"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://fathermckenzie.net/">Nathaniel Condit-Schultz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
