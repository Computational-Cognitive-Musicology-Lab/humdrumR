<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="humdrumR">
<title>Complex humdrum syntax • humdrumR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Complex humdrum syntax">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    <a href="https://gatech.edu" class="external-link"><img src="gt-logo.svg" alt="Georgia Tech" style="height:50px; padding-right:20px;"></a> <a href="https://ccml.gtcmt.gatech.edu" class="external-link"><img src="CCMLbanner.png" alt="CCMLab" style="height:80px; padding-right:20px;"></a>
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/DataFields.html">HumdrumR Data Fields</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing humdrum data</a>
    <a class="dropdown-item" href="../articles/ComplexSyntax.html">Complex humdrum syntax</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your humdrum data</a>
    <a class="dropdown-item" href="../articles/Grouping.html">Grouping humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ccml.music.gatech.edu/humdrumR">GUI</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Complex humdrum syntax</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Condit-Schultz</h4>
            
            <h4 data-toc-skip class="date">2023-10-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/vignettes/ComplexSyntax.Rmd" class="external-link"><code>vignettes/ComplexSyntax.Rmd</code></a></small>
      <div class="d-none name"><code>ComplexSyntax.Rmd</code></div>
    </div>

    
    
<p>Welcome to “Complex humdrum syntax”! This article explains how
humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> handles spine
paths and multi-stop data tokens.</p>
<div class="section level2">
<h2 id="complex-humdrum-syntax">Complex humdrum syntax<a class="anchor" aria-label="anchor" href="#complex-humdrum-syntax"></a>
</h2>
<p>The <a href="HumdrumSyntax.html" title="The Humdrum Syntax">humdrum
syntax</a> includes a few complex structures: <em>spine paths</em> and
<em>multi-stops</em> (a.k.a., sub-tokens). Humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> incorporates these
complexities into its data model, no problem, but they do make things
more complicated, and may require some thought depending on the analyses
you are trying to do. Understanding the how paths/stops are used is not
at all necessary if the data you are interested in doesn’t include spine
paths or multi-stops! You can always skip this article and come back to
it at a later time.</p>
<p>The way humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>
incorporates paths/stops is really just an extension of our basic data
model, as described in our <a href="DataFields.html" title="HumdrumR Data Fields article">Data Fields</a> article. You should
definitely read and understand that article before reading this one.
<em>Each and every</em> token, including tokens in various spine paths
and various multi-stops, is recorded as a separate <em>row</em> in the
humdrum table.</p>
</div>
<div class="section level2">
<h2 id="spine-paths">Spine paths<a class="anchor" aria-label="anchor" href="#spine-paths"></a>
</h2>
<p>Humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> treats
spine paths as “sub-spines” of the main spine which they split from, and
keeps track of each path (if any) in the <code>Path</code> field. The
starting path (leftmost) is numbered path <code>0</code>—in datasets
with no spine paths, the <code>Path</code> field will be all zeros.
Other paths are numbered with higher integers.</p>
<p>Let’s look at a simple example (found in the
<code>humdrumRroot</code> example files):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>paths1 <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">"examples/Paths.krn"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>paths1 <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">view =</span> <span class="st">"humdrum"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################### vvv Paths.krn vvv #########################</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">:</span> <span class="st">"Path"</span> example</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern                  </span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span>                  </span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span>                  </span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="er">=</span><span class="sc">-</span>                  <span class="er">=</span><span class="sc">-</span>                  </span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                    4C             4cc 4ee                  </span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    4D              4b 4dd                  </span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                    4E              2a 2cc                  </span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                    4F                   .                  </span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>                  </span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                     <span class="er">*</span>                  <span class="er">*^</span>                  </span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                    1G                  8g               4cc</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                     .                  8a                 .</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                     .                  8g                4a</span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">15</span><span class="sc">:</span>                     .                 8f<span class="co">#                 .</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">16</span><span class="sc">:</span>                     .                  4g                2b</span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">17</span><span class="sc">:</span>                     .                  4f                 .</span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">18</span><span class="sc">:</span>                     <span class="er">*</span>                  <span class="er">*</span>v                <span class="sc">*</span>v</span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">19</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span>                  </span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">20</span><span class="sc">:</span>                    1C           1e 1g 1cc                  </span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">21</span><span class="sc">:</span>                    <span class="er">==</span>                  <span class="er">==</span>                  </span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">22</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span>                  </span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################### ^^^ Paths.krn ^^^ #########################</span></span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a>paths1 <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">view =</span> <span class="st">"table"</span>)</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a><span class="sc">&gt;</span>      Piece    Spine    Path    Record    Stop               Token</span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## vvv Paths.krn vvv #########################</span></span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>     <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>         <span class="dv">1</span>    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;!!!</span>OTL<span class="sc">:</span> <span class="st">"Path"</span> ...mp</span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">2</span>       <span class="dv">1</span>              <span class="sc">**</span>kern</span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">3</span>       <span class="dv">1</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">4</span>       <span class="dv">1</span>                 <span class="sc">*</span>C<span class="sc">:</span></span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">5</span>       <span class="dv">1</span>                  <span class="ot">=</span><span class="sc">-</span></span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">6</span>       <span class="dv">1</span>                  4C</span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">7</span>       <span class="dv">1</span>                  4D</span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">8</span>       <span class="dv">1</span>                  4E</span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>         <span class="dv">9</span>       <span class="dv">1</span>                  4F</span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">10</span>       <span class="dv">1</span>                   <span class="ot">=</span></span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">11</span>       <span class="dv">1</span>                   <span class="sc">*</span></span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">12</span>       <span class="dv">1</span>                  1G</span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">13</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">14</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">15</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-51"><a href="#cb1-51" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">16</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-52"><a href="#cb1-52" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">17</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-53"><a href="#cb1-53" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">18</span>       <span class="dv">1</span>                   <span class="sc">*</span></span>
<span id="cb1-54"><a href="#cb1-54" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">19</span>       <span class="dv">1</span>                   <span class="ot">=</span></span>
<span id="cb1-55"><a href="#cb1-55" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">20</span>       <span class="dv">1</span>                  1C</span>
<span id="cb1-56"><a href="#cb1-56" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">21</span>       <span class="dv">1</span>                  <span class="sc">==</span></span>
<span id="cb1-57"><a href="#cb1-57" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">1</span>       <span class="dv">0</span>        <span class="dv">22</span>       <span class="dv">1</span>                  <span class="sc">*-</span></span>
<span id="cb1-58"><a href="#cb1-58" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">2</span>       <span class="dv">1</span>              <span class="sc">**</span>kern</span>
<span id="cb1-59"><a href="#cb1-59" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">3</span>       <span class="dv">1</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb1-60"><a href="#cb1-60" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">4</span>       <span class="dv">1</span>                 <span class="sc">*</span>C<span class="sc">:</span></span>
<span id="cb1-61"><a href="#cb1-61" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">5</span>       <span class="dv">1</span>                  <span class="ot">=</span><span class="sc">-</span></span>
<span id="cb1-62"><a href="#cb1-62" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">6</span>       <span class="dv">1</span>                 4cc</span>
<span id="cb1-63"><a href="#cb1-63" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">6</span>       <span class="dv">2</span>                 4ee</span>
<span id="cb1-64"><a href="#cb1-64" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">7</span>       <span class="dv">1</span>                  4b</span>
<span id="cb1-65"><a href="#cb1-65" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">7</span>       <span class="dv">2</span>                 4dd</span>
<span id="cb1-66"><a href="#cb1-66" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">8</span>       <span class="dv">1</span>                  2a</span>
<span id="cb1-67"><a href="#cb1-67" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">8</span>       <span class="dv">2</span>                 2cc</span>
<span id="cb1-68"><a href="#cb1-68" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>         <span class="dv">9</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-69"><a href="#cb1-69" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">10</span>       <span class="dv">1</span>                   <span class="ot">=</span></span>
<span id="cb1-70"><a href="#cb1-70" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">11</span>       <span class="dv">1</span>                  <span class="sc">*</span><span class="er">^</span></span>
<span id="cb1-71"><a href="#cb1-71" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">12</span>       <span class="dv">1</span>                  8g</span>
<span id="cb1-72"><a href="#cb1-72" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">13</span>       <span class="dv">1</span>                  8a</span>
<span id="cb1-73"><a href="#cb1-73" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">14</span>       <span class="dv">1</span>                  8g</span>
<span id="cb1-74"><a href="#cb1-74" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">15</span>       <span class="dv">1</span>                 8f<span class="co">#</span></span>
<span id="cb1-75"><a href="#cb1-75" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">16</span>       <span class="dv">1</span>                  4g</span>
<span id="cb1-76"><a href="#cb1-76" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">17</span>       <span class="dv">1</span>                  4f</span>
<span id="cb1-77"><a href="#cb1-77" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">18</span>       <span class="dv">1</span>                  <span class="sc">*</span>v</span>
<span id="cb1-78"><a href="#cb1-78" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">19</span>       <span class="dv">1</span>                   <span class="ot">=</span></span>
<span id="cb1-79"><a href="#cb1-79" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">20</span>       <span class="dv">1</span>                  1e</span>
<span id="cb1-80"><a href="#cb1-80" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">20</span>       <span class="dv">2</span>                  1g</span>
<span id="cb1-81"><a href="#cb1-81" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">20</span>       <span class="dv">3</span>                 1cc</span>
<span id="cb1-82"><a href="#cb1-82" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">21</span>       <span class="dv">1</span>                  <span class="sc">==</span></span>
<span id="cb1-83"><a href="#cb1-83" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">0</span>        <span class="dv">22</span>       <span class="dv">1</span>                  <span class="sc">*-</span></span>
<span id="cb1-84"><a href="#cb1-84" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">12</span>       <span class="dv">1</span>                 4cc</span>
<span id="cb1-85"><a href="#cb1-85" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">13</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-86"><a href="#cb1-86" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">14</span>       <span class="dv">1</span>                  4a</span>
<span id="cb1-87"><a href="#cb1-87" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">15</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-88"><a href="#cb1-88" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">16</span>       <span class="dv">1</span>                  2b</span>
<span id="cb1-89"><a href="#cb1-89" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">17</span>       <span class="dv">1</span>                   .</span>
<span id="cb1-90"><a href="#cb1-90" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>        <span class="dv">2</span>       <span class="dv">1</span>        <span class="dv">18</span>       <span class="dv">1</span>                  <span class="sc">*</span>v</span>
<span id="cb1-91"><a href="#cb1-91" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## ^^^ Paths.krn ^^^ #########################</span></span>
<span id="cb1-92"><a href="#cb1-92" tabindex="-1"></a><span class="er">&gt;</span>      Piece    Spine    Path    Record    Stop               Token</span>
<span id="cb1-93"><a href="#cb1-93" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb1-94"><a href="#cb1-94" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb1-95"><a href="#cb1-95" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>Here is a more complex example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>paths2 <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(<span class="st">'examples/Paths2.krn'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>paths2</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################### vvv Paths2.krn vvv #########################</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">:</span> complex <span class="st">"Path"</span> example</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>              <span class="er">**</span>path                                          </span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                   a                                          </span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                  <span class="er">*^</span>                                          </span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   b                           c              </span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                   d                           e              </span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="er">*^</span>                           <span class="er">*</span>              </span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                   f             g             h              </span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                   i             j             k              </span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                  <span class="er">*</span>v            <span class="sc">*</span>v             <span class="sc">*</span>              </span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                   l                           m              </span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                   n                           o              </span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                   <span class="er">*</span>                          <span class="er">*^</span>              </span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                   p                           q             r</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">15</span><span class="sc">:</span>                   s                           t             u</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">16</span><span class="sc">:</span>                   <span class="er">*</span>                          <span class="er">*</span>v            <span class="sc">*</span>v</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">17</span><span class="sc">:</span>                   v                           w              </span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">18</span><span class="sc">:</span>                   x                           y              </span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">19</span><span class="sc">:</span>                  <span class="er">*</span>v                          <span class="sc">*</span>v              </span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">20</span><span class="sc">:</span>                   z                                          </span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">21</span><span class="sc">:</span>                  <span class="er">*</span><span class="sc">-</span>                                          </span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################### ^^^ Paths2.krn ^^^ #########################</span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>Notice that humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>
prints paths in a way that is more readable than reading humdrum syntax
directly: paths are “shifted” over into columns that align. This is an
option to the function <code><a href="../reference/humCoercion.html">as.matrix.humdrumR()</a></code>.</p>
<div class="section level3">
<h3 id="working-with-paths">Working with Paths<a class="anchor" aria-label="anchor" href="#working-with-paths"></a>
</h3>
<p>How you work with spine paths depends, as always, on the nature of
the data. If you are simply doing global counting of notes, for example,
tokens in paths might be treated no differently than any other data. In
some data sets, information in spine paths might not be relevant to your
analyses—for example, if the paths are used to store <a href="https://en.wikipedia.org/wiki/Ossia" class="external-link">ossia</a>. In other
analyses—especially, if you are analyzing data in a linear/melodic way—,
incorporating/handling spine paths may be very difficult, with no
obviously correct way to do it. In fact, many of humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>’s standard “lagged”
functions—like <code><a href="../reference/ditto.html">ditto()</a></code>, <code><a href="../reference/int.html">mint()</a></code>, and
<code><a href="../reference/timeline.html">timeline()</a></code>—can give weird results in the presence of spine
paths. Often, the simplest solution is to simply ignore/remove spine
paths from your data. Since the <code>Path</code> field is numbered
starting from <code>0</code>, this can be achieved easily by filtering
out anywhere where <code>Path &gt; 0</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>paths1 <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">filter</span>(Path <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">removeEmptyPaths</span>()</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############### vvv Paths.krn vvv ################</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">:</span> <span class="st">"Path"</span> example</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="er">=</span><span class="sc">-</span>                  <span class="er">=</span><span class="sc">-</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                    4C             4cc 4ee</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                    4D              4b 4dd</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                    4E              2a 2cc</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                    4F                   .</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                     <span class="er">*</span>                  <span class="er">*^</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                    1G                  8g</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                     .                  8a</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                     .                  8g</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">15</span><span class="sc">:</span>                     .                 8f<span class="co">#</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">16</span><span class="sc">:</span>                     .                  4g</span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">17</span><span class="sc">:</span>                     .                  4f</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">18</span><span class="sc">:</span>                     <span class="er">*</span>                  <span class="er">*</span>v</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">19</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">20</span><span class="sc">:</span>                    1C           1e 1g 1cc</span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">21</span><span class="sc">:</span>                    <span class="er">==</span>                  <span class="er">==</span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">22</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############### ^^^ Paths.krn ^^^ ################</span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<div class="section level4">
<h4 id="expanding-paths">Expanding Paths<a class="anchor" aria-label="anchor" href="#expanding-paths"></a>
</h4>
<p>One way of doing linear/melodic analyses in the presence of spine
paths is to “expand” the paths into full spines. The
<code><a href="../reference/expandPaths.html">expandPaths()</a></code> function will “expand” paths by copying the
parts of spines that are shared by multiple paths into separate paths
(or spines). Observe:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>paths2 <span class="sc">|&gt;</span> <span class="fu">expandPaths</span>(<span class="at">asSpines =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################### vvv Paths2.krn vvv #########################</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">:</span> complex <span class="st">"Path"</span> example</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>           <span class="er">**</span>path         <span class="sc">**</span>path         <span class="sc">**</span>path         <span class="sc">**</span>path</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                a              a              a              a</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>               <span class="er">*^</span>             <span class="er">*^</span>             <span class="er">*^</span>             <span class="er">*^</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                b              b              c              c</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                d              d              e              e</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>               <span class="er">*^</span>             <span class="er">*^</span>              <span class="er">*</span>              <span class="er">*</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                f              g              h              h</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                i              j              k              k</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>               <span class="er">*</span>v             <span class="sc">*</span>v              <span class="sc">*</span>              <span class="er">*</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                l              l              m              m</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                n              n              o              o</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                <span class="er">*</span>              <span class="er">*</span>             <span class="er">*^</span>             <span class="er">*^</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                p              p              q              r</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">15</span><span class="sc">:</span>                s              s              t              u</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">16</span><span class="sc">:</span>                <span class="er">*</span>              <span class="er">*</span>             <span class="er">*</span>v             <span class="sc">*</span>v</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">17</span><span class="sc">:</span>                v              v              w              w</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">18</span><span class="sc">:</span>                x              x              y              y</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">19</span><span class="sc">:</span>               <span class="er">*</span>v             <span class="sc">*</span>v             <span class="sc">*</span>v             <span class="sc">*</span>v</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">20</span><span class="sc">:</span>                z              z              z              z</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">21</span><span class="sc">:</span>               <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span>             <span class="er">*</span><span class="sc">-</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################### ^^^ Paths2.krn ^^^ #########################</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>Humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>’s
[tidyverse methods][withinHumdrum], like <code>mutate()</code> and
<code><a href="../reference/withinHumdrum.html">within()</a></code>, also have an <code>expandPaths</code> argument.
If <code>expandPaths = TRUE</code>, these functions will expand spine
paths, apply their expression, then “unexpand” the paths back to normal.
Look at the differnce between these two calls:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>paths2 <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Spine, Path) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Enumerate =</span> <span class="fu">seq_along</span>(Token))</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################### vvv Paths2.krn vvv #########################</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>        <span class="dv">1</span><span class="sc">:</span><span class="cn">NA</span><span class="sc">:</span><span class="dv">11</span><span class="sc">:</span><span class="cn">NA</span>                                             </span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>          <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">21</span><span class="sc">:</span><span class="dv">1</span>                                             </span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>         <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">31</span><span class="sc">:</span><span class="dv">11</span>                                             </span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                <span class="er">*^</span>                                             </span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>         <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">51</span><span class="sc">:</span><span class="dv">12</span>                     <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">51</span><span class="sc">:</span><span class="dv">11</span>               </span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>         <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">61</span><span class="sc">:</span><span class="dv">13</span>                     <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">61</span><span class="sc">:</span><span class="dv">12</span>               </span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                <span class="er">*^</span>                             <span class="er">*</span>               </span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>         <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">81</span><span class="sc">:</span><span class="dv">14</span>     <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">81</span><span class="sc">:</span><span class="dv">11</span>       <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">81</span><span class="sc">:</span><span class="dv">13</span>               </span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>         <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">91</span><span class="sc">:</span><span class="dv">15</span>     <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">91</span><span class="sc">:</span><span class="dv">12</span>       <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">91</span><span class="sc">:</span><span class="dv">14</span>               </span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                <span class="er">*</span>v            <span class="sc">*</span>v               <span class="sc">*</span>               </span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>        <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">111</span><span class="sc">:</span><span class="dv">16</span>                    <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">111</span><span class="sc">:</span><span class="dv">15</span>               </span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>        <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">121</span><span class="sc">:</span><span class="dv">17</span>                    <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">121</span><span class="sc">:</span><span class="dv">16</span>               </span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                 <span class="er">*</span>                            <span class="er">*^</span>               </span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>        <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">141</span><span class="sc">:</span><span class="dv">18</span>                    <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">141</span><span class="sc">:</span><span class="dv">17</span>     <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">141</span><span class="sc">:</span><span class="dv">11</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">15</span><span class="sc">:</span>        <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">151</span><span class="sc">:</span><span class="dv">19</span>                    <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">151</span><span class="sc">:</span><span class="dv">18</span>     <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">151</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">16</span><span class="sc">:</span>                 <span class="er">*</span>                            <span class="er">*</span>v             <span class="sc">*</span>v</span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">17</span><span class="sc">:</span>       <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">171</span><span class="sc">:</span><span class="dv">110</span>                    <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">171</span><span class="sc">:</span><span class="dv">19</span>               </span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">18</span><span class="sc">:</span>       <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">181</span><span class="sc">:</span><span class="dv">111</span>                   <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">181</span><span class="sc">:</span><span class="dv">110</span>               </span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">19</span><span class="sc">:</span>                <span class="er">*</span>v                            <span class="sc">*</span>v               </span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">20</span><span class="sc">:</span>       <span class="dv">1</span><span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">201</span><span class="sc">:</span><span class="dv">112</span>                                             </span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">21</span><span class="sc">:</span>                <span class="er">*</span><span class="sc">-</span>                                             </span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################### ^^^ Paths2.krn ^^^ #########################</span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Enumerate          <span class="sc">::</span> integer</span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Piece.Spine        <span class="sc">::</span> character</span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Piece.Spine.Record <span class="sc">::</span> character</span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a><span class="sc">&gt;</span>                Token              <span class="sc">::</span> character</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a><span class="er">&gt;</span>       Grouping fields<span class="sc">:</span> (four groups)</span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a><span class="sc">&gt;</span>                Path               <span class="sc">::</span> integer</span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a><span class="sc">&gt;</span>                Spine              <span class="sc">::</span> integer</span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>paths2 <span class="sc">|&gt;</span></span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a>  <span class="fu">group_by</span>(Spine, Path) <span class="sc">|&gt;</span></span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Enumerate =</span> <span class="fu">seq_along</span>(Token), <span class="at">expandPaths =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################### vvv Paths2.krn vvv #########################</span></span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>              <span class="er">**</span>path                                          </span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                   <span class="dv">1</span>                                          </span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                  <span class="er">*^</span>                                          </span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                   <span class="dv">2</span>                           <span class="dv">2</span>              </span>
<span id="cb5-47"><a href="#cb5-47" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                   <span class="dv">3</span>                           <span class="dv">3</span>              </span>
<span id="cb5-48"><a href="#cb5-48" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                  <span class="er">*^</span>                           <span class="er">*</span>              </span>
<span id="cb5-49"><a href="#cb5-49" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                   <span class="dv">4</span>             <span class="dv">4</span>             <span class="dv">4</span>              </span>
<span id="cb5-50"><a href="#cb5-50" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                   <span class="dv">5</span>             <span class="dv">5</span>             <span class="dv">5</span>              </span>
<span id="cb5-51"><a href="#cb5-51" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                  <span class="er">*</span>v            <span class="sc">*</span>v             <span class="sc">*</span>              </span>
<span id="cb5-52"><a href="#cb5-52" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">11</span><span class="sc">:</span>                   <span class="dv">6</span>                           <span class="dv">6</span>              </span>
<span id="cb5-53"><a href="#cb5-53" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">12</span><span class="sc">:</span>                   <span class="dv">7</span>                           <span class="dv">7</span>              </span>
<span id="cb5-54"><a href="#cb5-54" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">13</span><span class="sc">:</span>                   <span class="er">*</span>                          <span class="er">*^</span>              </span>
<span id="cb5-55"><a href="#cb5-55" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">14</span><span class="sc">:</span>                   <span class="dv">8</span>                           <span class="dv">8</span>             <span class="dv">8</span></span>
<span id="cb5-56"><a href="#cb5-56" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">15</span><span class="sc">:</span>                   <span class="dv">9</span>                           <span class="dv">9</span>             <span class="dv">9</span></span>
<span id="cb5-57"><a href="#cb5-57" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">16</span><span class="sc">:</span>                   <span class="er">*</span>                          <span class="er">*</span>v            <span class="sc">*</span>v</span>
<span id="cb5-58"><a href="#cb5-58" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">17</span><span class="sc">:</span>                  <span class="dv">10</span>                          <span class="dv">10</span>              </span>
<span id="cb5-59"><a href="#cb5-59" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">18</span><span class="sc">:</span>                  <span class="dv">11</span>                          <span class="dv">11</span>              </span>
<span id="cb5-60"><a href="#cb5-60" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">19</span><span class="sc">:</span>                  <span class="er">*</span>v                          <span class="sc">*</span>v              </span>
<span id="cb5-61"><a href="#cb5-61" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">20</span><span class="sc">:</span>                  <span class="dv">12</span>                                          </span>
<span id="cb5-62"><a href="#cb5-62" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">21</span><span class="sc">:</span>                  <span class="er">*</span><span class="sc">-</span>                                          </span>
<span id="cb5-63"><a href="#cb5-63" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################### ^^^ Paths2.krn ^^^ #########################</span></span>
<span id="cb5-64"><a href="#cb5-64" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb5-65"><a href="#cb5-65" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb5-66"><a href="#cb5-66" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Enumerate <span class="sc">::</span> integer</span>
<span id="cb5-67"><a href="#cb5-67" tabindex="-1"></a><span class="sc">&gt;</span>                Token     <span class="sc">::</span> character</span>
<span id="cb5-68"><a href="#cb5-68" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb5-69"><a href="#cb5-69" tabindex="-1"></a><span class="er">&gt;</span>       Grouping fields<span class="sc">:</span> (four groups)</span>
<span id="cb5-70"><a href="#cb5-70" tabindex="-1"></a><span class="sc">&gt;</span>                Path      <span class="sc">::</span> integer</span>
<span id="cb5-71"><a href="#cb5-71" tabindex="-1"></a><span class="sc">&gt;</span>                Spine     <span class="sc">::</span> integer</span></code></pre></div>
<p>Notice how, when we <em>don’t</em> use <code>expandPaths</code>, each
path is counted entirely separately from the rest.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="stops">Stops<a class="anchor" aria-label="anchor" href="#stops"></a>
</h2>
<p>In humdrum syntax, multiple tokens can be placed “in the same place”
(i.e., same record, same spine) by simply separating them with spaces.
(This is most commonly used to represent chords in <code>**kern</code>
data.) In humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>, we
call these “Stops”—as always, <strong>every</strong> humdrum token,
including stops, get their own row in a humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> [humdrum table][humTable].
Thus, we need the <code>Stop</code> field to tell us which stop a token
came from! In much data, all/most tokens are simply
<code>Stop == 1</code> (the first position), but if there are more than
one tokens in the same record/spine, they will be numbered ascending
from one.</p>
<p>Let’s look at an example to make sense of this! Let’s start by
looking at our humdrum-data view.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>stops <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'examples/Stops.krn'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>stops <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">view =</span> <span class="st">'humdrum'</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############### vvv Stops.krn vvv ################</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">:</span> <span class="st">"Stop"</span> example</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="er">=</span><span class="sc">-</span>                  <span class="er">=</span><span class="sc">-</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                    2G            4g cc ee</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                     .             4f b dd</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                   2C;             2e; cc;</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############### ^^^ Stops.krn ^^^ ################</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a>stops <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">view =</span> <span class="st">'data.frame'</span>)</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="sc">&gt;</span>      Piece       Spine       Record       Stop               Token</span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">######################## vvv Stops.krn vvv #########################</span></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>        <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>            <span class="dv">1</span>       <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;!!!</span>OTL<span class="sc">:</span> <span class="st">"Stop"</span> ...mp</span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">2</span>          <span class="dv">1</span>              <span class="sc">**</span>kern</span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">3</span>          <span class="dv">1</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">4</span>          <span class="dv">1</span>                 <span class="sc">*</span>C<span class="sc">:</span></span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">5</span>          <span class="dv">1</span>                  <span class="ot">=</span><span class="sc">-</span></span>
<span id="cb6-28"><a href="#cb6-28" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">6</span>          <span class="dv">1</span>                  2G</span>
<span id="cb6-29"><a href="#cb6-29" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">7</span>          <span class="dv">1</span>                   .</span>
<span id="cb6-30"><a href="#cb6-30" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">8</span>          <span class="dv">1</span>                 2C;</span>
<span id="cb6-31"><a href="#cb6-31" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>            <span class="dv">9</span>          <span class="dv">1</span>                   <span class="ot">=</span></span>
<span id="cb6-32"><a href="#cb6-32" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">1</span>           <span class="dv">10</span>          <span class="dv">1</span>                  <span class="sc">*-</span></span>
<span id="cb6-33"><a href="#cb6-33" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">2</span>          <span class="dv">1</span>              <span class="sc">**</span>kern</span>
<span id="cb6-34"><a href="#cb6-34" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">3</span>          <span class="dv">1</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb6-35"><a href="#cb6-35" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">4</span>          <span class="dv">1</span>                 <span class="sc">*</span>C<span class="sc">:</span></span>
<span id="cb6-36"><a href="#cb6-36" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">5</span>          <span class="dv">1</span>                  <span class="ot">=</span><span class="sc">-</span></span>
<span id="cb6-37"><a href="#cb6-37" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">6</span>          <span class="dv">1</span>                  4g</span>
<span id="cb6-38"><a href="#cb6-38" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">6</span>          <span class="dv">2</span>                  cc</span>
<span id="cb6-39"><a href="#cb6-39" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">6</span>          <span class="dv">3</span>                  ee</span>
<span id="cb6-40"><a href="#cb6-40" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">7</span>          <span class="dv">1</span>                  4f</span>
<span id="cb6-41"><a href="#cb6-41" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">7</span>          <span class="dv">2</span>                   b</span>
<span id="cb6-42"><a href="#cb6-42" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">7</span>          <span class="dv">3</span>                  dd</span>
<span id="cb6-43"><a href="#cb6-43" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">8</span>          <span class="dv">1</span>                 2e;</span>
<span id="cb6-44"><a href="#cb6-44" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">8</span>          <span class="dv">2</span>                 cc;</span>
<span id="cb6-45"><a href="#cb6-45" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>            <span class="dv">9</span>          <span class="dv">1</span>                   <span class="ot">=</span></span>
<span id="cb6-46"><a href="#cb6-46" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">1</span>           <span class="dv">2</span>           <span class="dv">10</span>          <span class="dv">1</span>                  <span class="sc">*-</span></span>
<span id="cb6-47"><a href="#cb6-47" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">######################## ^^^ Stops.krn ^^^ #########################</span></span>
<span id="cb6-48"><a href="#cb6-48" tabindex="-1"></a><span class="er">&gt;</span>      Piece       Spine       Record       Stop               Token</span>
<span id="cb6-49"><a href="#cb6-49" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb6-50"><a href="#cb6-50" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb6-51"><a href="#cb6-51" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>Here we have a file with chords in the second spine: individual note
tokens separated by spaces. Now, we can switch back to table view: You
can see that each note of the chords gets its own row, numbered
<code>1</code>, <code>2</code>, and <code>3</code> in the
<code>Stop</code> field!</p>
<div class="section level3">
<h3 id="working-with-multi-stops">Working with Multi-Stops<a class="anchor" aria-label="anchor" href="#working-with-multi-stops"></a>
</h3>
<p>Working with multi-stops is often even more challenging than working
with spine paths. How you work with stops depends, as always, on the
nature of the data. Again, If you are simply doing global counting of
notes, for example, tokens in stops might be treated no differently than
any other data. In other analyses—especially, if you are analyzing data
in a linear/melodic way—, incorporating/handling spine paths may be very
difficult, with no obviously correct way to do it. In fact, many of
humdrum<span class="math inline">\(_{\mathbb{R}}\)</span>’s standard
“lagged” functions—like <code><a href="../reference/ditto.html">ditto()</a></code>, <code><a href="../reference/int.html">mint()</a></code>, and
<code><a href="../reference/timeline.html">timeline()</a></code>—can give weird results in the presence of stops.
Often, the simplest solution is to simply ignore/remove stops from your
data. Since the <code>Stop</code> field is numbered starting from
<code>1</code>, this can be achieved easily by filtering out anywhere
where <code>Stop &gt; 1</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>stops <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">filter</span>(Stop <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="fu">removeEmptyStops</span>()</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############### vvv Stops.krn vvv ################</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">:</span> <span class="st">"Stop"</span> example</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">2</span><span class="sc">:</span>                <span class="er">**</span>kern              <span class="sc">**</span>kern</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">3</span><span class="sc">:</span>                 <span class="er">*</span>M4<span class="sc">/</span><span class="dv">4</span>               <span class="sc">*</span>M4<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">4</span><span class="sc">:</span>                   <span class="er">*</span>C<span class="sc">:</span>                 <span class="er">*</span>C<span class="sc">:</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">5</span><span class="sc">:</span>                    <span class="er">=</span><span class="sc">-</span>                  <span class="er">=</span><span class="sc">-</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="er">&gt;</span>       <span class="dv">6</span><span class="sc">:</span>                    2G                  4g</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">7</span><span class="sc">:</span>                     .                  4f</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">8</span><span class="sc">:</span>                   2C;                 2e;</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">9</span><span class="sc">:</span>                     <span class="er">=</span>                   <span class="er">=</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">10</span><span class="sc">:</span>                    <span class="er">*</span><span class="sc">-</span>                  <span class="er">*</span><span class="sc">-</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############### ^^^ Stops.krn ^^^ ################</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="er">&gt;</span>       Data fields<span class="sc">:</span> </span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<!---

### Unfolding stops


One way of doing analyses in the presence of stops is to "unfold" single-tokens to fill out the stops.
Try the `unfoldStops()` function:

#```{r}
#stops |> 
#  unfoldStops()
#
#```

-->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
