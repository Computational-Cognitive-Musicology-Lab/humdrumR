<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="humdrumR">
<title>Working with humdrum data • humdrumR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Working with humdrum data">
<meta property="og:description" content="humdrumR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">humdrumR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/GettingStarted.html">Getting started with humdrumR</a>
    <a class="dropdown-item" href="../articles/IntroForCoders.html">HumdrumR for coders</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R/Humdrum background</h6>
    <a class="dropdown-item" href="../articles/HumdrumSyntax.html">The humdrum syntax</a>
    <a class="dropdown-item" href="../articles/RPrimer.html">An R primer for humdrumR users</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data prep</h6>
    <a class="dropdown-item" href="../articles/ReadWrite.html">Reading and writing data</a>
    <a class="dropdown-item" href="../articles/Reshaping.html">Shaping humdrum data</a>
    <a class="dropdown-item" href="../articles/Filtering.html">Filtering humdrum data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/Summary.html">Getting to know your data</a>
    <a class="dropdown-item" href="../articles/WorkingWithData.html">Working with humdrum data</a>
    <a class="dropdown-item" href="../articles/Context.html">Contextualizing data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Musical tools</h6>
    <a class="dropdown-item" href="../articles/PitchAndTonality.html">Pitch and tonality in humdrumR</a>
    <a class="dropdown-item" href="../articles/RhythmAndMeter.html">Time, rhythm, and meter in humdrumR</a>
    <a class="dropdown-item" href="../articles/KeysAndChord.html">Diatonic and tertian sets in humdrumR</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Working with humdrum data</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Condit-Schultz</h4>
            
            <h4 data-toc-skip class="date">July 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Computational-Cognitive-Musicology-Lab/humdrumR/blob/HEAD/vignettes/WorkingWithData.Rmd" class="external-link"><code>vignettes/WorkingWithData.Rmd</code></a></small>
      <div class="d-none name"><code>WorkingWithData.Rmd</code></div>
    </div>

    
    
<p>Once we have <a href="ReadWrite.html" title="Reading and writing humdrum data">imported humdrum data</a> into
R, we’ll be ready to actually work with our data! The humdrum data
you’ve imported is stored in a humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> data object, which gives us
some special tools for working with it.</p>
<p>Let’s load some of the prepackaged data, as we learned in the <a href="ReadWrite.html" title="Reading and writing humdrum data">read/write vignette</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>chorales <span class="ot">&lt;-</span> <span class="fu">readHumdrum</span>(humdrumRroot, <span class="st">'HumdrumData/BachChorales/chor.*.krn'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>chorales</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>          <span class="er">**</span>kern        <span class="sc">**</span>kern        <span class="sc">**</span>kern        <span class="sc">**</span>kern</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>             4GG            4B            4d            4g</span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>              4G            4B            4d            2g</span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>              4E           8cL            4e             .</span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .           8BJ             .             .</span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>             4F<span class="co">#            4A            4d           4dd</span></span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>              4G            4G            2d           <span class="fl">4.</span>b</span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>              4D           4F<span class="co">#             .             .</span></span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .            8a</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>              4E            4G            4B            4g</span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>              4C           8cL           8eL           <span class="fl">4.</span>g</span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .           8BJ            8d             .</span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>            8BBL            4c            8e             .</span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>            8AAJ             .          8f<span class="co">#J            8a</span></span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>             4GG            4d            4g            4b</span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>             2D;           2d;          2f<span class="co">#;           2a;</span></span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>             4GG            4d            4g            4b</span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb1-51"><a href="#cb1-51" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb1-52"><a href="#cb1-52" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>            2AA;           2c;           2e;           2a;</span>
<span id="cb1-53"><a href="#cb1-53" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>              2A            2e            2a           2cc</span>
<span id="cb1-54"><a href="#cb1-54" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb1-55"><a href="#cb1-55" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>              4E            4e            4g            4b</span>
<span id="cb1-56"><a href="#cb1-56" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>             8DL            4e            4g           4cc</span>
<span id="cb1-57"><a href="#cb1-57" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>             8CJ             .             .             .</span>
<span id="cb1-58"><a href="#cb1-58" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>             4BB            4d           8gL           4dd</span>
<span id="cb1-59"><a href="#cb1-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .           8fJ             .</span>
<span id="cb1-60"><a href="#cb1-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>              4C            4c            4e            4g</span>
<span id="cb1-61"><a href="#cb1-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb1-62"><a href="#cb1-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>              4D           8F<span class="co">#            4d            4b</span></span>
<span id="cb1-63"><a href="#cb1-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .            4G             .             .</span>
<span id="cb1-64"><a href="#cb1-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>              4D             .            4c            4a</span>
<span id="cb1-65"><a href="#cb1-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .           8F<span class="co">#             .             .</span></span>
<span id="cb1-66"><a href="#cb1-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>            2GG;           2G;           2B;           2g;</span>
<span id="cb1-67"><a href="#cb1-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb1-68"><a href="#cb1-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>              2C            2G            2e            2g</span>
<span id="cb1-69"><a href="#cb1-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>             4AA            4A            4e           4cc</span>
<span id="cb1-70"><a href="#cb1-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>              4E           4G<span class="co">#           8eL            4b</span></span>
<span id="cb1-71"><a href="#cb1-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .           8dJ             .</span>
<span id="cb1-72"><a href="#cb1-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb1-73"><a href="#cb1-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>              4F            4A            4c            4a</span>
<span id="cb1-74"><a href="#cb1-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>              4C            4G            4c            4e</span>
<span id="cb1-75"><a href="#cb1-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>            4BB<span class="sc">-</span>            4G           [2d            4g</span>
<span id="cb1-76"><a href="#cb1-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>             4AA            4A             .            4f</span>
<span id="cb1-77"><a href="#cb1-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb1-78"><a href="#cb1-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>            4GG<span class="co">#            4B           4d]           1e;</span></span>
<span id="cb1-79"><a href="#cb1-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>             4AA            4A            4c             .</span>
<span id="cb1-80"><a href="#cb1-80" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>            2EE;         2G<span class="co">#X;           2B;             .</span></span>
<span id="cb1-81"><a href="#cb1-81" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb1-82"><a href="#cb1-82" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb1-83"><a href="#cb1-83" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb1-84"><a href="#cb1-84" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb1-85"><a href="#cb1-85" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb1-86"><a href="#cb1-86" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb1-87"><a href="#cb1-87" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb1-88"><a href="#cb1-88" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb1-89"><a href="#cb1-89" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb1-90"><a href="#cb1-90" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb1-91"><a href="#cb1-91" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb1-92"><a href="#cb1-92" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb1-93"><a href="#cb1-93" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb1-94"><a href="#cb1-94" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb1-95"><a href="#cb1-95" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb1-96"><a href="#cb1-96" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb1-97"><a href="#cb1-97" tabindex="-1"></a><span class="er">&gt;</span>               <span class="er">*</span>Token <span class="sc">::</span> character</span></code></pre></div>
<p>So we’ve got ten files of <code>**kern</code> data. How do we access
or manipulate this data?</p>
<div class="section level2">
<h2 id="with-and-within-you">With and within you<a class="anchor" aria-label="anchor" href="#with-and-within-you"></a>
</h2>
<p>The key functions for working with humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> data objects are
<code>with</code> and <code>within</code>. These functions allow you to
get “inside” your data. Basically, once you call
<code>with</code>/<code>within</code>, all the data fields within the
data become available to you, to do with as you will.</p>
<div class="section level3">
<h3 id="with">With<a class="anchor" aria-label="anchor" href="#with"></a>
</h3>
<p>Let’s start with <code>with</code>. You should call <code>with</code>
with a humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> data
object as the first argument. Your second argument can be any arbitrary
R <em>expression</em> you like, and can use fields of the humdrum data.
An “expression” is just a valid bit of R code; for example,
<code>2 + 2</code>, <code>c(1, 2, 3)</code>,
<code>(x - mean(x))^2</code>, and
<code>nchar(letters) |&gt; mean()</code> are all examples of
expressions. So “any arbitrary R expression” is just a fancy way of
saying any R code that <em>you</em> want. When we execute an R command,
R “<em>evaluates</em>” the expression(s) and returns their results.</p>
<p>As a starting point, lets tabulate all the tokens we have in our
dataset. When you first load humdrum data, the original data tokens are
always put into a field called <code>Token</code>. We will use the
<em>awesome</em> built-in R function, <code>table</code>, to tabulate
the unique tokens in our <code>Token</code> field. However, we can’t
access the <code>Token</code> field directly; if we just write the
expression on the <code>table(Token)</code> we’ll get an error—R will
not be able to “find”, and will say
“<code>Error: object 'Token' not found</code>.” Instead, we use
<code>with</code> to enter the data, where R can “see”
<code>Token</code> (and all other data fields):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">with</span>(chorales, <span class="fu">table</span>(Token))</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="sc">&gt;</span>    Token</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="sc">&gt;</span>        [2d     [2e     [4a     [4A     [4B     [4c     [4d     [4e     [4E     [4f </span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">1</span> </span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="sc">&gt;</span>       [4f<span class="co">#     [4g     [4G    [8cJ    [8CJ    [8gJ    16AL  16B-Jk 16b-XJJ  16BBJJ </span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">4</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="sc">&gt;</span>      16BJJ   16C<span class="co">#L  16c#LL   16ccL  16ccLL  16d#JJ  16ddJJ   16dJJ   16EJJ    16eL </span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">2</span> </span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="sc">&gt;</span>      16F<span class="co">#L     1e;    2.a;    2.A;   2.AA;     2.b    2.b;    2.B;   2.BB;    2.c; </span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="fl">2.</span>C<span class="co">#   2.c#;     2.d    2.d;     2.e    2.e;    2.ee    2.f;   2.f#;   2.FF; </span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="fl">2.</span>g;   <span class="fl">2.</span>GG;      2a      2A    2a<span class="sc">-</span>;    2A<span class="sc">-</span>;     2a;     2A;   2AA<span class="sc">-</span>;    2AA; </span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">17</span>      <span class="dv">10</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">9</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">4</span> </span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="sc">&gt;</span>         2b      2B    2b<span class="sc">-</span>;     2b;     2B;     2BB   2BB<span class="sc">-</span>;    2BB;      2c      2C </span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">10</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">8</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="sc">&gt;</span>        2c;     2C;     2c<span class="co">#    2c#;     2cc    2cc#   2cc#;      2d      2D    2d-; </span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">6</span>       <span class="dv">1</span>       <span class="dv">5</span>       <span class="dv">3</span>       <span class="dv">3</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">6</span>       <span class="dv">5</span>       <span class="dv">1</span> </span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="sc">&gt;</span>        2d;     2D;     2d<span class="co">#     2D#    2d#;     2dd    2DnX      2e      2E    2e-; </span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">6</span>       <span class="dv">5</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">8</span>       <span class="dv">1</span>      <span class="dv">13</span>       <span class="dv">4</span>       <span class="dv">1</span> </span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="sc">&gt;</span>        2e;     2E;     2E<span class="co">#    2EE;     2f;     2f#     2F#    2f#;    2F#;    2FF; </span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">9</span>       <span class="dv">5</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">4</span>      <span class="dv">10</span>       <span class="dv">4</span>       <span class="dv">5</span>       <span class="dv">1</span>       <span class="dv">3</span> </span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="sc">&gt;</span>      2FF<span class="co">#;      2g      2G     2g;     2G;     2g#     2G#    2g#;    2G#;   2G#X; </span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">7</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">4</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">4</span>       <span class="dv">1</span> </span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="sc">&gt;</span>       2GG;     <span class="fl">4.</span>a    <span class="fl">4.</span>a<span class="sc">-</span>     <span class="fl">4.</span>b     <span class="fl">4.</span>B    <span class="fl">4.</span>b<span class="sc">-</span>    <span class="fl">4.</span>BB     <span class="fl">4.</span>c   <span class="fl">4.</span>cc<span class="co">#     4.d </span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">3</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="fl">4.</span>dd     <span class="fl">4.</span>e    <span class="fl">4.</span>e<span class="sc">-</span>    <span class="fl">4.</span>ee     <span class="fl">4.</span>f    <span class="fl">4.</span>f<span class="co">#     4.g      4a      4A     4a- </span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">5</span>      <span class="dv">90</span>      <span class="dv">58</span>      <span class="dv">15</span> </span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a><span class="sc">&gt;</span>        4A<span class="sc">-</span>    4a<span class="sc">-</span>;    4A<span class="sc">-</span>;    4a<span class="sc">-</span>X     4a;     4A;     4a<span class="co">#     4A#     4AA    4AA- </span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">4</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">8</span>       <span class="dv">3</span>       <span class="dv">4</span>       <span class="dv">2</span>      <span class="dv">20</span>       <span class="dv">2</span> </span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a><span class="sc">&gt;</span>      4AA<span class="sc">-</span>;    4AA;    4AA<span class="co">#    4anX      4b      4B     4b-     4B-    4B-X     4b; </span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">5</span>       <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">81</span>      <span class="dv">56</span>      <span class="dv">16</span>      <span class="dv">10</span>       <span class="dv">1</span>       <span class="dv">9</span> </span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a><span class="sc">&gt;</span>        4B;     4B]     4BB    4BB<span class="sc">-</span>    4BB;      4c      4C     4c;     4C;     4c] </span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">9</span>       <span class="dv">1</span>      <span class="dv">25</span>       <span class="dv">7</span>       <span class="dv">3</span>      <span class="dv">49</span>      <span class="dv">23</span>       <span class="dv">8</span>       <span class="dv">2</span>       <span class="dv">1</span> </span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a><span class="sc">&gt;</span>        4c<span class="co">#     4C#    4c#;    4C#;     4cc    4cc;    4cc#   4ccnX    4CnX      4d </span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">27</span>      <span class="dv">19</span>       <span class="dv">2</span>       <span class="dv">1</span>      <span class="dv">48</span>       <span class="dv">3</span>      <span class="dv">28</span>       <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">53</span> </span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a><span class="sc">&gt;</span>         4D     4d<span class="sc">-</span>     4D<span class="sc">-</span>     4d;     4D;     4d]     4d<span class="co">#     4D#    4d#;     4dd </span></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">30</span>       <span class="dv">9</span>       <span class="dv">4</span>       <span class="dv">8</span>       <span class="dv">4</span>       <span class="dv">1</span>       <span class="dv">9</span>       <span class="dv">8</span>       <span class="dv">3</span>      <span class="dv">29</span> </span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a><span class="sc">&gt;</span>        4DD    4dd<span class="sc">-</span>    4dd;    4dd<span class="co">#    4dnX    4DnX      4e      4E     4e-     4E- </span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">7</span>       <span class="dv">2</span>       <span class="dv">3</span>       <span class="dv">2</span>       <span class="dv">1</span>     <span class="dv">103</span>      <span class="dv">43</span>       <span class="dv">7</span>       <span class="dv">6</span> </span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a><span class="sc">&gt;</span>       4e<span class="sc">-</span>;     4e;     4E;     4e]     4E]     4e<span class="co">#     4E#    4e#;    4E#X     4ee </span></span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">2</span>      <span class="dv">14</span>       <span class="dv">7</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">20</span> </span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a><span class="sc">&gt;</span>        4EE    4ee<span class="sc">-</span>   4ee<span class="sc">-</span>X    4ee;    4EE;    4enX    4EnX      4f      4F     4f; </span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">2</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">50</span>      <span class="dv">12</span>       <span class="dv">2</span> </span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a><span class="sc">&gt;</span>        4F;     4f<span class="co">#     4F#    4f#;    4F#;    4F#X   4F#X;     4ff     4FF    4ff; </span></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">2</span>      <span class="dv">47</span>      <span class="dv">30</span>       <span class="dv">4</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">6</span>       <span class="dv">3</span>       <span class="dv">1</span> </span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a><span class="sc">&gt;</span>       4FF;    4ff<span class="co">#    4FF#      4g      4G     4g-     4g;     4G;     4g]     4G] </span></span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>      <span class="dv">66</span>      <span class="dv">33</span>       <span class="dv">1</span>       <span class="dv">8</span>       <span class="dv">3</span>       <span class="dv">2</span>       <span class="dv">1</span> </span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a><span class="sc">&gt;</span>        4g<span class="co">#     4G#    4g#;    4G#;    4G#X   4G#X;     4gg     4GG    4GG;    4GG# </span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">34</span>      <span class="dv">21</span>       <span class="dv">5</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">15</span>       <span class="dv">5</span>       <span class="dv">2</span> </span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a><span class="sc">&gt;</span>       4gnX    4GnX      4r     4ry    <span class="fl">8.</span>cL      8a      8A     8a<span class="sc">-</span>     8A<span class="sc">-</span>    8a<span class="sc">-</span>J </span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">5</span>       <span class="dv">5</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">2</span> </span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a><span class="sc">&gt;</span>       8A<span class="sc">-</span>J    8a<span class="sc">-</span>L    8A<span class="sc">-</span>L   8a<span class="sc">-</span>XJ     8A<span class="co">#    8a#J    8A#J     8AA    8AA-    8AAJ </span></span>
<span id="cb2-54"><a href="#cb2-54" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">4</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">7</span> </span>
<span id="cb2-55"><a href="#cb2-55" tabindex="-1"></a><span class="sc">&gt;</span>       8AAL     8aJ     8AJ     8aL     8AL    8aL]    8AL]   8AnXL      8b     8b<span class="sc">-</span> </span>
<span id="cb2-56"><a href="#cb2-56" tabindex="-1"></a><span class="er">&gt;</span>          <span class="dv">4</span>      <span class="dv">15</span>      <span class="dv">17</span>      <span class="dv">10</span>      <span class="dv">12</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span> </span>
<span id="cb2-57"><a href="#cb2-57" tabindex="-1"></a><span class="sc">&gt;</span>        8B<span class="sc">-</span>    8b<span class="sc">-</span>J    8B<span class="sc">-</span>J    8b<span class="sc">-</span>L     8BB   8BB<span class="sc">-</span>J   8BB<span class="sc">-</span>L    8BBJ    8BBL     8bJ </span>
<span id="cb2-58"><a href="#cb2-58" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">6</span>       <span class="dv">2</span>       <span class="dv">3</span>       <span class="dv">6</span>       <span class="dv">3</span>       <span class="dv">6</span>       <span class="dv">4</span>      <span class="dv">11</span> </span>
<span id="cb2-59"><a href="#cb2-59" tabindex="-1"></a><span class="sc">&gt;</span>        8BJ     8bL     8BL      8c      8C     8C<span class="co">#    8c#J    8C#J    8c#L    8C#L </span></span>
<span id="cb2-60"><a href="#cb2-60" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">15</span>      <span class="dv">14</span>      <span class="dv">18</span>       <span class="dv">1</span>       <span class="dv">5</span>       <span class="dv">2</span>       <span class="dv">3</span>       <span class="dv">2</span>       <span class="dv">5</span>       <span class="dv">4</span> </span>
<span id="cb2-61"><a href="#cb2-61" tabindex="-1"></a><span class="sc">&gt;</span>      8c<span class="co">#XJ     8cc   8cc#J   8cc#L    8ccJ    8ccL     8cJ     8CJ     8cL     8CL </span></span>
<span id="cb2-62"><a href="#cb2-62" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">7</span>       <span class="dv">7</span>      <span class="dv">15</span>       <span class="dv">8</span>      <span class="dv">14</span>      <span class="dv">14</span> </span>
<span id="cb2-63"><a href="#cb2-63" tabindex="-1"></a><span class="sc">&gt;</span>       8cL]    8CL]   8cnXJ      8d      8D     8d<span class="sc">-</span>     8D<span class="sc">-</span>    8D<span class="sc">-</span>J    8D<span class="sc">-</span>L   8d<span class="sc">-</span>XJ </span>
<span id="cb2-64"><a href="#cb2-64" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">5</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">6</span>       <span class="dv">4</span>       <span class="dv">2</span>       <span class="dv">1</span> </span>
<span id="cb2-65"><a href="#cb2-65" tabindex="-1"></a><span class="sc">&gt;</span>       8d<span class="co">#J    8D#J    8d#L    8D#L     8dd   8dd#J    8ddJ    8ddL     8dJ     8DJ </span></span>
<span id="cb2-66"><a href="#cb2-66" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">5</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">4</span>      <span class="dv">19</span>      <span class="dv">15</span> </span>
<span id="cb2-67"><a href="#cb2-67" tabindex="-1"></a><span class="sc">&gt;</span>        8dL     8DL    8dL]    8dnJ      8e      8E     8E<span class="sc">-</span>    8e<span class="sc">-</span>J    8E<span class="sc">-</span>J    8e<span class="sc">-</span>L </span>
<span id="cb2-68"><a href="#cb2-68" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">24</span>       <span class="dv">6</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">6</span>       <span class="dv">2</span>       <span class="dv">6</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-69"><a href="#cb2-69" tabindex="-1"></a><span class="sc">&gt;</span>       8E<span class="sc">-</span>L    8EEJ    8eeL    8EEL     8eJ     8EJ     8eL     8EL    8eL]    8EL] </span>
<span id="cb2-70"><a href="#cb2-70" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">4</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span>      <span class="dv">20</span>       <span class="dv">7</span>      <span class="dv">35</span>      <span class="dv">15</span>       <span class="dv">2</span>       <span class="dv">1</span> </span>
<span id="cb2-71"><a href="#cb2-71" tabindex="-1"></a><span class="sc">&gt;</span>         8f      8F     8f<span class="co">#     8F#    8f#J    8F#J    8f#L    8F#L   8f#L]   8F#XJ </span></span>
<span id="cb2-72"><a href="#cb2-72" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">3</span>       <span class="dv">4</span>       <span class="dv">2</span>       <span class="dv">3</span>      <span class="dv">26</span>      <span class="dv">14</span>      <span class="dv">12</span>       <span class="dv">7</span>       <span class="dv">1</span>       <span class="dv">1</span> </span>
<span id="cb2-73"><a href="#cb2-73" tabindex="-1"></a><span class="sc">&gt;</span>      8f<span class="co">#XL   8FF#J    8FFL     8fJ     8FJ     8fL     8FL    8fL]   8FnXL      8g </span></span>
<span id="cb2-74"><a href="#cb2-74" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">2</span>       <span class="dv">4</span>       <span class="dv">5</span>       <span class="dv">5</span>       <span class="dv">6</span>       <span class="dv">1</span>       <span class="dv">1</span>       <span class="dv">3</span> </span>
<span id="cb2-75"><a href="#cb2-75" tabindex="-1"></a><span class="sc">&gt;</span>         8G     8g<span class="co">#     8G#    8g#J    8G#J    8g#L    8G#L   8g#XJ     8GG    8GGJ </span></span>
<span id="cb2-76"><a href="#cb2-76" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">4</span>       <span class="dv">4</span>       <span class="dv">4</span>       <span class="dv">7</span>       <span class="dv">7</span>       <span class="dv">5</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">2</span> </span>
<span id="cb2-77"><a href="#cb2-77" tabindex="-1"></a><span class="sc">&gt;</span>       8GGL     8gJ     8GJ     8gL     8GL    8gL]    8GL]   8gnXL   8GnXL </span>
<span id="cb2-78"><a href="#cb2-78" tabindex="-1"></a><span class="sc">&gt;</span>          <span class="dv">2</span>      <span class="dv">14</span>       <span class="dv">8</span>      <span class="dv">14</span>      <span class="dv">17</span>       <span class="dv">3</span>       <span class="dv">1</span>       <span class="dv">2</span>       <span class="dv">1</span></span></code></pre></div>
<p>It worked! However, there’s a <em>lot</em> of unique tokens in this
data, so its kind of a mess. Let’s take a page from the <a href="PitchAndTonality.Rmd" title="Pitch and tonality in humdrumR">pitch
vignette</a> and extract just the pitch information using the
<code>kern</code> function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>     <span class="fu">kern</span>(Token) <span class="sc">|&gt;</span> <span class="fu">table</span>())</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="er">&gt;</span>     CC CC<span class="co"># DD-  DD DD# EE-  EE EE#  FF FF# GG-  GG GG# AA-  AA AA# BB-  BB   C  C# </span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">7</span>   <span class="dv">0</span>  <span class="dv">10</span>   <span class="dv">5</span>   <span class="dv">0</span>  <span class="dv">29</span>   <span class="dv">2</span>   <span class="dv">5</span>  <span class="dv">44</span>   <span class="dv">1</span>  <span class="dv">17</span>  <span class="dv">48</span>  <span class="dv">57</span>  <span class="dv">30</span> </span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="sc">&gt;</span>     D<span class="sc">-</span>   D  D<span class="co">#  E-   E  E#   F  F#  G-   G  G#  A-   A  A#  B-   B   c  c#  d-   d </span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">16</span>  <span class="dv">70</span>  <span class="dv">12</span>  <span class="dv">17</span>  <span class="dv">89</span>   <span class="dv">4</span>  <span class="dv">30</span>  <span class="dv">65</span>   <span class="dv">0</span>  <span class="dv">73</span>  <span class="dv">46</span>  <span class="dv">11</span> <span class="dv">114</span>   <span class="dv">5</span>  <span class="dv">19</span> <span class="dv">115</span> <span class="dv">102</span>  <span class="dv">48</span>  <span class="dv">12</span> <span class="dv">134</span> </span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="sc">&gt;</span>     d<span class="co">#  e-   e  e#   f  f#  g-   g  g#  a-   a  a#  b-   b  cc cc# dd-  dd dd# ee- </span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">21</span>  <span class="dv">13</span> <span class="dv">213</span>   <span class="dv">4</span>  <span class="dv">74</span> <span class="dv">111</span>   <span class="dv">1</span> <span class="dv">134</span>  <span class="dv">61</span>  <span class="dv">29</span> <span class="dv">160</span>   <span class="dv">5</span>  <span class="dv">24</span> <span class="dv">134</span>  <span class="dv">73</span>  <span class="dv">37</span>   <span class="dv">7</span>  <span class="dv">48</span>   <span class="dv">4</span>   <span class="dv">4</span> </span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="sc">&gt;</span>     ee ee<span class="co">#  ff ff# gg-  gg gg# aa-  aa aa# bb-  bb   . </span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">25</span>   <span class="dv">0</span>   <span class="dv">7</span>   <span class="dv">1</span>   <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">4</span></span></code></pre></div>
<p>Much better! Notice that the <em>whole</em> expression
<code>kern(Token) |&gt; table()</code> is executed within the data. Our
expressions can get as complicated as we want. Let’s add a call to
<code>sort</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>     <span class="fu">kern</span>(Token) <span class="sc">|&gt;</span>  <span class="fu">table</span>() <span class="sc">|&gt;</span>  <span class="fu">sort</span>())</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="er">&gt;</span>     CC CC<span class="co"># DD- DD# EE- EE# GG-  G- ee# gg- gg# aa-  aa aa# bb-  bb  DD AA#  g- ff# </span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">1</span>   <span class="dv">1</span>   <span class="dv">1</span> </span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="sc">&gt;</span>     gg GG<span class="co">#  E#  e# dd# ee-   . FF# AA-  A#  a#  EE dd-  ff  FF  A-  D#  d-  e-  D- </span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="sc">&gt;</span>      <span class="dv">1</span>   <span class="dv">2</span>   <span class="dv">4</span>   <span class="dv">4</span>   <span class="dv">4</span>   <span class="dv">4</span>   <span class="dv">4</span>   <span class="dv">5</span>   <span class="dv">5</span>   <span class="dv">5</span>   <span class="dv">5</span>   <span class="dv">7</span>   <span class="dv">7</span>   <span class="dv">7</span>  <span class="dv">10</span>  <span class="dv">11</span>  <span class="dv">12</span>  <span class="dv">12</span>  <span class="dv">13</span>  <span class="dv">16</span> </span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="sc">&gt;</span>    BB<span class="sc">-</span>  E<span class="sc">-</span>  B<span class="sc">-</span>  d<span class="co">#  b-  ee  GG  a-  C#   F cc#  AA  G#  BB  c#  dd   C  g#  F#   D </span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">17</span>  <span class="dv">17</span>  <span class="dv">19</span>  <span class="dv">21</span>  <span class="dv">24</span>  <span class="dv">25</span>  <span class="dv">29</span>  <span class="dv">29</span>  <span class="dv">30</span>  <span class="dv">30</span>  <span class="dv">37</span>  <span class="dv">44</span>  <span class="dv">46</span>  <span class="dv">48</span>  <span class="dv">48</span>  <span class="dv">48</span>  <span class="dv">57</span>  <span class="dv">61</span>  <span class="dv">65</span>  <span class="dv">70</span> </span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="sc">&gt;</span>      G  cc   f   E   c  f<span class="co">#   A   B   d   g   b   a   e </span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">73</span>  <span class="dv">73</span>  <span class="dv">74</span>  <span class="dv">89</span> <span class="dv">102</span> <span class="dv">111</span> <span class="dv">114</span> <span class="dv">115</span> <span class="dv">134</span> <span class="dv">134</span> <span class="dv">134</span> <span class="dv">160</span> <span class="dv">213</span></span></code></pre></div>
<p>Ah, now we can clearly see that the top 10 most common notes in the
data are e, a, b, g, d, B, A, f#, c, E.</p>
<hr>
<p>The last step might be to make a plot. We’ll use the built in
<code>tail</code> function to grab the top (last) 10, and the built-in
<code>barplot</code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/withinHumdrum.html">with</a></span><span class="op">(</span><span class="va">chorales</span>, 
     <span class="fu"><a href="../reference/kern.html">kern</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="WorkingWithData_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Notice that when writing a big complex expression like</p>
<pre><code><span class="fu"><a href="../reference/kern.html">kern</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> |&gt; 
       <span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="op">)</span></code></pre>
<p>it’s helpful to spread the expression across multiple lines. After
the <code>|&gt;</code> (pipe) operator is a great place for this.</p>
</div>
<div class="section level3">
<h3 id="within">Within<a class="anchor" aria-label="anchor" href="#within"></a>
</h3>
<p>In many cases, we want to apply functions to our humdrum data, but
keep the humdrum/humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> structure in place. This is
what <code>within</code> is for. Where <code>with</code> just returns
what ever the output of your commands are, <code>within</code> will
(attempt to) put the results of your commands “back inside” the
humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> data object,
as a new field.</p>
<p>For example, let’s say we want to translate our <code>kern</code>
data into a different pitch representation, like scientific pitch. We
can do this with the <code>pitch</code> command. If we use
<code>with</code>…</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">with</span>(chorales, <span class="fu">pitch</span>(Token))</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">**</span><span class="fu">pitch</span> (character)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="sc">&gt;</span>       [<span class="dv">1</span>] G2  G3  E3  F<span class="co">#3 G3  D3  E3  C3  B2  A2  G2  D3  G2  F#2 G2  A2  B2  C3 </span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="sc">&gt;</span>      [<span class="dv">19</span>] D3  G2  G2  G2  A2  B2  B2  A2  G2  D3  E3  E3  D3  C3  B2  C3  D3  G2 </span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="sc">&gt;</span>      [<span class="dv">37</span>] A2  B2  G2  C3  G2  F<span class="co">#2 G2  A2  B2  G2  D3  E3  D3  C3  B2  A2  G2  D3 </span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="sc">&gt;</span>      [<span class="dv">55</span>] G3  G3  F<span class="co">#3 E3  E3  D3  C3  D3  G2  B3  B3  C4  B3  A3  G3  F#3 G3  C4 </span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="sc">&gt;</span>      [<span class="dv">73</span>] B3  C4  D4  D4  D4  A3  B3  C4  D4  E4  D4  C4  B3  D4  D4  C4  B3  A3 </span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="sc">&gt;</span>      [<span class="dv">91</span>] B3  C4  D4  D4  D4  B3  G3  B3  E4  D4  D4  D4  C4  D4  D4  C4  B3  C4 </span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">109</span>] D4  D4  C4  B3  C4  D4  D4  D4  D4  E4  E4  D4  C4  B3  D4  D4  E4  D4 </span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">127</span>] D4  B3  E4  D4  E4  F<span class="co">#4 G4  F#4 G4  D4  E4  F#4 G4  F#4 D4  G4  G4  F#4</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">145</span>] E4  F<span class="co">#4 G4  G4  A4  G4  F#4 G4  F#4 E4  E4  F#4 G4  A4  A4  G4  F#4 G4 </span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">163</span>] F4  E4  G4  A4  G4  F<span class="co">#4 G4  F#4 F#4 E4  E4  F#4 G4  F#4 G4  A4  G4  F#4</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">181</span>] G4  F<span class="co">#4 D4  G4  G4  D5  B4  A4  G4  G4  A4  B4  A4  B4  D5  C5  B4  A4 </span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">199</span>] G4  B4  B4  C5  D5  D5  C5  B4  A4  G4  B4  C5  D5  C5  B4  G4  B4  D5 </span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">217</span>] C5  B4  A4  G4  A4  B4  A4  B4  D5  C5  B4  A4  G4  A3  G<span class="co">#3 F#3 C#3 D3 </span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">235</span>] D<span class="co">#3 E3  B2  E2  E3  A3  B3  C#4 B3  A3  B3  B2  E3  C#3 F#3 G#3 A3  E3 </span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">253</span>] C<span class="co">#3 A2  D3  C#3 D3  E3  C#3 B2  C#3 D3  G3  F#3 B2  C#3 F#3 E3  D3  C#3</span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">271</span>] B2  A2  B2  C<span class="co">#3 D3  E3  B2  F#3 G#3 A3  G#3 E3  A3  A3  G#3 F#3 E3  D3 </span></span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">289</span>] E3  A2  C<span class="co">#4 C#4 C#4 B3  A3  G#3 F#3 B3  A3  G#3 E4  E4  D#4 C#4 B3  A3 </span></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">307</span>] G<span class="co">#3 G#3 A3  B3  C#4 D4  E4  E4  D4  E4  E4  E4  F#4 B3  A#3 B3  C#4 D4 </span></span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">325</span>] G<span class="co">#3 A3  G#3 F#3 E3  E4  D4  C#4 D4  E4  F#4 G#4 F#4 F#4 E4  D4  C#4 B3 </span></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">343</span>] C<span class="co">#4 D4  E4  D4  C#4 F#4 B3  E4  D4  C#4 E4  F#4 E4  F#4 F#4 E4  D#4 B3 </span></span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">361</span>] G<span class="co">#4 A4  G#4 F#4 E4  E4  D#4 B3  C#5 B4  A4  A4  G#4 A4  G4  F#4 G#4 A4 </span></span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">379</span>] G<span class="co">#4 A#4 B4  A4  G4  F#4 E4  F#4 F#4 E4  D4  C#4 D4  E4  F#4 G#4 A4  E4 </span></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">397</span>] B4  A4  G<span class="co">#4 F#4 E4  F#4 G#4 A4  A4  G#4 E4  A4  A4  A4  A4  B4  G4  F#4</span></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">415</span>] E4  B4  C<span class="co">#5 B4  A4  G#4 F#4 G#4 F#4 E4  E5  D5  C#5 B4  A4  A4  B4  C#5</span></span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">433</span>] B4  C<span class="co">#5 D5  C#5 B4  A#4 B4  E4  A4  B4  C#5 D5  E5  D5  C#5 B4  D5  C#5</span></span>
<span id="cb7-28"><a href="#cb7-28" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">451</span>] B4  E5  D5  C<span class="co">#5 B4  A4  B4  C#5 B4  A4  E3  A3  B3  C4  B3  A3  G#3 A3 </span></span>
<span id="cb7-29"><a href="#cb7-29" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">469</span>] E3  B2  C3  D3  E3  F3  E3  D3  E3  A2  F<span class="co">#3 G3  F#3 E3  B3  A3  G3  F#3</span></span>
<span id="cb7-30"><a href="#cb7-30" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">487</span>] E3  D3  C3  B2  E3  F3  C3  D3  E3  A2  B2  C3  D3  E3  A2  A3  G<span class="co">#3 A3 </span></span>
<span id="cb7-31"><a href="#cb7-31" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">505</span>] G3  F3  E3  D3  C<span class="co">#3 D3  D#3 E3  E4  E4  D4  E4  D4  C4  B3  C4  D4  E4 </span></span>
<span id="cb7-32"><a href="#cb7-32" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">523</span>] F4  E4  E4  D4  C4  D4  G<span class="co">#3 A3  G#3 C4  A3  G3  A3  B3  B3  B3  A3  B3 </span></span>
<span id="cb7-33"><a href="#cb7-33" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">541</span>] C4  F<span class="co">#3 E4  D4  C4  D4  E4  E4  E4  D4  C4  B3  C4  C4  B3  A3  A3  Bb3</span></span>
<span id="cb7-34"><a href="#cb7-34" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">559</span>] A3  E3  F<span class="co">#3 G#3 G#4 A4  G#4 A4  G#4 A4  B4  E4  F#4 G#4 G#4 A4  G#4 A4 </span></span>
<span id="cb7-35"><a href="#cb7-35" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">577</span>] G4  F4  E4  E4  D4  D4  D<span class="co">#4 E4  D#4 E4  D#4 E4  G4  F#4 E4  D#4 B3  A3 </span></span>
<span id="cb7-36"><a href="#cb7-36" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">595</span>] A4  G<span class="co">#4 A4  E4  E4  E4  E4  E4  E4  F4  G4  F#4 G#4 A4  E4  B4  C5  B4 </span></span>
<span id="cb7-37"><a href="#cb7-37" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">613</span>] A4  E5  E5  D5  C5  B4  D5  C5  B4  A4  B4  C5  D5  C5  B4  A4  A4  B4 </span>
<span id="cb7-38"><a href="#cb7-38" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">631</span>] A4  G4  F<span class="co">#4 E4  F#4 G4  A4  B4  G4  A4  B4  C5  B4  C5  B4  A4  G#4 A4 </span></span>
<span id="cb7-39"><a href="#cb7-39" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">649</span>] A4  E5  C5  D5  E5  D5  C5  B4  E3  D<span class="co">#3 B2  E3  F#3 G#3 A3  E3  A2  D#3</span></span>
<span id="cb7-40"><a href="#cb7-40" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">667</span>] E3  F<span class="co">#3 G#3 C#3 F#3 E3  D#3 C#3 B2  F#3 B2  E3  C#3 D#3 E3  F#3 B3  G#3</span></span>
<span id="cb7-41"><a href="#cb7-41" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">685</span>] E3  F<span class="co">#3 B2  E3  G#3 E3  A3  B3  C#4 E#3 F#3 C#3 E3  B2  C#3 D#3 E3  B2 </span></span>
<span id="cb7-42"><a href="#cb7-42" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">703</span>] A<span class="co">#2 B2  E2  E4  F#4 E4  D#4 E4  A3  B3  C#4 D4  E4  D4  C#4 B3  B3  A3 </span></span>
<span id="cb7-43"><a href="#cb7-43" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">721</span>] G<span class="co">#3 F#3 F#3 B3  A#3 F#3 G#3 C#4 F#3 F#4 F#4 B3  A#3 D#4 E4  B3  E4  E4 </span></span>
<span id="cb7-44"><a href="#cb7-44" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">739</span>] C<span class="co">#4 D4  C#4 C#4 B3  B3  E4  E4  D#4 B3  F#3 G#3 G#4 F#4 G#4 A4  G#4 F#4</span></span>
<span id="cb7-45"><a href="#cb7-45" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">757</span>] E4  A4  G<span class="co">#4 E4  F#4 E4  E4  D#4 E4  C#4 F#4 E4  D#4 E4  D#4 E4  F#4 G#4</span></span>
<span id="cb7-46"><a href="#cb7-46" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">775</span>] A<span class="co">#4 B4  A#4 B4  B4  F#4 F#4 G#4 E4  F#4 G#4 A4  E4  F#4 G#4 F#4 E#4 E4 </span></span>
<span id="cb7-47"><a href="#cb7-47" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">793</span>] D<span class="co">#4 C#4 B3  B3  C#4 B3  B3  B4  B4  B4  B4  D5  C#5 B4  A4  B4  G#4 E4 </span></span>
<span id="cb7-48"><a href="#cb7-48" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">811</span>] F<span class="co">#4 G#4 A#4 B4  C#5 B4  B4  E5  D#5 C#5 D#5 E5  D#5 C#5 B4  B4  E5  B4 </span></span>
<span id="cb7-49"><a href="#cb7-49" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">829</span>] C<span class="co">#5 G#4 A4  B4  A4  G#4 G#4 F#4 A4  G#4 F#4 C#4 D#4 E4  G3  C3  D3  E3 </span></span>
<span id="cb7-50"><a href="#cb7-50" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">847</span>] F<span class="co">#3 G3  A3  D3  G3  F#3 G3  F#3 E3  B2  C3  D3  G2  G3  F#3 E3  D3  E3 </span></span>
<span id="cb7-51"><a href="#cb7-51" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">865</span>] F<span class="co">#3 G3  D3  G2  C3  G3  F3  E3  D3  C3  B2  C3  D3  E3  A2  D3  G3  A3 </span></span>
<span id="cb7-52"><a href="#cb7-52" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">883</span>] B3  C4  F<span class="co">#3 G#3 A3  A2  E3  G#2 A2  B2  C3  A2  F3  E3  D3  E3  E2  A2 </span></span>
<span id="cb7-53"><a href="#cb7-53" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">901</span>] A2  B2  C<span class="co">#3 D3  C#3 D3  A2  D3  B2  E3  D3  G3  F#3 E3  B2  A2  G2  C3 </span></span>
<span id="cb7-54"><a href="#cb7-54" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">919</span>] B2  A2  D3  C3  D3  G2  B3  C4  B3  A3  E4  A3  B3  C4  E4  D4  D4  D4 </span>
<span id="cb7-55"><a href="#cb7-55" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">937</span>] D4  G3  A3  B3  G3  E4  A3  B3  C4  B3  B3  A3  D4  G3  A3  A3  G3  G3 </span>
<span id="cb7-56"><a href="#cb7-56" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">955</span>] F<span class="co">#3 G3  G3  G3  G3  G3  G3  G3  A3  B3  A3  A3  G3  G3  D4  C4  B3  A3 </span></span>
<span id="cb7-57"><a href="#cb7-57" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">973</span>] E4  E4  E4  E4  D4  C4  B3  A3  A3  G<span class="co">#3 A3  B3  G#3 A3  G#3 A3  E3  F#3</span></span>
<span id="cb7-58"><a href="#cb7-58" tabindex="-1"></a><span class="sc">&gt;</span>     [<span class="dv">991</span>] G3  D4  C4  Bb3 A3  A3  G3  F<span class="co">#3 F#3 G3  D4  D4  E4  D4  E4  D4  C4  D4 </span></span>
<span id="cb7-59"><a href="#cb7-59" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1009</span>] E4  D4  C4  B3  G4  G4  F<span class="co">#4 G4  F#4 E4  G4  G4  F#4 G4  A4  G4  G4  G4 </span></span>
<span id="cb7-60"><a href="#cb7-60" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1027</span>] G4  G4  F<span class="co">#4 D4  D4  D4  E4  F#4 E4  E4  D4  D4  C4  B3  E4  D4  E4  F4 </span></span>
<span id="cb7-61"><a href="#cb7-61" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1045</span>] E4  F<span class="co">#4 G4  F#4 G4  A4  F#4 D4  G4  G4  A4  B4  B4  G#4 A4  G#4 B4  A4 </span></span>
<span id="cb7-62"><a href="#cb7-62" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1063</span>] E4  C4  D4  E4  F4  E4  D4  C4  A4  D4  E4  F4  E4  D4  E4  E4  D4  D4 </span>
<span id="cb7-63"><a href="#cb7-63" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1081</span>] C<span class="co">#4 D4  D4  C4  B3  A3  G3  F#3 G3  G4  F#4 G4  G4  G4  G4  F#4 D4  D5 </span></span>
<span id="cb7-64"><a href="#cb7-64" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1099</span>] E5  D5  C5  B4  C5  D5  C5  B4  C5  B4  A4  B4  C5  D5  C5  B4  A4  G4 </span>
<span id="cb7-65"><a href="#cb7-65" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1117</span>] A4  G4  G4  A4  B4  C5  B4  A4  B4  A4  G4  G4  A4  B4  C5  D5  E5  B4 </span>
<span id="cb7-66"><a href="#cb7-66" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1135</span>] C<span class="co">#5 D5  B4  C5  D5  E5  D5  C5  B4  C5  B4  E5  E5  E5  A4  D5  C5  B4 </span></span>
<span id="cb7-67"><a href="#cb7-67" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1153</span>] A4  C5  B4  A4  G4  A4  G4  F4  E4  D4  D4  G4  A4  B4  C5  D5  C5  B4 </span>
<span id="cb7-68"><a href="#cb7-68" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1171</span>] A4  B4  C5  A4  G4  F2  F3  E3  Eb3 D3  C3  D3  E3  C3  F3  Bb2 A2  G2 </span>
<span id="cb7-69"><a href="#cb7-69" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1189</span>] F2  A2  C3  F2  .   A3  B2  C3  D3  F3  A3  G3  F3  D3  G3  C3  F2  G2 </span>
<span id="cb7-70"><a href="#cb7-70" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1207</span>] A2  Bb2 C3  F2  A3  C4  C4  C4  D4  G3  C4  C4  Bb3 C4  D4  Bb3 C4  C4 </span>
<span id="cb7-71"><a href="#cb7-71" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1225</span>] C4  .   F4  F4  E4  E4  D4  C4  C4  B3  E4  C4  Bb3 C4  D4  C4  Bb3 A3 </span>
<span id="cb7-72"><a href="#cb7-72" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1243</span>] C4  F4  G4  F4  F4  E4  F4  G4  E4  F4  F4  F4  E4  F4  E4  F4  .   A4 </span>
<span id="cb7-73"><a href="#cb7-73" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1261</span>] A4  G4  G4  C5  Bb4 A4  A4  A4  G4  G4  F4  F4  E4  F4  F4  E4  C4  F4 </span>
<span id="cb7-74"><a href="#cb7-74" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1279</span>] A4  G4  A4  Bb4 C5  A4  D5  C5  Bb4 A4  G4  A4  .   C5  D5  E5  F5  E5 </span>
<span id="cb7-75"><a href="#cb7-75" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1297</span>] D5  C5  A4  Bb4 A4  G4  G4  F4  A3  F<span class="co">#3 C#3 D3  D3  C#3 D3  E3  A2  A3 </span></span>
<span id="cb7-76"><a href="#cb7-76" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1315</span>] E<span class="co">#3 C#3 F#3 E3  D3  C#3 D3  E3  A2  A2  D3  A3  G#3 F#3 E#3 F#3 B2  C#3</span></span>
<span id="cb7-77"><a href="#cb7-77" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1333</span>] F<span class="co">#2 D#3 E3  D3  C#3 A2  B2  E3  C#3 F#3 E3  F#3 G#3 F#3 E3  A3  A2  D3 </span></span>
<span id="cb7-78"><a href="#cb7-78" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1351</span>] C<span class="co">#3 B2  B3  A3  G3  F#3 E3  F#3 G3  F#3 B2  E3  A3  G#3 F#3 B3  A3  G3 </span></span>
<span id="cb7-79"><a href="#cb7-79" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1369</span>] C<span class="co">#3 D3  A3  D#3 E3  A2  B2  E3  C#3 F#3 E3  B2  C#3 D3  D#3 E3  E#3 F#3</span></span>
<span id="cb7-80"><a href="#cb7-80" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1387</span>] G<span class="co">#3 A3  E3  F#3 D3  E3  E3  A2  C#4 C#4 C#4 A3  G#3 A3  G#3 A3  C#4 C#4</span></span>
<span id="cb7-81"><a href="#cb7-81" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1405</span>] B3  A3  E4  E4  F<span class="co">#4 E4  C#4 C#4 D4  E4  E#4 F#4 G#4 C#4 D4  C#4 A3  A3 </span></span>
<span id="cb7-82"><a href="#cb7-82" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1423</span>] G<span class="co">#3 A3  B3  C#4 B3  A3  G#3 G#3 A3  D4  B3  E4  E4  D4  E4  F#4 B3  E4 </span></span>
<span id="cb7-83"><a href="#cb7-83" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1441</span>] D4  C<span class="co">#4 B3  A#3 B3  G#3 A3  A3  B3  B3  B3  A3  G3  F#3 A3  F#3 B3  C#4</span></span>
<span id="cb7-84"><a href="#cb7-84" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1459</span>] B3  A3  G<span class="co">#3 G#3 A3  B3  B3  A3  G#3 D4  A3  G#3 C#4 F#4 E4  E4  E4  D4 </span></span>
<span id="cb7-85"><a href="#cb7-85" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1477</span>] C<span class="co">#4 F#4 E4  D4  C#4 E4  F#4 E4  D4  C#4 B3  E4  F#4 E4  E4  E4  F#4 G#4</span></span>
<span id="cb7-86"><a href="#cb7-86" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1495</span>] E<span class="co">#4 F#4 G#4 A4  G#4 E4  E4  F#4 G#4 A4  B4  A4  G#4 F#4 E#4 C#4 F#4 E4 </span></span>
<span id="cb7-87"><a href="#cb7-87" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1513</span>] E4  E4  D<span class="co">#4 B3  C#4 C#4 F#4 E4  F#4 G#4 A4  G4  F#4 A4  B4  B4  A4  G4 </span></span>
<span id="cb7-88"><a href="#cb7-88" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1531</span>] A4  B4  E4  D<span class="co">#4 E4  E4  F#4 F#4 G4  G4  F#4 E4  D4  E4  F#4 E4  E4  D#4</span></span>
<span id="cb7-89"><a href="#cb7-89" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1549</span>] B3  C<span class="co">#4 C#4 D#4 E4  D#4 E4  F#4 G#4 A4  E4  G#4 A4  B4  A4  G#4 A4  A4 </span></span>
<span id="cb7-90"><a href="#cb7-90" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1567</span>] G<span class="co">#4 E4  A4  A4  G#4 F#4 E4  A4  B4  C#5 C#5 C#5 B4  C#5 C#5 B4  A4  B4 </span></span>
<span id="cb7-91"><a href="#cb7-91" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1585</span>] A4  A4  A4  B4  C<span class="co">#5 B4  C#5 A4  G#4 F#4 B4  B4  A4  G#4 A4  F#4 E4  E4 </span></span>
<span id="cb7-92"><a href="#cb7-92" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1603</span>] A4  A4  B4  B4  C<span class="co">#5 B4  C#5 A4  A4  D5  D5  C#5 B4  C#5 B4  B4  C#5 C#5</span></span>
<span id="cb7-93"><a href="#cb7-93" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1621</span>] D5  D5  E5  A4  C<span class="co">#5 B4  A4  G#4 A4  F#4 E4  E4  A4  G#4 F#4 E4  B4  C#5</span></span>
<span id="cb7-94"><a href="#cb7-94" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1639</span>] B4  C<span class="co">#5 D5  C#5 B4  A4  G#4 A4  B4  C#5 B4  A4  F3  Eb3 Db3 C3  Bb2 C3 </span></span>
<span id="cb7-95"><a href="#cb7-95" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1657</span>] F2  F2  F3  Eb3 Db3 C3  Bb2 Ab2 Db3 Eb3 Ab2 Db3 C3  Bb2 C3  Db3 Bb2 C3 </span>
<span id="cb7-96"><a href="#cb7-96" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1675</span>] F2  F3  G3  A3  F3  Bb2 C3  Db3 Bb2 Eb3 F3  G3  Eb3 Ab3 Ab3 Db3 Eb3 F3 </span>
<span id="cb7-97"><a href="#cb7-97" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1693</span>] Db3 Bb2 C3  Db3 Bb2 Eb3 C3  F3  Bb2 Bb3 Ab3 G3  F3  Bb2 C3  F2  F2  G2 </span>
<span id="cb7-98"><a href="#cb7-98" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1711</span>] Ab2 Bb2 C3  D3  Eb3 F3  G3  G2  C3  C3  F3  Eb3 Db3 C3  Bb2 C3  Db3 Eb3</span>
<span id="cb7-99"><a href="#cb7-99" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1729</span>] Eb3 Ab2 Ab2 Db3 Eb3 Db3 C3  Bb2 C3  Db3 Bb2 Eb3 F3  Eb3 Db3 C3  Db3 Eb3</span>
<span id="cb7-100"><a href="#cb7-100" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1747</span>] C3  F3  E3  F3  G3  Ab3 G3  Ab3 Bb3 C4  C3  F3  F3  Ab3 A3  Bb3 C4  Db4</span>
<span id="cb7-101"><a href="#cb7-101" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1765</span>] C4  Bb3 Ab3 Ab3 C4  Bb3 Eb4 Eb4 F4  Eb4 Db4 C4  Db4 Db4 G3  F3  Ab3 Db4</span>
<span id="cb7-102"><a href="#cb7-102" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1783</span>] C4  Bb3 Ab3 A3  Bb3 C4  A3  Bb3 Bb3 Bb3 Eb4 Eb4 Eb4 Db4 Db4 F4  F4  Gb4</span>
<span id="cb7-103"><a href="#cb7-103" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1801</span>] F4  Eb4 Db4 C4  C4  Bb3 C4  Db4 C4  Bb3 Ab3 C4  C4  C4  C4  C4  B3  C4 </span>
<span id="cb7-104"><a href="#cb7-104" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1819</span>] G3  A3  A3  Bb3 Eb3 Eb4 Db4 C4  C4  Db4 Db4 F4  F4  Eb4 Eb4 G4  G4  F4 </span>
<span id="cb7-105"><a href="#cb7-105" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1837</span>] F4  C4  F3  C4  C4  C4  C4  F4  F4  F4  E4  F4  F4  G4  E4  F4  C4  F4 </span>
<span id="cb7-106"><a href="#cb7-106" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1855</span>] G4  Ab4 Ab4 Ab4 F4  G4  Eb4 F4  G4  E4  F4  F4  E4  C4  F4  F4  F4  F4 </span>
<span id="cb7-107"><a href="#cb7-107" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1873</span>] G4  Ab4 Bb4 G4  Ab4 Ab4 F4  F4  Bb4 Bb4 Bb4 A4  F4  E4  F4  F4  E4  F4 </span>
<span id="cb7-108"><a href="#cb7-108" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1891</span>] F4  E4  C4  Ab4 Ab4 G4  G4  G4  Ab4 G4  F4  E4  E4  F4  F4  F4  G4  Ab4</span>
<span id="cb7-109"><a href="#cb7-109" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1909</span>] Ab4 F4  G4  Eb4 Eb4 F4  F4  Bb4 Bb4 G4  G4  C5  C5  Ab4 G4  Ab4 Bb4 C5 </span>
<span id="cb7-110"><a href="#cb7-110" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1927</span>] Bb4 Ab4 G4  G4  A4  A4  C5  C5  Bb4 Ab4 G4  F4  F4  F4  Ab4 Bb4 C5  C5 </span>
<span id="cb7-111"><a href="#cb7-111" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1945</span>] Bb4 Ab4 Ab4 Ab4 Bb4 Bb4 Ab4 G4  F4  F4  C5  C5  Db5 Db5 Bb4 Bb4 C5  C5 </span>
<span id="cb7-112"><a href="#cb7-112" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1963</span>] Ab4 Ab4 Db5 Db5 C5  C5  Bb4 G4  Ab4 Bb4 Ab4 G4  G4  F4  F5  F5  Eb5 Eb5</span>
<span id="cb7-113"><a href="#cb7-113" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1981</span>] D5  D5  C5  C5  C5  C5  Db5 C5  Bb4 Ab4 Ab4 Ab4 Ab4 Ab4 Db5 Db5 Bb4 Bb4</span>
<span id="cb7-114"><a href="#cb7-114" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">1999</span>] Eb5 Eb5 C5  C5  F5  F5  E5  E5  F5  F5  G3  F<span class="co">#3 E3  D3  G3  F#3 G3  A3 </span></span>
<span id="cb7-115"><a href="#cb7-115" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2017</span>] A2  D3  D<span class="co">#3 E3  F#3 G3  C3  C3  B2  A2  G2  D3  D2  G2  D3  D4  C4  B3 </span></span>
<span id="cb7-116"><a href="#cb7-116" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2035</span>] A3  D<span class="co">#3 E3  E2  A2  E3  F#3 G3  G#3 A3  A#3 B3  B2  E3  D3  C3  B2  A2 </span></span>
<span id="cb7-117"><a href="#cb7-117" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2053</span>] G2  F<span class="co">#2 E2  F#2 G2  E2  C#3 B2  C#3 A2  D3  B2  C3  D3  E3  F#3 G3  C3 </span></span>
<span id="cb7-118"><a href="#cb7-118" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2071</span>] D3  G2  B3  B3  C4  C4  D4  B3  A3  A3  A3  A3  A3  B3  A3  G3  A3  B3 </span>
<span id="cb7-119"><a href="#cb7-119" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2089</span>] C4  D4  D4  D4  C4  B3  D4  E4  F<span class="co">#4 E4  D4  E4  F#4 B3  E4  D4  C4  G3 </span></span>
<span id="cb7-120"><a href="#cb7-120" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2107</span>] A3  B3  C4  D4  E4  C4  C<span class="co">#4 B3  B3  B3  D4  D4  G4  G3  A3  B3  E4  D4 </span></span>
<span id="cb7-121"><a href="#cb7-121" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2125</span>] E4  C<span class="co">#4 D4  D4  D4  C4  C4  B3  B3  A3  G3  G3  F#3 E3  F#3 C4  B3  D4 </span></span>
<span id="cb7-122"><a href="#cb7-122" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2143</span>] E4  F<span class="co">#4 D4  E4  F#4 E4  F#4 G4  F#4 F#4 E4  D4  E4  F#4 G4  G4  F#4 D4 </span></span>
<span id="cb7-123"><a href="#cb7-123" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2161</span>] F<span class="co">#4 G4  A4  G#4 A4  G#4 A4  A4  G#4 E4  E4  D#4 E4  E4  E4  F#4 G4  F#4</span></span>
<span id="cb7-124"><a href="#cb7-124" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2179</span>] F<span class="co">#4 G4  A4  G4  A4  G4  A4  B4  B4  A4  A4  G4  G4  F#4 G4  F#4 E4  F#4</span></span>
<span id="cb7-125"><a href="#cb7-125" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2197</span>] G4  A4  D4  E4  D4  D4  G4  G4  A4  B4  C<span class="co">#5 D5  D5  C#5 D5  B4  C5  B4 </span></span>
<span id="cb7-126"><a href="#cb7-126" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2215</span>] A4  B4  A4  G4  A4  A4  B4  C5  C5  B4  A4  B4  A4  B4  B4  B4  C5  D5 </span>
<span id="cb7-127"><a href="#cb7-127" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2233</span>] E5  E5  D<span class="co">#5 E5  F#5 G5  B4  C5  B4  A4  A4  D5  E5  D5  C5  B4  C5  A4 </span></span>
<span id="cb7-128"><a href="#cb7-128" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2251</span>] G4  D3  C3  B2  A2  B2  C3  B2  A2  E3  E3  A3  G3  F3  E3  F3  C3  D3 </span>
<span id="cb7-129"><a href="#cb7-129" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2269</span>] E3  C4  B3  A3  G3  F3  E3  D3  E3  A2  A3  E3  D3  C3  B2  C3  D3  D3 </span>
<span id="cb7-130"><a href="#cb7-130" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2287</span>] G2  C3  A2  E3  F3  C3  Bb2 A2  G<span class="co">#2 A2  E2  G#3 A3  D4  E4  D4  E4  D4 </span></span>
<span id="cb7-131"><a href="#cb7-131" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2305</span>] C4  B3  E4  E4  F4  G4  C4  C4  B3  A3  G<span class="co">#3 A3  B3  C4  D4  D4  E4  F4 </span></span>
<span id="cb7-132"><a href="#cb7-132" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2323</span>] B3  C4  E4  E4  E4  D4  C4  F<span class="co">#3 G3  F#3 G3  G3  A3  G#3 A3  G3  G3  A3 </span></span>
<span id="cb7-133"><a href="#cb7-133" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2341</span>] B3  A3  G<span class="co">#3 E4  E4  G#4 A4  G4  F#4 E4  F#4 G#4 G#4 A4  B4  C5  F4  E4 </span></span>
<span id="cb7-134"><a href="#cb7-134" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2359</span>] D4  C4  B3  E4  D4  E4  F<span class="co">#4 G4  A4  B4  A4  G#4 E4  A4  G4  G4  G4  F4 </span></span>
<span id="cb7-135"><a href="#cb7-135" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2377</span>] E4  D4  C4  B3  E4  E4  E4  D4  C4  C4  D4  D4  C4  B3  B4  E4  B4  C5 </span>
<span id="cb7-136"><a href="#cb7-136" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2395</span>] B4  A4  G4  A4  B4  B4  C5  D5  C5  B4  A4  G4  F4  E4  A4  G4  C5  B4 </span>
<span id="cb7-137"><a href="#cb7-137" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2413</span>] A4  D5  C5  B4  A4  C5  B4  C5  D5  G4  B4  A4  G4  G4  C5  B4  A4  E4 </span>
<span id="cb7-138"><a href="#cb7-138" tabindex="-1"></a><span class="sc">&gt;</span>    [<span class="dv">2431</span>] G4  F4  E4</span></code></pre></div>
<p>we just get all the notes! Let’s try <code>within</code> instead:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">within</span>(chorales, <span class="fu">pitch</span>(Token))</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>         <span class="er">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>              G2            B3            D4            G4</span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>              G3            B3            D4            G4</span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>              E3            C4            E4             .</span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .            B3             .             .</span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>             F<span class="co">#3            A3            D4            D5</span></span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>              G3            G3            D4            B4</span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>              D3           F<span class="co">#3             .             .</span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .            A4</span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>              E3            G3            B3            G4</span>
<span id="cb8-33"><a href="#cb8-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb8-34"><a href="#cb8-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>              C3            C4            E4            G4</span>
<span id="cb8-35"><a href="#cb8-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .            B3            D4             .</span>
<span id="cb8-36"><a href="#cb8-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>              B2            C4            E4             .</span>
<span id="cb8-37"><a href="#cb8-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>              A2             .           F<span class="co">#4            A4</span></span>
<span id="cb8-38"><a href="#cb8-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>              G2            D4            G4            B4</span>
<span id="cb8-39"><a href="#cb8-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb8-40"><a href="#cb8-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>              D3            D4           F<span class="co">#4            A4</span></span>
<span id="cb8-41"><a href="#cb8-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>              G2            D4            G4            B4</span>
<span id="cb8-42"><a href="#cb8-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb8-43"><a href="#cb8-43" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb8-44"><a href="#cb8-44" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb8-45"><a href="#cb8-45" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb8-46"><a href="#cb8-46" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb8-47"><a href="#cb8-47" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb8-48"><a href="#cb8-48" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb8-49"><a href="#cb8-49" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb8-50"><a href="#cb8-50" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>              A2            C4            E4            A4</span>
<span id="cb8-51"><a href="#cb8-51" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>              A3            E4            A4            C5</span>
<span id="cb8-52"><a href="#cb8-52" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb8-53"><a href="#cb8-53" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>              E3            E4            G4            B4</span>
<span id="cb8-54"><a href="#cb8-54" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>              D3            E4            G4            C5</span>
<span id="cb8-55"><a href="#cb8-55" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>              C3             .             .             .</span>
<span id="cb8-56"><a href="#cb8-56" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>              B2            D4            G4            D5</span>
<span id="cb8-57"><a href="#cb8-57" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .            F4             .</span>
<span id="cb8-58"><a href="#cb8-58" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>              C3            C4            E4            G4</span>
<span id="cb8-59"><a href="#cb8-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb8-60"><a href="#cb8-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>              D3           F<span class="co">#3            D4            B4</span></span>
<span id="cb8-61"><a href="#cb8-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .            G3             .             .</span>
<span id="cb8-62"><a href="#cb8-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>              D3             .            C4            A4</span>
<span id="cb8-63"><a href="#cb8-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .           F<span class="co">#3             .             .</span></span>
<span id="cb8-64"><a href="#cb8-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>              G2            G3            B3            G4</span>
<span id="cb8-65"><a href="#cb8-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb8-66"><a href="#cb8-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>              C3            G3            E4            G4</span>
<span id="cb8-67"><a href="#cb8-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>              A2            A3            E4            C5</span>
<span id="cb8-68"><a href="#cb8-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>              E3           G<span class="co">#3            E4            B4</span></span>
<span id="cb8-69"><a href="#cb8-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .            D4             .</span>
<span id="cb8-70"><a href="#cb8-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb8-71"><a href="#cb8-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>              F3            A3            C4            A4</span>
<span id="cb8-72"><a href="#cb8-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>              C3            G3            C4            E4</span>
<span id="cb8-73"><a href="#cb8-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>             Bb2            G3            D4            G4</span>
<span id="cb8-74"><a href="#cb8-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>              A2            A3             .            F4</span>
<span id="cb8-75"><a href="#cb8-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb8-76"><a href="#cb8-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>             G<span class="co">#2            B3            D4            E4</span></span>
<span id="cb8-77"><a href="#cb8-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>              A2            A3            C4             .</span>
<span id="cb8-78"><a href="#cb8-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>              E2           G<span class="co">#3            B3             .</span></span>
<span id="cb8-79"><a href="#cb8-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb8-80"><a href="#cb8-80" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb8-81"><a href="#cb8-81" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb8-82"><a href="#cb8-82" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb8-83"><a href="#cb8-83" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb8-84"><a href="#cb8-84" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb8-85"><a href="#cb8-85" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb8-86"><a href="#cb8-86" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb8-87"><a href="#cb8-87" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb8-88"><a href="#cb8-88" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb8-89"><a href="#cb8-89" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb8-90"><a href="#cb8-90" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb8-91"><a href="#cb8-91" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb8-92"><a href="#cb8-92" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb8-93"><a href="#cb8-93" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb8-94"><a href="#cb8-94" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb8-95"><a href="#cb8-95" tabindex="-1"></a><span class="er">&gt;</span>                Token   <span class="sc">::</span> character</span>
<span id="cb8-96"><a href="#cb8-96" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Result1 <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>pitch tokens)</span></code></pre></div>
<p>Now we get our humdrum<span class="math inline">\(_{\mathbb{R}}\)</span> data back, but the
<code>Token</code> data has been transformed from <code>**kern</code> to
<code>**pitch</code>. Notice, that there are now two “Data fields”
listed at the bottom: <code>Token</code> (the original data) and
<code>Result1</code>—this is the default name for new fields produced by
<code>within</code>, and yes, they will get higher numbers if you keep
making new fields.</p>
<p>“Result1” is not very informative, so it’s actually a good idea to
give our new fields specific names. We can do this by assigning our
expressions in <code>within</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">within</span>(chorales, Pitch <span class="ot">&lt;-</span> <span class="fu">pitch</span>(Token)) <span class="ot">-&gt;</span> chorales</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>chorales</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>         <span class="er">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>              G2            B3            D4            G4</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>              G3            B3            D4            G4</span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>              E3            C4            E4             .</span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .            B3             .             .</span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>             F<span class="co">#3            A3            D4            D5</span></span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>              G3            G3            D4            B4</span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>              D3           F<span class="co">#3             .             .</span></span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .            A4</span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>              E3            G3            B3            G4</span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb9-36"><a href="#cb9-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>              C3            C4            E4            G4</span>
<span id="cb9-37"><a href="#cb9-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .            B3            D4             .</span>
<span id="cb9-38"><a href="#cb9-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>              B2            C4            E4             .</span>
<span id="cb9-39"><a href="#cb9-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>              A2             .           F<span class="co">#4            A4</span></span>
<span id="cb9-40"><a href="#cb9-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>              G2            D4            G4            B4</span>
<span id="cb9-41"><a href="#cb9-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb9-42"><a href="#cb9-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>              D3            D4           F<span class="co">#4            A4</span></span>
<span id="cb9-43"><a href="#cb9-43" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>              G2            D4            G4            B4</span>
<span id="cb9-44"><a href="#cb9-44" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb9-45"><a href="#cb9-45" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb9-46"><a href="#cb9-46" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb9-47"><a href="#cb9-47" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb9-48"><a href="#cb9-48" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb9-49"><a href="#cb9-49" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb9-50"><a href="#cb9-50" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb9-51"><a href="#cb9-51" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb9-52"><a href="#cb9-52" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>              A2            C4            E4            A4</span>
<span id="cb9-53"><a href="#cb9-53" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>              A3            E4            A4            C5</span>
<span id="cb9-54"><a href="#cb9-54" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb9-55"><a href="#cb9-55" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>              E3            E4            G4            B4</span>
<span id="cb9-56"><a href="#cb9-56" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>              D3            E4            G4            C5</span>
<span id="cb9-57"><a href="#cb9-57" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>              C3             .             .             .</span>
<span id="cb9-58"><a href="#cb9-58" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>              B2            D4            G4            D5</span>
<span id="cb9-59"><a href="#cb9-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .            F4             .</span>
<span id="cb9-60"><a href="#cb9-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>              C3            C4            E4            G4</span>
<span id="cb9-61"><a href="#cb9-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb9-62"><a href="#cb9-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>              D3           F<span class="co">#3            D4            B4</span></span>
<span id="cb9-63"><a href="#cb9-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .            G3             .             .</span>
<span id="cb9-64"><a href="#cb9-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>              D3             .            C4            A4</span>
<span id="cb9-65"><a href="#cb9-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .           F<span class="co">#3             .             .</span></span>
<span id="cb9-66"><a href="#cb9-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>              G2            G3            B3            G4</span>
<span id="cb9-67"><a href="#cb9-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb9-68"><a href="#cb9-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>              C3            G3            E4            G4</span>
<span id="cb9-69"><a href="#cb9-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>              A2            A3            E4            C5</span>
<span id="cb9-70"><a href="#cb9-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>              E3           G<span class="co">#3            E4            B4</span></span>
<span id="cb9-71"><a href="#cb9-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .            D4             .</span>
<span id="cb9-72"><a href="#cb9-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb9-73"><a href="#cb9-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>              F3            A3            C4            A4</span>
<span id="cb9-74"><a href="#cb9-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>              C3            G3            C4            E4</span>
<span id="cb9-75"><a href="#cb9-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>             Bb2            G3            D4            G4</span>
<span id="cb9-76"><a href="#cb9-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>              A2            A3             .            F4</span>
<span id="cb9-77"><a href="#cb9-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb9-78"><a href="#cb9-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>             G<span class="co">#2            B3            D4            E4</span></span>
<span id="cb9-79"><a href="#cb9-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>              A2            A3            C4             .</span>
<span id="cb9-80"><a href="#cb9-80" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>              E2           G<span class="co">#3            B3             .</span></span>
<span id="cb9-81"><a href="#cb9-81" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb9-82"><a href="#cb9-82" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb9-83"><a href="#cb9-83" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb9-84"><a href="#cb9-84" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb9-85"><a href="#cb9-85" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb9-86"><a href="#cb9-86" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb9-87"><a href="#cb9-87" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb9-88"><a href="#cb9-88" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb9-89"><a href="#cb9-89" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb9-90"><a href="#cb9-90" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb9-91"><a href="#cb9-91" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb9-92"><a href="#cb9-92" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb9-93"><a href="#cb9-93" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb9-94"><a href="#cb9-94" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb9-95"><a href="#cb9-95" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb9-96"><a href="#cb9-96" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb9-97"><a href="#cb9-97" tabindex="-1"></a><span class="er">&gt;</span>                Token <span class="sc">::</span> character</span>
<span id="cb9-98"><a href="#cb9-98" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Pitch <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>pitch tokens)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="withwithin-subsets">With/Within Subsets<a class="anchor" aria-label="anchor" href="#withwithin-subsets"></a>
</h2>
<p>The real power of the <code>with</code> and <code>within</code>
functions, comes from additional “control” arguments you can pass. Two
prominent examples allow you to automatically work with subsets of your
data: the <code>subset</code> and <code>by</code> arguments. We can
indicate a subset, or multiple subsets, and our expressions will be
evaluated separately within each subset.</p>
<div class="section level3">
<h3 id="with-subset">With Subset<a class="anchor" aria-label="anchor" href="#with-subset"></a>
</h3>
<p>The <code>subset</code> argument indicates a subset of the data which
we should evaluate “within.” There <code>subset</code> argument must be
an expression which evaluates to a logical vector (<code>TRUE</code> of
<code>FALSE</code>). The main command is then evaluated wherever the
<code>subset</code> expression evaluates to <code>TRUE</code>.</p>
<p>Let’s try it with our tabling example. Maybe we want to table only
tokens in the <em>first</em> spine:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>     <span class="fu">kern</span>(Token) <span class="sc">|&gt;</span> <span class="fu">table</span>() <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="at">n =</span> <span class="dv">10</span>),</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>     <span class="at">subset =</span> Spine <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="er">&gt;</span>    GG C<span class="co">#  G  A AA F# BB  C  D  E </span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">29</span> <span class="dv">30</span> <span class="dv">36</span> <span class="dv">36</span> <span class="dv">44</span> <span class="dv">44</span> <span class="dv">48</span> <span class="dv">57</span> <span class="dv">70</span> <span class="dv">85</span></span></code></pre></div>
<p>We only see the low notes, which is what we’d expect from the bass
voice.</p>
<p>What about this, let’s only tabulate the even-numbered bars: For
datasets which have measures indicated (with <code>=</code> tokens), the
<code>Bar</code> field is integers counting these bars within each
piece. If we want even numbers, we can ask where is <code>Bar</code>
modulo 2 zero?: <code>Bar %% 2 == 0</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>     <span class="fu">kern</span>(Token) <span class="sc">|&gt;</span> <span class="fu">table</span>() <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="at">n =</span> <span class="dv">10</span>),</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>     <span class="at">subset =</span> Bar <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="er">&gt;</span>      G   c  f<span class="co">#   A   B   d   b   g   a   e </span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">41</span>  <span class="dv">53</span>  <span class="dv">57</span>  <span class="dv">59</span>  <span class="dv">62</span>  <span class="dv">63</span>  <span class="dv">63</span>  <span class="dv">72</span>  <span class="dv">82</span> <span class="dv">111</span></span></code></pre></div>
<p>If we use the <code>subset</code> argument with <code>within</code>,
parts of the data which don’t match the <code>within</code> expression
are returned as null:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">within</span>(chorales,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>       Pitch <span class="ot">&lt;-</span> <span class="fu">pitch</span>(Token, <span class="at">simple =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>       <span class="at">subset =</span> Spine <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>         <span class="er">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>               G             .             .             .</span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>               G             .             .             .</span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>               E             .             .             .</span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>              F<span class="co">#             .             .             .</span></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>               G             .             .             .</span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>               D             .             .             .</span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>               E             .             .             .</span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>               C             .             .             .</span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>               B             .             .             .</span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>               A             .             .             .</span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>               G             .             .             .</span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb12-43"><a href="#cb12-43" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>               D             .             .             .</span>
<span id="cb12-44"><a href="#cb12-44" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>               G             .             .             .</span>
<span id="cb12-45"><a href="#cb12-45" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb12-46"><a href="#cb12-46" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb12-47"><a href="#cb12-47" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb12-48"><a href="#cb12-48" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb12-49"><a href="#cb12-49" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb12-50"><a href="#cb12-50" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb12-51"><a href="#cb12-51" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb12-52"><a href="#cb12-52" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb12-53"><a href="#cb12-53" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>               A             .             .             .</span>
<span id="cb12-54"><a href="#cb12-54" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>               A             .             .             .</span>
<span id="cb12-55"><a href="#cb12-55" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb12-56"><a href="#cb12-56" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>               E             .             .             .</span>
<span id="cb12-57"><a href="#cb12-57" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>               D             .             .             .</span>
<span id="cb12-58"><a href="#cb12-58" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>               C             .             .             .</span>
<span id="cb12-59"><a href="#cb12-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>               B             .             .             .</span>
<span id="cb12-60"><a href="#cb12-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-61"><a href="#cb12-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>               C             .             .             .</span>
<span id="cb12-62"><a href="#cb12-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb12-63"><a href="#cb12-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>               D             .             .             .</span>
<span id="cb12-64"><a href="#cb12-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-65"><a href="#cb12-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>               D             .             .             .</span>
<span id="cb12-66"><a href="#cb12-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-67"><a href="#cb12-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>               G             .             .             .</span>
<span id="cb12-68"><a href="#cb12-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb12-69"><a href="#cb12-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>               C             .             .             .</span>
<span id="cb12-70"><a href="#cb12-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>               A             .             .             .</span>
<span id="cb12-71"><a href="#cb12-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>               E             .             .             .</span>
<span id="cb12-72"><a href="#cb12-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .             .             .</span>
<span id="cb12-73"><a href="#cb12-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb12-74"><a href="#cb12-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>               F             .             .             .</span>
<span id="cb12-75"><a href="#cb12-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>               C             .             .             .</span>
<span id="cb12-76"><a href="#cb12-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>              Bb             .             .             .</span>
<span id="cb12-77"><a href="#cb12-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>               A             .             .             .</span>
<span id="cb12-78"><a href="#cb12-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb12-79"><a href="#cb12-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>              G<span class="co">#             .             .             .</span></span>
<span id="cb12-80"><a href="#cb12-80" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>               A             .             .             .</span>
<span id="cb12-81"><a href="#cb12-81" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>               E             .             .             .</span>
<span id="cb12-82"><a href="#cb12-82" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb12-83"><a href="#cb12-83" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb12-84"><a href="#cb12-84" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb12-85"><a href="#cb12-85" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb12-86"><a href="#cb12-86" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb12-87"><a href="#cb12-87" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb12-88"><a href="#cb12-88" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb12-89"><a href="#cb12-89" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb12-90"><a href="#cb12-90" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb12-91"><a href="#cb12-91" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb12-92"><a href="#cb12-92" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb12-93"><a href="#cb12-93" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb12-94"><a href="#cb12-94" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb12-95"><a href="#cb12-95" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb12-96"><a href="#cb12-96" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb12-97"><a href="#cb12-97" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb12-98"><a href="#cb12-98" tabindex="-1"></a><span class="er">&gt;</span>                Token <span class="sc">::</span> character</span>
<span id="cb12-99"><a href="#cb12-99" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Pitch <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>pitch tokens)</span></code></pre></div>
<p>Notice, our new <code>Pitch</code> field is <code>NULL</code> in all
spine except spine 1.</p>
<div class="section level4">
<h4 id="or-else">Or else…<a class="anchor" aria-label="anchor" href="#or-else"></a>
</h4>
<p>In many cases when using <code>subset</code> we’d like to do
something with, or at least keep, the “other” part of the data—the
complement of the subset. We can do this by expressing a “complement”
expression. The idea is that we say “evaluate X where Y is true,
otherwise evaluate this instead.” This is easiest to understand if we
use our <code>within</code> example from above. Maybe we want to
calculate the simple pitch of the first spine, but <em>leave the other
spines unchanged</em>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="fu">within</span>(chorales,</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>       Pitch <span class="ot">&lt;-</span> <span class="fu">pitch</span>(Token, <span class="at">simple =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>       <span class="at">subset =</span> Spine <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>       <span class="at">complement =</span> Token)</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>         <span class="er">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch       <span class="sc">**</span>pitch</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>               G            4B            4d            4g</span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>               G            4B            4d            2g</span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>               E           8cL            4e             .</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .           8BJ             .             .</span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>              F<span class="co">#            4A            4d           4dd</span></span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>               G            4G            2d           <span class="fl">4.</span>b</span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>               D           4F<span class="co">#             .             .</span></span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .            8a</span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>               E            4G            4B            4g</span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>               C           8cL           8eL           <span class="fl">4.</span>g</span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .           8BJ            8d             .</span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>               B            4c            8e             .</span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>               A             .          8f<span class="co">#J            8a</span></span>
<span id="cb13-42"><a href="#cb13-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>               G            4d            4g            4b</span>
<span id="cb13-43"><a href="#cb13-43" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb13-44"><a href="#cb13-44" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>               D           2d;          2f<span class="co">#;           2a;</span></span>
<span id="cb13-45"><a href="#cb13-45" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>               G            4d            4g            4b</span>
<span id="cb13-46"><a href="#cb13-46" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb13-47"><a href="#cb13-47" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb13-48"><a href="#cb13-48" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb13-49"><a href="#cb13-49" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb13-50"><a href="#cb13-50" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb13-51"><a href="#cb13-51" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb13-52"><a href="#cb13-52" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb13-53"><a href="#cb13-53" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb13-54"><a href="#cb13-54" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>               A           2c;           2e;           2a;</span>
<span id="cb13-55"><a href="#cb13-55" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>               A            2e            2a           2cc</span>
<span id="cb13-56"><a href="#cb13-56" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb13-57"><a href="#cb13-57" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>               E            4e            4g            4b</span>
<span id="cb13-58"><a href="#cb13-58" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>               D            4e            4g           4cc</span>
<span id="cb13-59"><a href="#cb13-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>               C             .             .             .</span>
<span id="cb13-60"><a href="#cb13-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>               B            4d           8gL           4dd</span>
<span id="cb13-61"><a href="#cb13-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .           8fJ             .</span>
<span id="cb13-62"><a href="#cb13-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>               C            4c            4e            4g</span>
<span id="cb13-63"><a href="#cb13-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb13-64"><a href="#cb13-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>               D           8F<span class="co">#            4d            4b</span></span>
<span id="cb13-65"><a href="#cb13-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .            4G             .             .</span>
<span id="cb13-66"><a href="#cb13-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>               D             .            4c            4a</span>
<span id="cb13-67"><a href="#cb13-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .           8F<span class="co">#             .             .</span></span>
<span id="cb13-68"><a href="#cb13-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>               G           2G;           2B;           2g;</span>
<span id="cb13-69"><a href="#cb13-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb13-70"><a href="#cb13-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>               C            2G            2e            2g</span>
<span id="cb13-71"><a href="#cb13-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>               A            4A            4e           4cc</span>
<span id="cb13-72"><a href="#cb13-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>               E           4G<span class="co">#           8eL            4b</span></span>
<span id="cb13-73"><a href="#cb13-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .           8dJ             .</span>
<span id="cb13-74"><a href="#cb13-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb13-75"><a href="#cb13-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>               F            4A            4c            4a</span>
<span id="cb13-76"><a href="#cb13-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>               C            4G            4c            4e</span>
<span id="cb13-77"><a href="#cb13-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>              Bb            4G           [2d            4g</span>
<span id="cb13-78"><a href="#cb13-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>               A            4A             .            4f</span>
<span id="cb13-79"><a href="#cb13-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb13-80"><a href="#cb13-80" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>              G<span class="co">#            4B           4d]           1e;</span></span>
<span id="cb13-81"><a href="#cb13-81" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>               A            4A            4c             .</span>
<span id="cb13-82"><a href="#cb13-82" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>               E         2G<span class="co">#X;           2B;             .</span></span>
<span id="cb13-83"><a href="#cb13-83" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb13-84"><a href="#cb13-84" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb13-85"><a href="#cb13-85" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb13-86"><a href="#cb13-86" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb13-87"><a href="#cb13-87" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb13-88"><a href="#cb13-88" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb13-89"><a href="#cb13-89" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb13-90"><a href="#cb13-90" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb13-91"><a href="#cb13-91" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb13-92"><a href="#cb13-92" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb13-93"><a href="#cb13-93" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb13-94"><a href="#cb13-94" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb13-95"><a href="#cb13-95" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb13-96"><a href="#cb13-96" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb13-97"><a href="#cb13-97" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb13-98"><a href="#cb13-98" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb13-99"><a href="#cb13-99" tabindex="-1"></a><span class="er">&gt;</span>                Token <span class="sc">::</span> character</span>
<span id="cb13-100"><a href="#cb13-100" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Pitch <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>pitch tokens)</span></code></pre></div>
<p>This pattern, with <code>comp = Token</code> is quite common.</p>
</div>
</div>
<div class="section level3">
<h3 id="with-subgroups">With Subgroups<a class="anchor" aria-label="anchor" href="#with-subgroups"></a>
</h3>
<p>The <code>by</code> keyword arguments is short for “group by.” We can
indicate a field in our data to group the data by—our main call will
then be applied separately to each group, and all the groups will be
returned.</p>
<p>Let’s try it with our tabling example. Let’s group the data by spine,
so we tabulate each spine of data (voice) separately!</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>     <span class="fu">kern</span>(Token) <span class="sc">|&gt;</span> <span class="fu">table</span>() <span class="sc">|&gt;</span> <span class="fu">sort</span>() <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="at">n =</span> <span class="dv">10</span>),</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>     <span class="at">by =</span> Spine)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="er">$</span><span class="st">`</span><span class="at">1</span><span class="st">`</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="er">&gt;</span>    GG C<span class="co">#  G  A AA F# BB  C  D  E </span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">29</span> <span class="dv">30</span> <span class="dv">36</span> <span class="dv">36</span> <span class="dv">44</span> <span class="dv">44</span> <span class="dv">48</span> <span class="dv">57</span> <span class="dv">70</span> <span class="dv">85</span> </span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="er">&gt;</span>    <span class="er">$</span><span class="st">`</span><span class="at">2</span><span class="st">`</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="er">&gt;</span>    B<span class="sc">-</span> F<span class="co"># G# c#  G  e  A  c  B  d </span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">17</span> <span class="dv">20</span> <span class="dv">29</span> <span class="dv">34</span> <span class="dv">35</span> <span class="dv">75</span> <span class="dv">76</span> <span class="dv">83</span> <span class="dv">85</span> <span class="dv">88</span> </span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="er">&gt;</span>    <span class="er">$</span><span class="st">`</span><span class="at">3</span><span class="st">`</span></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="er">&gt;</span>      B  d<span class="co">#   b   d  g#   f   a  f#   g   e </span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">16</span>  <span class="dv">16</span>  <span class="dv">19</span>  <span class="dv">43</span>  <span class="dv">44</span>  <span class="dv">50</span>  <span class="dv">67</span>  <span class="dv">83</span>  <span class="dv">88</span> <span class="dv">121</span> </span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a><span class="er">&gt;</span>    <span class="er">$</span><span class="st">`</span><span class="at">4</span><span class="st">`</span></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a><span class="er">&gt;</span>     a<span class="sc">-</span>  b<span class="sc">-</span>   e  ee cc<span class="co">#   g  dd  cc   a   b </span></span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a><span class="sc">&gt;</span>     <span class="dv">15</span>  <span class="dv">15</span>  <span class="dv">17</span>  <span class="dv">25</span>  <span class="dv">36</span>  <span class="dv">42</span>  <span class="dv">48</span>  <span class="dv">68</span>  <span class="dv">93</span> <span class="dv">115</span></span></code></pre></div>
<p>We get <em>four</em> different tables, one of each spine. If we want
to make multiple plots, we can just add <code>barplot</code> like
before.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/withinHumdrum.html">with</a></span><span class="op">(</span><span class="va">chorales</span>, 
     <span class="fu"><a href="../reference/kern.html">kern</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="op">)</span>,
     by <span class="op">=</span> <span class="va">Spine</span><span class="op">)</span></code></pre></div>
<p><img src="WorkingWithData_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<hr>
<p>Let’s try something slightly different: Since our four spines
represent bass, tenor, alto, and soprano voices (in that order) I’d
expect that average pitch of each spine to be significantly different.
Let’s convert our pitch data to semitones (using <code>semits</code>)
and add a call to the base-R function <code>mean</code>: Watch</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>     <span class="fu">semits</span>(Token) <span class="sc">|&gt;</span> <span class="fu">mean</span>(),</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>     <span class="at">by =</span> Spine)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="sc">&gt;</span>             <span class="dv">1</span>          <span class="dv">2</span>          <span class="dv">3</span>          <span class="dv">4</span> </span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="sc">-</span><span class="fl">9.6692308</span> <span class="sc">-</span><span class="fl">0.1143317</span>  <span class="fl">5.6065041</span> <span class="fl">10.5672192</span></span></code></pre></div>
<p>Oops, that didn’t work! It’s because some of our <code>Token</code>
data are rests, like <code>4r</code>. The <code>semits</code> function
doesn’t know how to read <code>4r</code> so it returns an
<code>NA</code> value. Don’t worry, this is an easy fix, and a good
lesson for data analysis in general and R in particular. We always need
to keep in mind what data is “missing” or Not Applicable
(<code>NA</code>). Most R math functions have an option to ignore
missing data by setting <code>na.rm = TRUE</code> (NA remove):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">with</span>(chorales, </span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>     <span class="fu">semits</span>(Token) <span class="sc">|&gt;</span> <span class="fu">mean</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>     <span class="at">by =</span> Spine)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="sc">&gt;</span>             <span class="dv">1</span>          <span class="dv">2</span>          <span class="dv">3</span>          <span class="dv">4</span> </span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="sc">-</span><span class="fl">9.6692308</span> <span class="sc">-</span><span class="fl">0.1143317</span>  <span class="fl">5.6065041</span> <span class="fl">10.5672192</span></span></code></pre></div>
<p>That’s what we expected! Of course, we might prefer a plot.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/withinHumdrum.html">with</a></span><span class="op">(</span><span class="va">chorales</span>, 
     <span class="fu"><a href="../reference/semits.html">semits</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
     by <span class="op">=</span> <span class="va">Spine</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span>names.arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Bass'</span>, <span class="st">'Tenor'</span>, <span class="st">'Alto'</span>, <span class="st">'Soprano'</span><span class="op">)</span>, 
                            main <span class="op">=</span> <span class="st">'Mean Pitch by Voice'</span>,
                            ylab <span class="op">=</span> <span class="st">'Semitones'</span><span class="op">)</span></code></pre></div>
<p><img src="WorkingWithData_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<p>Notice that we did something differently here! We don’t want to make
a separate plot of <em>each</em> group-by calculation—that would just be
a single number for each spine. We want to make a plot of all four
numbers, so we put the <code>barplot</code> call <em>after</em>
(outside) the <code>with</code> call. Notice we can also control the
labels for our barplot using the <code>names.arg</code> argument.</p>
<p>Maybe we want to inspect a whole histogram of the pitches in each
voice. We can use the base-R <code>hist</code> function; Since we want a
histogram of each spine, we <em>will</em> want to put <code>hist</code>
“inside” the call to <code>with</code> again:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/withinHumdrum.html">with</a></span><span class="op">(</span><span class="va">chorales</span>, 
     <span class="fu"><a href="../reference/semits.html">semits</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">24</span>, <span class="fl">24</span><span class="op">)</span>, main <span class="op">=</span> <span class="va">Instrument</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,
     by <span class="op">=</span> <span class="va">Spine</span><span class="op">)</span> </code></pre></div>
<p><img src="WorkingWithData_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p>Pro tips: by setting the <code>xlim</code> (x-limit) argument, we
make sure that all four barplots cover the same ranges of pitches, so
they are comparable. We also set the main argument (figure title) using
the <code>Instrument</code> field, which gives us the names of each
instrument. That’s right, we can refer to any/all fields in the humdrum
data! (Not all datasets have this tandem interpretation, so it wouldn’t
always work.)</p>
<div class="section level4">
<h4 id="advanced-grouping">Advanced Grouping<a class="anchor" aria-label="anchor" href="#advanced-grouping"></a>
</h4>
<p>We can group our data by any arbitrary grouping in our data. In fact
the <code>by</code> keyword argument can be a complex expression, as
long as its output is the same length as its input. For example, maybe
we’d like to reproduce our histograms, but lumping the male (bass/tenor)
and female (alto/soprano) voices together.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/withinHumdrum.html">with</a></span><span class="op">(</span><span class="va">chorales</span>, 
     <span class="fu"><a href="../reference/semits.html">semits</a></span><span class="op">(</span><span class="va">Token</span><span class="op">)</span> |&gt; <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">24</span>, <span class="fl">24</span><span class="op">)</span>, main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">Instrument</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">' and '</span><span class="op">)</span><span class="op">)</span>,
     by <span class="op">=</span> <span class="va">Spine</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span> </code></pre></div>
<p><img src="WorkingWithData_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
<p>The expression <code>Spine &lt; 3</code> returns <code>FALSE</code>
for spines 1 and 2 (bass and tenor) and <code>TRUE</code> for spines 3
and 4. These two categories (<code>FALSE</code> and <code>TRUE</code>)
are then used to group the data.</p>
</div>
</div>
<div class="section level3">
<h3 id="recycling-results">Recycling results<a class="anchor" aria-label="anchor" href="#recycling-results"></a>
</h3>
<p>In some cases, we’d like to perform a command <code>within</code> our
data which might output a smaller vector than in the input, including a
single value, but we still want to reconstruct the data fully. In R,
this is usually called “recycling”—i.e., repeating a value until it
matches a certain length. When using <code>with</code> or
<code>within</code>, we can cause our results to be recycled to the full
field length by using the <code>recycle</code> argument for our
expression. This is useful if you want to group by something, and fill
each group with the same value:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">within</span>(chorales,</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>       Semits <span class="ot">&lt;-</span> <span class="fu">semits</span>(Token)) <span class="ot">-&gt;</span> chorales</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="fu">within</span>(chorales, </span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>       <span class="at">recycle =</span> BarBassNote <span class="ot">&lt;-</span> <span class="fu">min</span>(Semits),</span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>       <span class="at">by =</span> <span class="fu">list</span>(File, Bar)) <span class="ot">-&gt;</span> chorales</span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>chorales</span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb21-15"><a href="#cb21-15" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb21-16"><a href="#cb21-16" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb21-17"><a href="#cb21-17" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb21-18"><a href="#cb21-18" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>        <span class="er">**</span>semits      <span class="sc">**</span>semits      <span class="sc">**</span>semits      <span class="sc">**</span>semits</span>
<span id="cb21-19"><a href="#cb21-19" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb21-20"><a href="#cb21-20" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb21-21"><a href="#cb21-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb21-22"><a href="#cb21-22" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb21-23"><a href="#cb21-23" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb21-24"><a href="#cb21-24" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb21-25"><a href="#cb21-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb21-26"><a href="#cb21-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb21-27"><a href="#cb21-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb21-28"><a href="#cb21-28" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb21-29"><a href="#cb21-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb21-30"><a href="#cb21-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-31"><a href="#cb21-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb21-32"><a href="#cb21-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>              <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span></span>
<span id="cb21-33"><a href="#cb21-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>              <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span>             .</span>
<span id="cb21-34"><a href="#cb21-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .            <span class="sc">-</span><span class="dv">8</span>             .             .</span>
<span id="cb21-35"><a href="#cb21-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>              <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span>            <span class="sc">-</span><span class="dv">8</span></span>
<span id="cb21-36"><a href="#cb21-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb21-37"><a href="#cb21-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span></span>
<span id="cb21-38"><a href="#cb21-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span>             .             .</span>
<span id="cb21-39"><a href="#cb21-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .           <span class="sc">-</span><span class="dv">10</span></span>
<span id="cb21-40"><a href="#cb21-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span>           <span class="sc">-</span><span class="dv">10</span></span>
<span id="cb21-41"><a href="#cb21-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb21-42"><a href="#cb21-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-43"><a href="#cb21-43" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>             .</span>
<span id="cb21-44"><a href="#cb21-44" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>             .</span>
<span id="cb21-45"><a href="#cb21-45" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>             .           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-46"><a href="#cb21-46" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-47"><a href="#cb21-47" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb21-48"><a href="#cb21-48" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-49"><a href="#cb21-49" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-50"><a href="#cb21-50" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb21-51"><a href="#cb21-51" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb21-52"><a href="#cb21-52" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb21-53"><a href="#cb21-53" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb21-54"><a href="#cb21-54" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb21-55"><a href="#cb21-55" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb21-56"><a href="#cb21-56" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb21-57"><a href="#cb21-57" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb21-58"><a href="#cb21-58" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-59"><a href="#cb21-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-60"><a href="#cb21-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb21-61"><a href="#cb21-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span></span>
<span id="cb21-62"><a href="#cb21-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span></span>
<span id="cb21-63"><a href="#cb21-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">13</span>             .             .             .</span>
<span id="cb21-64"><a href="#cb21-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span></span>
<span id="cb21-65"><a href="#cb21-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .           <span class="sc">-</span><span class="dv">13</span>             .</span>
<span id="cb21-66"><a href="#cb21-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span>           <span class="sc">-</span><span class="dv">13</span></span>
<span id="cb21-67"><a href="#cb21-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb21-68"><a href="#cb21-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-69"><a href="#cb21-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .           <span class="sc">-</span><span class="dv">17</span>             .             .</span>
<span id="cb21-70"><a href="#cb21-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>             .           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-71"><a href="#cb21-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .           <span class="sc">-</span><span class="dv">17</span>             .             .</span>
<span id="cb21-72"><a href="#cb21-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span>           <span class="sc">-</span><span class="dv">17</span></span>
<span id="cb21-73"><a href="#cb21-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb21-74"><a href="#cb21-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-75"><a href="#cb21-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-76"><a href="#cb21-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-77"><a href="#cb21-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .           <span class="sc">-</span><span class="dv">15</span>             .</span>
<span id="cb21-78"><a href="#cb21-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb21-79"><a href="#cb21-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-80"><a href="#cb21-80" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-81"><a href="#cb21-81" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-82"><a href="#cb21-82" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">15</span>           <span class="sc">-</span><span class="dv">15</span>             .           <span class="sc">-</span><span class="dv">15</span></span>
<span id="cb21-83"><a href="#cb21-83" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb21-84"><a href="#cb21-84" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span></span>
<span id="cb21-85"><a href="#cb21-85" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span>             .</span>
<span id="cb21-86"><a href="#cb21-86" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>             <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span>           <span class="sc">-</span><span class="dv">20</span>             .</span>
<span id="cb21-87"><a href="#cb21-87" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb21-88"><a href="#cb21-88" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb21-89"><a href="#cb21-89" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb21-90"><a href="#cb21-90" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb21-91"><a href="#cb21-91" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb21-92"><a href="#cb21-92" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb21-93"><a href="#cb21-93" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb21-94"><a href="#cb21-94" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb21-95"><a href="#cb21-95" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb21-96"><a href="#cb21-96" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb21-97"><a href="#cb21-97" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb21-98"><a href="#cb21-98" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb21-99"><a href="#cb21-99" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb21-100"><a href="#cb21-100" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb21-101"><a href="#cb21-101" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb21-102"><a href="#cb21-102" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb21-103"><a href="#cb21-103" tabindex="-1"></a><span class="er">&gt;</span>                Token       <span class="sc">::</span> character</span>
<span id="cb21-104"><a href="#cb21-104" tabindex="-1"></a><span class="sc">&gt;</span>                Pitch       <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>pitch tokens)</span>
<span id="cb21-105"><a href="#cb21-105" tabindex="-1"></a><span class="sc">&gt;</span>                Semits      <span class="sc">::</span> <span class="fu">integer</span> (<span class="sc">**</span>semits tokens)</span>
<span id="cb21-106"><a href="#cb21-106" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>BarBassNote <span class="sc">::</span> <span class="fu">integer</span> (<span class="sc">**</span>semits tokens)</span></code></pre></div>
<p>What did this command do? It looks at every bar in each file and
finds the lowest note, then “fills” all the notes in that bar with that
same, single, note. We could then calculate the harmonic interval above
the bar’s bass note:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="fu">within</span>(chorales,</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>       Semits <span class="sc">-</span> BarBassNote)</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# vvv chor001.krn vvv #############################</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">1</span><span class="sc">:</span>  <span class="sc">!!!</span>COM<span class="sc">:</span> Bach, Johann Sebastian</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">2</span><span class="sc">:</span>  <span class="sc">!!!</span>CDT<span class="sc">:</span> <span class="dv">1685</span><span class="sc">/</span><span class="dv">02</span><span class="sc">/</span><span class="dv">21</span><span class="sc">/-</span><span class="dv">1750</span><span class="sc">/</span><span class="dv">07</span><span class="sc">/</span><span class="dv">28</span><span class="sc">/</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="er">&gt;</span>         <span class="dv">3</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span><span class="er">@</span>DE<span class="sc">:</span> Aus meines Herzens Grunde</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">4</span><span class="sc">:</span>  <span class="sc">!!!</span>OTL<span class="sc">@</span>EN<span class="sc">:</span>      From the Depths of My Heart</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">5</span><span class="sc">:</span>  <span class="sc">!!!</span>SCT<span class="sc">:</span> BWV <span class="dv">269</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">6</span><span class="sc">:</span>  <span class="sc">!!!</span>PC<span class="co">#: 1</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">7</span><span class="sc">:</span>  <span class="sc">!!!</span>AGN<span class="sc">:</span> chorale</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">8</span><span class="sc">:</span>        <span class="er">**</span>semits      <span class="sc">**</span>semits      <span class="sc">**</span>semits      <span class="sc">**</span>semits</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a><span class="sc">&gt;</span>         <span class="dv">9</span><span class="sc">:</span>          <span class="er">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox        <span class="sc">*</span>ICvox</span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">10</span><span class="sc">:</span>          <span class="er">*</span>Ibass       <span class="sc">*</span>Itenor        <span class="sc">*</span>Ialto       <span class="sc">*</span>Isoprn</span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">11</span><span class="sc">:</span>         <span class="er">*</span>I<span class="st">"Bass      *I"</span>Tenor       <span class="sc">*</span>I<span class="st">"Alto    *I"</span>Soprano</span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">12</span><span class="sc">:</span>       <span class="er">*&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]     <span class="sc">*</span><span class="er">&gt;</span>[A,A,B]</span>
<span id="cb22-17"><a href="#cb22-17" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">13</span><span class="sc">:</span>    <span class="er">*&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]  <span class="sc">*</span><span class="er">&gt;</span>norep[A,B]</span>
<span id="cb22-18"><a href="#cb22-18" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">14</span><span class="sc">:</span>             <span class="er">*&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A           <span class="sc">*</span><span class="er">&gt;</span>A</span>
<span id="cb22-19"><a href="#cb22-19" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">15</span><span class="sc">:</span>         <span class="er">*</span>clefF4      <span class="sc">*</span>clefGv2       <span class="sc">*</span>clefG2       <span class="sc">*</span>clefG2</span>
<span id="cb22-20"><a href="#cb22-20" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">16</span><span class="sc">:</span>          <span class="er">*</span>k[f<span class="co">#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb22-21"><a href="#cb22-21" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">17</span><span class="sc">:</span>             <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span>           <span class="er">*</span>G<span class="sc">:</span></span>
<span id="cb22-22"><a href="#cb22-22" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">18</span><span class="sc">:</span>           <span class="er">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span>         <span class="sc">*</span>M3<span class="sc">/</span><span class="dv">4</span></span>
<span id="cb22-23"><a href="#cb22-23" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">19</span><span class="sc">:</span>          <span class="er">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100        <span class="sc">*</span>MM100</span>
<span id="cb22-24"><a href="#cb22-24" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">20</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">16</span>            <span class="dv">19</span>            <span class="dv">24</span></span>
<span id="cb22-25"><a href="#cb22-25" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">21</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span>            <span class="ot">=</span><span class="dv">1</span></span>
<span id="cb22-26"><a href="#cb22-26" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">22</span><span class="sc">:</span>               <span class="dv">3</span>             <span class="dv">7</span>            <span class="dv">10</span>            <span class="dv">15</span></span>
<span id="cb22-27"><a href="#cb22-27" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">23</span><span class="sc">:</span>               <span class="dv">0</span>             <span class="dv">8</span>            <span class="dv">12</span>             .</span>
<span id="cb22-28"><a href="#cb22-28" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">24</span><span class="sc">:</span>               .             <span class="dv">7</span>             .             .</span>
<span id="cb22-29"><a href="#cb22-29" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">25</span><span class="sc">:</span>               <span class="dv">2</span>             <span class="dv">5</span>            <span class="dv">10</span>            <span class="dv">22</span></span>
<span id="cb22-30"><a href="#cb22-30" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">26</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span>            <span class="ot">=</span><span class="dv">2</span></span>
<span id="cb22-31"><a href="#cb22-31" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">27</span><span class="sc">:</span>               <span class="dv">5</span>             <span class="dv">5</span>            <span class="dv">12</span>            <span class="dv">21</span></span>
<span id="cb22-32"><a href="#cb22-32" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">28</span><span class="sc">:</span>               <span class="dv">0</span>             <span class="dv">4</span>             .             .</span>
<span id="cb22-33"><a href="#cb22-33" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">29</span><span class="sc">:</span>               .             .             .            <span class="dv">19</span></span>
<span id="cb22-34"><a href="#cb22-34" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">30</span><span class="sc">:</span>               <span class="dv">2</span>             <span class="dv">5</span>             <span class="dv">9</span>            <span class="dv">17</span></span>
<span id="cb22-35"><a href="#cb22-35" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">31</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span>            <span class="ot">=</span><span class="dv">3</span></span>
<span id="cb22-36"><a href="#cb22-36" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">32</span><span class="sc">:</span>               <span class="dv">5</span>            <span class="dv">17</span>            <span class="dv">21</span>            <span class="dv">24</span></span>
<span id="cb22-37"><a href="#cb22-37" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">33</span><span class="sc">:</span>               .            <span class="dv">16</span>            <span class="dv">19</span>             .</span>
<span id="cb22-38"><a href="#cb22-38" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">34</span><span class="sc">:</span>               <span class="dv">4</span>            <span class="dv">17</span>            <span class="dv">21</span>             .</span>
<span id="cb22-39"><a href="#cb22-39" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">35</span><span class="sc">:</span>               <span class="dv">2</span>             .            <span class="dv">23</span>            <span class="dv">26</span></span>
<span id="cb22-40"><a href="#cb22-40" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">36</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">19</span>            <span class="dv">24</span>            <span class="dv">28</span></span>
<span id="cb22-41"><a href="#cb22-41" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">37</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span>            <span class="ot">=</span><span class="dv">4</span></span>
<span id="cb22-42"><a href="#cb22-42" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">38</span><span class="sc">:</span>               <span class="dv">7</span>            <span class="dv">19</span>            <span class="dv">23</span>            <span class="dv">26</span></span>
<span id="cb22-43"><a href="#cb22-43" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">39</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">19</span>            <span class="dv">24</span>            <span class="dv">28</span></span>
<span id="cb22-44"><a href="#cb22-44" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">40</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span>            <span class="ot">=</span><span class="dv">5</span></span>
<span id="cb22-45"><a href="#cb22-45" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="dv">41-133</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb22-46"><a href="#cb22-46" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# ^^^ chor001.krn ^^^ #############################</span></span>
<span id="cb22-47"><a href="#cb22-47" tabindex="-1"></a><span class="er">&gt;</span>    </span>
<span id="cb22-48"><a href="#cb22-48" tabindex="-1"></a><span class="er">&gt;</span>           (<span class="dv">8</span> more files...)</span>
<span id="cb22-49"><a href="#cb22-49" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb22-50"><a href="#cb22-50" tabindex="-1"></a><span class="er">&gt;</span>    <span class="do">############################# vvv chor010.krn vvv #############################</span></span>
<span id="cb22-51"><a href="#cb22-51" tabindex="-1"></a><span class="er">&gt;</span>      <span class="dv">1-60</span><span class="sc">:::</span><span class="er">::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span></span>
<span id="cb22-52"><a href="#cb22-52" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">61</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">15</span>            <span class="dv">19</span>            <span class="dv">24</span></span>
<span id="cb22-53"><a href="#cb22-53" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">62</span><span class="sc">:</span>              <span class="dv">12</span>            <span class="dv">19</span>            <span class="dv">24</span>            <span class="dv">27</span></span>
<span id="cb22-54"><a href="#cb22-54" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">63</span><span class="sc">:</span>              <span class="er">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span>            <span class="ot">=</span><span class="dv">9</span></span>
<span id="cb22-55"><a href="#cb22-55" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">64</span><span class="sc">:</span>               <span class="dv">5</span>            <span class="dv">17</span>            <span class="dv">20</span>            <span class="dv">24</span></span>
<span id="cb22-56"><a href="#cb22-56" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">65</span><span class="sc">:</span>               <span class="dv">3</span>            <span class="dv">17</span>            <span class="dv">20</span>            <span class="dv">25</span></span>
<span id="cb22-57"><a href="#cb22-57" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">66</span><span class="sc">:</span>               <span class="dv">1</span>             .             .             .</span>
<span id="cb22-58"><a href="#cb22-58" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">67</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">15</span>            <span class="dv">20</span>            <span class="dv">27</span></span>
<span id="cb22-59"><a href="#cb22-59" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">68</span><span class="sc">:</span>               .             .            <span class="dv">18</span>             .</span>
<span id="cb22-60"><a href="#cb22-60" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">69</span><span class="sc">:</span>               <span class="dv">1</span>            <span class="dv">13</span>            <span class="dv">17</span>            <span class="dv">20</span></span>
<span id="cb22-61"><a href="#cb22-61" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">70</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span>           <span class="ot">=</span><span class="dv">10</span></span>
<span id="cb22-62"><a href="#cb22-62" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">71</span><span class="sc">:</span>               <span class="dv">7</span>            <span class="dv">11</span>            <span class="dv">19</span>            <span class="dv">28</span></span>
<span id="cb22-63"><a href="#cb22-63" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">72</span><span class="sc">:</span>               .            <span class="dv">12</span>             .             .</span>
<span id="cb22-64"><a href="#cb22-64" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">73</span><span class="sc">:</span>               <span class="dv">7</span>             .            <span class="dv">17</span>            <span class="dv">26</span></span>
<span id="cb22-65"><a href="#cb22-65" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">74</span><span class="sc">:</span>               .            <span class="dv">11</span>             .             .</span>
<span id="cb22-66"><a href="#cb22-66" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">75</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">12</span>            <span class="dv">16</span>            <span class="dv">24</span></span>
<span id="cb22-67"><a href="#cb22-67" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">76</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span>           <span class="ot">=</span><span class="dv">11</span></span>
<span id="cb22-68"><a href="#cb22-68" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">77</span><span class="sc">:</span>               <span class="dv">3</span>            <span class="dv">10</span>            <span class="dv">19</span>            <span class="dv">22</span></span>
<span id="cb22-69"><a href="#cb22-69" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">78</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">12</span>            <span class="dv">19</span>            <span class="dv">27</span></span>
<span id="cb22-70"><a href="#cb22-70" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">79</span><span class="sc">:</span>               <span class="dv">7</span>            <span class="dv">11</span>            <span class="dv">19</span>            <span class="dv">26</span></span>
<span id="cb22-71"><a href="#cb22-71" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">80</span><span class="sc">:</span>               .             .            <span class="dv">17</span>             .</span>
<span id="cb22-72"><a href="#cb22-72" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">81</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span>           <span class="ot">=</span><span class="dv">12</span></span>
<span id="cb22-73"><a href="#cb22-73" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">82</span><span class="sc">:</span>               <span class="dv">8</span>            <span class="dv">12</span>            <span class="dv">15</span>            <span class="dv">24</span></span>
<span id="cb22-74"><a href="#cb22-74" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">83</span><span class="sc">:</span>               <span class="dv">3</span>            <span class="dv">10</span>            <span class="dv">15</span>            <span class="dv">19</span></span>
<span id="cb22-75"><a href="#cb22-75" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">84</span><span class="sc">:</span>               <span class="dv">1</span>            <span class="dv">10</span>            <span class="dv">17</span>            <span class="dv">22</span></span>
<span id="cb22-76"><a href="#cb22-76" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">85</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">12</span>             .            <span class="dv">20</span></span>
<span id="cb22-77"><a href="#cb22-77" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">86</span><span class="sc">:</span>             <span class="er">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span>           <span class="ot">=</span><span class="dv">13</span></span>
<span id="cb22-78"><a href="#cb22-78" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">87</span><span class="sc">:</span>               <span class="dv">4</span>            <span class="dv">19</span>            <span class="dv">22</span>            <span class="dv">24</span></span>
<span id="cb22-79"><a href="#cb22-79" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">88</span><span class="sc">:</span>               <span class="dv">5</span>            <span class="dv">17</span>            <span class="dv">20</span>             .</span>
<span id="cb22-80"><a href="#cb22-80" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">89</span><span class="sc">:</span>               <span class="dv">0</span>            <span class="dv">16</span>            <span class="dv">19</span>             .</span>
<span id="cb22-81"><a href="#cb22-81" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">90</span><span class="sc">:</span>              <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span>            <span class="er">==</span></span>
<span id="cb22-82"><a href="#cb22-82" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">91</span><span class="sc">:</span>              <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span>            <span class="er">*</span><span class="sc">-</span></span>
<span id="cb22-83"><a href="#cb22-83" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">92</span><span class="sc">:</span>  <span class="sc">!!!</span>hum2abc<span class="sc">:</span> <span class="sc">-</span>Q <span class="st">''</span></span>
<span id="cb22-84"><a href="#cb22-84" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">93</span><span class="sc">:</span>  <span class="sc">!!!</span>title<span class="sc">:</span> <span class="er">@</span>{PC<span class="co">#}. @{OTL@@DE}</span></span>
<span id="cb22-85"><a href="#cb22-85" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">94</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR1<span class="sc">:</span> <span class="dv">371</span> vierstimmige Choralges<span class="sc">&amp;</span>auml;nge von Johann Sebastian B<span class="sc">**</span><span class="er">*</span></span>
<span id="cb22-86"><a href="#cb22-86" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">95</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> 4th ed. by Alfred D<span class="sc">&amp;</span>ouml;<span class="fu">rffel</span> (Leipzig<span class="sc">:</span> Breitkopf und H<span class="sc">&amp;</span>a<span class="sc">**</span><span class="er">*</span></span>
<span id="cb22-87"><a href="#cb22-87" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">96</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR2<span class="sc">:</span> c<span class="fl">.1875</span>). <span class="dv">178</span> pp. Plate <span class="st">"V.A.10"</span>.  reprint<span class="sc">:</span> J.S. Bach, <span class="dv">371</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb22-88"><a href="#cb22-88" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">97</span><span class="sc">:</span>  <span class="sc">!!!</span>YOR4<span class="sc">:</span> <span class="fu">Chorales</span> (New York<span class="sc">:</span> Associated Music Publishers, Inc., c<span class="fl">.1</span><span class="sc">**</span><span class="er">*</span></span>
<span id="cb22-89"><a href="#cb22-89" tabindex="-1"></a><span class="er">&gt;</span>        <span class="dv">98</span><span class="sc">:</span>  <span class="sc">!!!</span>SMS<span class="sc">:</span> B<span class="sc">&amp;</span>H, 4th ed, Alfred D<span class="sc">&amp;</span>ouml;rffel, c<span class="fl">.1875</span>, plate V.A<span class="fl">.10</span></span>
<span id="cb22-90"><a href="#cb22-90" tabindex="-1"></a><span class="sc">&gt;</span>        <span class="dv">99</span><span class="sc">:</span>  <span class="sc">!!!</span>EED<span class="sc">:</span>  Craig Stuart Sapp</span>
<span id="cb22-91"><a href="#cb22-91" tabindex="-1"></a><span class="sc">&gt;</span>       <span class="dv">100</span><span class="sc">:</span>  <span class="sc">!!!</span>EEV<span class="sc">:</span>  <span class="dv">2009</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span><span class="dv">22</span></span>
<span id="cb22-92"><a href="#cb22-92" tabindex="-1"></a><span class="sc">&gt;</span>    <span class="do">############################# ^^^ chor010.krn ^^^ #############################</span></span>
<span id="cb22-93"><a href="#cb22-93" tabindex="-1"></a><span class="er">&gt;</span>                           (<span class="sc">**</span><span class="er">*</span>four global comments truncated due to screen size<span class="sc">**</span><span class="er">*</span>)</span>
<span id="cb22-94"><a href="#cb22-94" tabindex="-1"></a><span class="sc">&gt;</span>    </span>
<span id="cb22-95"><a href="#cb22-95" tabindex="-1"></a><span class="er">&gt;</span>       humdrumR corpus of ten files.</span>
<span id="cb22-96"><a href="#cb22-96" tabindex="-1"></a><span class="sc">&gt;</span>        Data fields<span class="sc">:</span> </span>
<span id="cb22-97"><a href="#cb22-97" tabindex="-1"></a><span class="er">&gt;</span>                Token       <span class="sc">::</span> character</span>
<span id="cb22-98"><a href="#cb22-98" tabindex="-1"></a><span class="sc">&gt;</span>                Pitch       <span class="sc">::</span> <span class="fu">character</span> (<span class="sc">**</span>pitch tokens)</span>
<span id="cb22-99"><a href="#cb22-99" tabindex="-1"></a><span class="sc">&gt;</span>                Semits      <span class="sc">::</span> <span class="fu">integer</span> (<span class="sc">**</span>semits tokens)</span>
<span id="cb22-100"><a href="#cb22-100" tabindex="-1"></a><span class="sc">&gt;</span>                BarBassNote <span class="sc">::</span> <span class="fu">integer</span> (<span class="sc">**</span>semits tokens)</span>
<span id="cb22-101"><a href="#cb22-101" tabindex="-1"></a><span class="sc">&gt;</span>               <span class="er">*</span>Result1     <span class="sc">::</span> <span class="fu">integer</span> (<span class="sc">**</span>semits tokens)</span>
<span id="cb22-102"><a href="#cb22-102" tabindex="-1"></a></span>
<span id="cb22-103"><a href="#cb22-103" tabindex="-1"></a><span class="fu">with</span>(chorales, <span class="fu">hist</span>(Semits <span class="sc">-</span> BarBassNote))</span></code></pre></div>
<p><img src="WorkingWithData_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nathaniel Condit-Schultz, Claire Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
