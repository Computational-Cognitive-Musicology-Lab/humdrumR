<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Nathaniel Condit-Schultz" />

<meta name="date" content="2019-12-30" />

<title>Reading and writing data with humdrumR</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Reading and writing data with humdrumR</h1>
<h4 class="author">Nathaniel Condit-Schultz</h4>
<h4 class="date">2019-12-30</h4>



<p>Welcome to “Reading and writing data with humdrumR”! This document will give you a detailed overview of humdrumR’s data reading and writing functionality. This document closely parallels parts of humdrumR’s code documentation; within an R session, you can read more concise version the material in this document by calling:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(humdrumR)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>?readHumdrum</span>
<span id="cb1-4"><a href="#cb1-4"></a>?writeHumdrum</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt; No documentation for &#39;writeHumdrum&#39; in specified packages and libraries:</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt; you could try &#39;??writeHumdrum&#39;</span></span></code></pre></div>
<hr />
<blockquote>
<p><strong>Note</strong>: humdrumR is primarily intended to be used for analyzing existing humdrum data, and most users will be reading humdrum data a lot more often than writing it. humdrumR <em>is</em> able to write modified humdrum data back to humdrum-syntax text files, but this is a secondary use-case, and has recieved relatively little attention/thought in the current version of the package.</p>
</blockquote>
<div id="reading-humdrum-data" class="section level1">
<h1>Reading humdrum data</h1>
<p>The <code>readHumdrum</code> function is the gateway to humdrumR: it is the function we use to read humdrum data, encoded in humdrum-syntax text files, into R.</p>
<div id="practice-data" class="section level3">
<h3>Practice Data</h3>
<p>In the following examples, we will make use the small number of raw humdrum data files which are included with humdrumR. To access these files, we need to navigate to the directory where your computer installed humdrumR—fortunately, humdrumR records where this directory is on your computer in a variable called <code>humdrumRroot</code>. Once we load the humdrumR library, we just need to set our R “working directory” to that location using the command <code>setwd</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(humdrumR)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">setwd</span>(humdrumRroot)</span></code></pre></div>
<p>The humdrum data is stored in a subdirectory called “HumdrumData”—we can look at the contents of this directory using <code>dir(recursive = TRUE)</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">dir</span>(<span class="st">&#39;HumdrumData&#39;</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt;  [1] &quot;BachChorales/chor001.krn&quot;                  </span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt;  [2] &quot;BachChorales/chor002.krn&quot;                  </span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt;  [3] &quot;BachChorales/chor003.krn&quot;                  </span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt;  [4] &quot;BachChorales/chor004.krn&quot;                  </span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt;  [5] &quot;BachChorales/chor005.krn&quot;                  </span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt;  [6] &quot;BachChorales/chor006.krn&quot;                  </span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt;  [7] &quot;BachChorales/chor007.krn&quot;                  </span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt;  [8] &quot;BachChorales/chor008.krn&quot;                  </span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt;  [9] &quot;BachChorales/chor009.krn&quot;                  </span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt; [10] &quot;BachChorales/chor010.krn&quot;                  </span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; [11] &quot;BeethovenVariations/B075_00_01_a.krn&quot;      </span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt; [12] &quot;BeethovenVariations/B075_00_02_a.krn&quot;      </span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt; [13] &quot;BeethovenVariations/B075_00_03_a.krn&quot;      </span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co">#&gt; [14] &quot;BeethovenVariations/B075_00_04_a.krn&quot;      </span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">#&gt; [15] &quot;BeethovenVariations/B075_00_05_a.krn&quot;      </span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">#&gt; [16] &quot;BeethovenVariations/B075_00_06_a.krn&quot;      </span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">#&gt; [17] &quot;BeethovenVariations/B075_01_01_a.krn&quot;      </span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">#&gt; [18] &quot;BeethovenVariations/B075_01_02_a.krn&quot;      </span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">#&gt; [19] &quot;BeethovenVariations/B075_01_03_a.krn&quot;      </span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="co">#&gt; [20] &quot;BeethovenVariations/B075_01_04_a.krn&quot;      </span></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="co">#&gt; [21] &quot;BeethovenVariations/B075_01_05_a.krn&quot;      </span></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="co">#&gt; [22] &quot;BeethovenVariations/B075_01_06_a.krn&quot;      </span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="co">#&gt; [23] &quot;MozartVariations/M354_00_01a_a.krn&quot;        </span></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="co">#&gt; [24] &quot;MozartVariations/M354_00_02b_a.krn&quot;        </span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="co">#&gt; [25] &quot;MozartVariations/M354_00_03c_a.krn&quot;        </span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="co">#&gt; [26] &quot;MozartVariations/M354_00_04d_a.krn&quot;        </span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">#&gt; [27] &quot;MozartVariations/M354_01_01a_a.krn&quot;        </span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="co">#&gt; [28] &quot;MozartVariations/M354_01_02b_a.krn&quot;        </span></span>
<span id="cb3-31"><a href="#cb3-31"></a><span class="co">#&gt; [29] &quot;MozartVariations/M354_01_03c_a.krn&quot;        </span></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="co">#&gt; [30] &quot;MozartVariations/M354_01_04d_a.krn&quot;        </span></span>
<span id="cb3-33"><a href="#cb3-33"></a><span class="co">#&gt; [31] &quot;RapFlow/2pac_IGetAround.rap&quot;               </span></span>
<span id="cb3-34"><a href="#cb3-34"></a><span class="co">#&gt; [32] &quot;RapFlow/BeastieBoys_BrassMonkey.rap&quot;       </span></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">#&gt; [33] &quot;RapFlow/Coolio_GangstasParadise.rap&quot;       </span></span>
<span id="cb3-36"><a href="#cb3-36"></a><span class="co">#&gt; [34] &quot;RapFlow/Ludacris_MoneyMaker.rap&quot;           </span></span>
<span id="cb3-37"><a href="#cb3-37"></a><span class="co">#&gt; [35] &quot;RapFlow/NotoriousBIG_Hypnotize.rap&quot;        </span></span>
<span id="cb3-38"><a href="#cb3-38"></a><span class="co">#&gt; [36] &quot;RapFlow/RobBase_ItTakesTwo.rap&quot;            </span></span>
<span id="cb3-39"><a href="#cb3-39"></a><span class="co">#&gt; [37] &quot;RapFlow/WillSmith_Summertime.rap&quot;          </span></span>
<span id="cb3-40"><a href="#cb3-40"></a><span class="co">#&gt; [38] &quot;RollingStoneCorpus/all_apologies.hum&quot;      </span></span>
<span id="cb3-41"><a href="#cb3-41"></a><span class="co">#&gt; [39] &quot;RollingStoneCorpus/back_in_black.hum&quot;      </span></span>
<span id="cb3-42"><a href="#cb3-42"></a><span class="co">#&gt; [40] &quot;RollingStoneCorpus/blue_suede_shoes.hum&quot;   </span></span>
<span id="cb3-43"><a href="#cb3-43"></a><span class="co">#&gt; [41] &quot;RollingStoneCorpus/born_to_be_wild.hum&quot;    </span></span>
<span id="cb3-44"><a href="#cb3-44"></a><span class="co">#&gt; [42] &quot;RollingStoneCorpus/god_only_knows.hum&quot;     </span></span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="co">#&gt; [43] &quot;RollingStoneCorpus/hey_jude.hum&quot;           </span></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co">#&gt; [44] &quot;RollingStoneCorpus/i_walk_the_line.hum&quot;    </span></span>
<span id="cb3-47"><a href="#cb3-47"></a><span class="co">#&gt; [45] &quot;RollingStoneCorpus/kashmir.hum&quot;            </span></span>
<span id="cb3-48"><a href="#cb3-48"></a><span class="co">#&gt; [46] &quot;RollingStoneCorpus/layla.hum&quot;              </span></span>
<span id="cb3-49"><a href="#cb3-49"></a><span class="co">#&gt; [47] &quot;RollingStoneCorpus/lets_stay_together.hum&quot; </span></span>
<span id="cb3-50"><a href="#cb3-50"></a><span class="co">#&gt; [48] &quot;RollingStoneCorpus/living_for_the_city.hum&quot;</span></span>
<span id="cb3-51"><a href="#cb3-51"></a><span class="co">#&gt; [49] &quot;RollingStoneCorpus/me_and_bobby_mcgee.hum&quot; </span></span>
<span id="cb3-52"><a href="#cb3-52"></a><span class="co">#&gt; [50] &quot;RollingStoneCorpus/your_song.hum&quot;</span></span></code></pre></div>
<p>As we can see, there are five directories containing a total of fifty files.</p>
</div>
<div id="targeting-files" class="section level2">
<h2>Targeting files</h2>
<p>To use <code>readHumdrum</code> we call the function with one (or more) character-string arguments. (In the function documentation (<code>?readHumdrum</code>), you’ll see these arguments called <code>...</code>—in R, <code>...</code> means <em>any</em> number of arguments.) These arguments are interpreted as <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expressions</a>, and matched against directories and files on your system. We call these “<strong>REpath-patterns</strong>,” short for Regular Expression directory-path patterns. For example,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">library</span>(humdrumR)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">setwd</span>(humdrumRroot)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData/BachChorales/chor.*.krn&#39;</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/BachChorales/chor.*.krn&#39; matches 10 text files in 1 directory.</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; Ten files read from disk. </span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; Validating ten files...all valid.</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; Parsing ten files...Assembling corpus...Done!</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt; ################################################################ chor001.krn</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt;     1:  !!!COM:Bach, Johann Sebastian</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt;     2:  !!!CDT:1685/02/21/-1750/07/28/</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">#&gt;     3:  !!!OTL@@DE:Aus meines Herzens Grunde</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">#&gt;     4:  !!!OTL@EN:      From the Depths of My Heart</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt;     5:  !!!SCT:BWV 269</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">#&gt;     6:  !!!PC#:1</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">#&gt;     7:  !!!AGN:chorale</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">#&gt;     8:          **kern        **kern        **kern        **kern</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">#&gt;     9:          *ICvox        *ICvox        *ICvox        *ICvox</span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">#&gt;    10:          *Ibass       *Itenor        *Ialto       *Isoprn</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">#&gt;    11:         *I&quot;Bass      *I&quot;Tenor       *I&quot;Alto    *I&quot;Soprano</span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co">#&gt;    12:       *&gt;[A,A,B]     *&gt;[A,A,B]     *&gt;[A,A,B]     *&gt;[A,A,B]</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co">#&gt;    13:    *&gt;norep[A,B]  *&gt;norep[A,B]  *&gt;norep[A,B]  *&gt;norep[A,B]</span></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="co">#&gt;    14:             *&gt;A           *&gt;A           *&gt;A           *&gt;A</span></span>
<span id="cb4-25"><a href="#cb4-25"></a><span class="co">#&gt;    15:         *clefF4      *clefGv2       *clefG2       *clefG2</span></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co">#&gt;    16:          *k[f#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co">#&gt;    17:             *G:           *G:           *G:           *G:</span></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="co">#&gt;    18:             *F:             *             *             *</span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="co">#&gt;    19:           *M3/4         *M3/4         *M3/4         *M3/4</span></span>
<span id="cb4-30"><a href="#cb4-30"></a><span class="co">#&gt;    20:          *MM100        *MM100        *MM100        *MM100</span></span>
<span id="cb4-31"><a href="#cb4-31"></a><span class="co">#&gt;    21:             4GG            4B            4d            4g</span></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="co">#&gt;    22:              =1            =1            =1            =1</span></span>
<span id="cb4-33"><a href="#cb4-33"></a><span class="co">#&gt;    23:              4G            4B            4d            2g</span></span>
<span id="cb4-34"><a href="#cb4-34"></a><span class="co">#&gt;    24:              4E           8cL            4e             .</span></span>
<span id="cb4-35"><a href="#cb4-35"></a><span class="co">#&gt;    25:               .           8BJ             .             .</span></span>
<span id="cb4-36"><a href="#cb4-36"></a><span class="co">#&gt;    26:             4F#            4A            4d           4dd</span></span>
<span id="cb4-37"><a href="#cb4-37"></a><span class="co">#&gt;    27:              =2            =2            =2            =2</span></span>
<span id="cb4-38"><a href="#cb4-38"></a><span class="co">#&gt;    28:              4G            4G            2d           4.b</span></span>
<span id="cb4-39"><a href="#cb4-39"></a><span class="co">#&gt;    29:              4D           4F#             .             .</span></span>
<span id="cb4-40"><a href="#cb4-40"></a><span class="co">#&gt;    30:               .             .             .            8a</span></span>
<span id="cb4-41"><a href="#cb4-41"></a><span class="co">#&gt;    31:              4E            4G            4B            4g</span></span>
<span id="cb4-42"><a href="#cb4-42"></a><span class="co">#&gt;    32:              =3            =3            =3            =3</span></span>
<span id="cb4-43"><a href="#cb4-43"></a><span class="co">#&gt;    33:              4C           8cL           8eL           4.g</span></span>
<span id="cb4-44"><a href="#cb4-44"></a><span class="co">#&gt;    34:               .           8BJ            8d             .</span></span>
<span id="cb4-45"><a href="#cb4-45"></a><span class="co">#&gt;    35:            8BBL            4c            8e             .</span></span>
<span id="cb4-46"><a href="#cb4-46"></a><span class="co">#&gt;    36:            8AAJ             .          8f#J            8a</span></span>
<span id="cb4-47"><a href="#cb4-47"></a><span class="co">#&gt;    37:             4GG            4d            4g            4b</span></span>
<span id="cb4-48"><a href="#cb4-48"></a><span class="co">#&gt;    38:              =4            =4            =4            =4</span></span>
<span id="cb4-49"><a href="#cb4-49"></a><span class="co">#&gt;    39:             2D;           2d;          2f#;           2a;</span></span>
<span id="cb4-50"><a href="#cb4-50"></a><span class="co">#&gt;    40:             4GG            4d            4g            4b</span></span>
<span id="cb4-51"><a href="#cb4-51"></a><span class="co">#&gt; [41-134]........................................................</span></span>
<span id="cb4-52"><a href="#cb4-52"></a><span class="co">#&gt; ################################################################</span></span>
<span id="cb4-53"><a href="#cb4-53"></a><span class="co">#&gt; </span></span>
<span id="cb4-54"><a href="#cb4-54"></a><span class="co">#&gt;      (8 more files...)</span></span>
<span id="cb4-55"><a href="#cb4-55"></a><span class="co">#&gt; </span></span>
<span id="cb4-56"><a href="#cb4-56"></a><span class="co">#&gt; ################################################################ chor010.krn</span></span>
<span id="cb4-57"><a href="#cb4-57"></a><span class="co">#&gt; [1-60]..........................................................</span></span>
<span id="cb4-58"><a href="#cb4-58"></a><span class="co">#&gt;    61:            2AA;           2c;           2e;           2a;</span></span>
<span id="cb4-59"><a href="#cb4-59"></a><span class="co">#&gt;    62:              2A            2e            2a           2cc</span></span>
<span id="cb4-60"><a href="#cb4-60"></a><span class="co">#&gt;    63:              =9            =9            =9            =9</span></span>
<span id="cb4-61"><a href="#cb4-61"></a><span class="co">#&gt;    64:              4E            4e            4g            4b</span></span>
<span id="cb4-62"><a href="#cb4-62"></a><span class="co">#&gt;    65:             8DL            4e            4g           4cc</span></span>
<span id="cb4-63"><a href="#cb4-63"></a><span class="co">#&gt;    66:             8CJ             .             .             .</span></span>
<span id="cb4-64"><a href="#cb4-64"></a><span class="co">#&gt;    67:             4BB            4d           8gL           4dd</span></span>
<span id="cb4-65"><a href="#cb4-65"></a><span class="co">#&gt;    68:               .             .           8fJ             .</span></span>
<span id="cb4-66"><a href="#cb4-66"></a><span class="co">#&gt;    69:              4C            4c            4e            4g</span></span>
<span id="cb4-67"><a href="#cb4-67"></a><span class="co">#&gt;    70:             =10           =10           =10           =10</span></span>
<span id="cb4-68"><a href="#cb4-68"></a><span class="co">#&gt;    71:              4D           8F#            4d            4b</span></span>
<span id="cb4-69"><a href="#cb4-69"></a><span class="co">#&gt;    72:               .            4G             .             .</span></span>
<span id="cb4-70"><a href="#cb4-70"></a><span class="co">#&gt;    73:              4D             .            4c            4a</span></span>
<span id="cb4-71"><a href="#cb4-71"></a><span class="co">#&gt;    74:               .           8F#             .             .</span></span>
<span id="cb4-72"><a href="#cb4-72"></a><span class="co">#&gt;    75:            2GG;           2G;           2B;           2g;</span></span>
<span id="cb4-73"><a href="#cb4-73"></a><span class="co">#&gt;    76:             =11           =11           =11           =11</span></span>
<span id="cb4-74"><a href="#cb4-74"></a><span class="co">#&gt;    77:              2C            2G            2e            2g</span></span>
<span id="cb4-75"><a href="#cb4-75"></a><span class="co">#&gt;    78:             4AA            4A            4e           4cc</span></span>
<span id="cb4-76"><a href="#cb4-76"></a><span class="co">#&gt;    79:              4E           4G#           8eL            4b</span></span>
<span id="cb4-77"><a href="#cb4-77"></a><span class="co">#&gt;    80:               .             .           8dJ             .</span></span>
<span id="cb4-78"><a href="#cb4-78"></a><span class="co">#&gt;    81:             =12           =12           =12           =12</span></span>
<span id="cb4-79"><a href="#cb4-79"></a><span class="co">#&gt;    82:              4F            4A            4c            4a</span></span>
<span id="cb4-80"><a href="#cb4-80"></a><span class="co">#&gt;    83:              4C            4G            4c            4e</span></span>
<span id="cb4-81"><a href="#cb4-81"></a><span class="co">#&gt;    84:            4BB-            4G           [2d            4g</span></span>
<span id="cb4-82"><a href="#cb4-82"></a><span class="co">#&gt;    85:             4AA            4A             .            4f</span></span>
<span id="cb4-83"><a href="#cb4-83"></a><span class="co">#&gt;    86:             =13           =13           =13           =13</span></span>
<span id="cb4-84"><a href="#cb4-84"></a><span class="co">#&gt;    87:            4GG#            4B           4d]           1e;</span></span>
<span id="cb4-85"><a href="#cb4-85"></a><span class="co">#&gt;    88:             4AA            4A            4c             .</span></span>
<span id="cb4-86"><a href="#cb4-86"></a><span class="co">#&gt;    89:            2EE;         2G#X;           2B;             .</span></span>
<span id="cb4-87"><a href="#cb4-87"></a><span class="co">#&gt;    90:              ==            ==            ==            ==</span></span>
<span id="cb4-88"><a href="#cb4-88"></a><span class="co">#&gt;    91:              *-            *-            *-            *-</span></span>
<span id="cb4-89"><a href="#cb4-89"></a><span class="co">#&gt;    92:  !!!hum2abc: -Q &#39;&#39;</span></span>
<span id="cb4-90"><a href="#cb4-90"></a><span class="co">#&gt;    93:  !!!title: @{PC#}. @{OTL@@DE}</span></span>
<span id="cb4-91"><a href="#cb4-91"></a><span class="co">#&gt;    94:  !!!YOR1: 371 vierstimmige Choralges&amp;auml;nge von Johann Sebastian Bach, </span></span>
<span id="cb4-92"><a href="#cb4-92"></a><span class="co">#&gt;    95:  !!!YOR2: 4th ed. by Alfred D&amp;ouml;rffel (Leipzig: Breitkopf und H&amp;auml;rtel, </span></span>
<span id="cb4-93"><a href="#cb4-93"></a><span class="co">#&gt;    96:  !!!YOR2: c.1875). 178 pp. Plate &quot;V.A.10&quot;.  reprint: J.S. Bach, 371 Four-Part </span></span>
<span id="cb4-94"><a href="#cb4-94"></a><span class="co">#&gt;    97:  !!!YOR4: Chorales (New York: Associated Music Publishers, Inc., c.1940).</span></span>
<span id="cb4-95"><a href="#cb4-95"></a><span class="co">#&gt;    98:  !!!SMS: B&amp;H, 4th ed, Alfred D&amp;ouml;rffel, c.1875, plate V.A.10</span></span>
<span id="cb4-96"><a href="#cb4-96"></a><span class="co">#&gt;    99:  !!!EED:  Craig Stuart Sapp</span></span>
<span id="cb4-97"><a href="#cb4-97"></a><span class="co">#&gt;   100:  !!!EEV:  2009/05/22</span></span>
<span id="cb4-98"><a href="#cb4-98"></a><span class="co">#&gt; </span></span>
<span id="cb4-99"><a href="#cb4-99"></a><span class="co">#&gt;  humdrumR corpus of ten files.</span></span>
<span id="cb4-100"><a href="#cb4-100"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb4-101"><a href="#cb4-101"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<p>uses the REpath-pattern <code>&quot;HumdrumData/BachChorales/chor.*.krn&quot;</code> to match all files in the ‘HumdrumData/BachChorales’ directory whose name matches the regular expression “chor.<em>.krn.&quot; As you can see, the REpath-pattern includes directory (folder) paths (relative or absolute)—using your operating system’s appopriate delimeter (&quot;&quot; for windows, &quot;/&quot; for everybody else)—</em>and* a pattern for matching file paths. <em>Each</em> directory is also treated as a regular expression, possibly matching multiple directories. Let’s break this down: <code>humdrumR</code> splits your REpath-pattern input string into three parts: <code>&quot;HumdrumData&quot;</code>, <code>&quot;BachChorales&quot;</code>, <em>and</em> <code>&quot;chor.*.krn&quot;</code>, and treats <em>each</em> of the three as regular expressions. The the first two expressions are used to match directories, while the last expression is used to match files. So, while <code>readHumdrum(&#39;HumdrumData/BeethovenVariations/.*.krn&#39;)</code> matches all the files with the”.krn&quot; extension in the “BeethovenVariations” directories and <code>readHumdrum(&#39;HumdrumData/MozartVariations/.*.krn&#39;)</code> matches all the files in the “MozartVariations” directories, the command <code>readHumdrum(&#39;HumdrumData/.*Variations/.*.krn&#39;)</code> will match all kern files in both directories!</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData/.*Variations/.*.krn&#39;</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/.*Variations/.*.krn&#39; matches 20 text files in 2 directories.</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; Twenty files read from disk. </span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; Validating twenty files...all valid.</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; Parsing twenty files...Assembling corpus...Done!</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; ########################################################## B075_00_01_a.krn</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt;    1:  !!!COM: Beethoven</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt;    2:  !!!OTL: 7 Variations on a Quartet by Winter</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt;    3:  !!!Variation: Theme a</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt;    4:    **function  **harm      **kern             **kern</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt;    5:             *       *     *clefG2            *clefG2</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt;    6:             *       *      *k[b-]             *k[b-]</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt;    7:         *M2/4   *M2/4       *M2/4              *M2/4</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt;    8:           *F:     *F:         *F:                *F:</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">#&gt;    9:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">#&gt;   10:            =1      =1          =1                 =1</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">#&gt;   11:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">#&gt;   12:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">#&gt;   13:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="co">#&gt;   14:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="co">#&gt;   15:            =2      =2          =2                 =2</span></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="co">#&gt;   16:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="co">#&gt;   17:            4T      4I         4f)           4ff) 4aa</span></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="co">#&gt;   18:            =3      =3          =3                 =3</span></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="co">#&gt;   19:            2T      2V          4c         8ee&#39;L 8gg&#39;</span></span>
<span id="cb5-27"><a href="#cb5-27"></a><span class="co">#&gt;   20:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb5-28"><a href="#cb5-28"></a><span class="co">#&gt;   21:             .       .          4c         8cc&#39;L 8ee&#39;</span></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="co">#&gt;   22:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co">#&gt;   23:            =4      =4          =4                 =4</span></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="co">#&gt;   24:            4T      4V          8c            8ee 8gg</span></span>
<span id="cb5-32"><a href="#cb5-32"></a><span class="co">#&gt;   25:             .       .          8r                 8r</span></span>
<span id="cb5-33"><a href="#cb5-33"></a><span class="co">#&gt;   26:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb5-34"><a href="#cb5-34"></a><span class="co">#&gt;   27:            =5      =5          =5                 =5</span></span>
<span id="cb5-35"><a href="#cb5-35"></a><span class="co">#&gt;   28:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb5-36"><a href="#cb5-36"></a><span class="co">#&gt;   29:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb5-37"><a href="#cb5-37"></a><span class="co">#&gt;   30:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb5-38"><a href="#cb5-38"></a><span class="co">#&gt;   31:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb5-39"><a href="#cb5-39"></a><span class="co">#&gt;   32:            =6      =6          =6                 =6</span></span>
<span id="cb5-40"><a href="#cb5-40"></a><span class="co">#&gt;   33:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb5-41"><a href="#cb5-41"></a><span class="co">#&gt;   34:            4T      4I      4f) 4a           4ff) 4aa</span></span>
<span id="cb5-42"><a href="#cb5-42"></a><span class="co">#&gt;   35:            =7      =7          =7                 =7</span></span>
<span id="cb5-43"><a href="#cb5-43"></a><span class="co">#&gt;   36:            4P    4iib        8B-L           8ddL 8gg</span></span>
<span id="cb5-44"><a href="#cb5-44"></a><span class="co">#&gt;   37:             .       .        8B-J           8ddJ 8gg</span></span>
<span id="cb5-45"><a href="#cb5-45"></a><span class="co">#&gt;   38:            4D     4V7         8cL          (8b-L 8ee</span></span>
<span id="cb5-46"><a href="#cb5-46"></a><span class="co">#&gt;   39:             .       .         8cJ         16b-L 16dd</span></span>
<span id="cb5-47"><a href="#cb5-47"></a><span class="co">#&gt;   40:             .       .           .            16eeJJ)</span></span>
<span id="cb5-48"><a href="#cb5-48"></a><span class="co">#&gt; [41-45]...................................................</span></span>
<span id="cb5-49"><a href="#cb5-49"></a><span class="co">#&gt; ##########################################################</span></span>
<span id="cb5-50"><a href="#cb5-50"></a><span class="co">#&gt; </span></span>
<span id="cb5-51"><a href="#cb5-51"></a><span class="co">#&gt;      (18 more files...)</span></span>
<span id="cb5-52"><a href="#cb5-52"></a><span class="co">#&gt; </span></span>
<span id="cb5-53"><a href="#cb5-53"></a><span class="co">#&gt; ########################################################## M354_01_04d_a.krn</span></span>
<span id="cb5-54"><a href="#cb5-54"></a><span class="co">#&gt; [1-14]....................................................</span></span>
<span id="cb5-55"><a href="#cb5-55"></a><span class="co">#&gt;   15:             .       .           .     .      (16ccLL</span></span>
<span id="cb5-56"><a href="#cb5-56"></a><span class="co">#&gt;   16:             .       .           .     .         16b-</span></span>
<span id="cb5-57"><a href="#cb5-57"></a><span class="co">#&gt;   17:             .       .          8f     .          16a</span></span>
<span id="cb5-58"><a href="#cb5-58"></a><span class="co">#&gt;   18:             .       .           .     .      16b-JJ)</span></span>
<span id="cb5-59"><a href="#cb5-59"></a><span class="co">#&gt;   19:           =41     =41         =41   =41          =41</span></span>
<span id="cb5-60"><a href="#cb5-60"></a><span class="co">#&gt;   20:            2D    2V7d          8r   2A-     (16ee-LL</span></span>
<span id="cb5-61"><a href="#cb5-61"></a><span class="co">#&gt;   21:             .       .           .     .         16dd</span></span>
<span id="cb5-62"><a href="#cb5-62"></a><span class="co">#&gt;   22:             .       .      4B- 4f     .        16cc#</span></span>
<span id="cb5-63"><a href="#cb5-63"></a><span class="co">#&gt;   23:             .       .           .     .      16ddJJ)</span></span>
<span id="cb5-64"><a href="#cb5-64"></a><span class="co">#&gt;   24:             .       .           .     .      (16ccLL</span></span>
<span id="cb5-65"><a href="#cb5-65"></a><span class="co">#&gt;   25:             .       .           .     .         16b-</span></span>
<span id="cb5-66"><a href="#cb5-66"></a><span class="co">#&gt;   26:             .       .      8B- 8f     .          16a</span></span>
<span id="cb5-67"><a href="#cb5-67"></a><span class="co">#&gt;   27:             .       .           .     .      16b-JJ)</span></span>
<span id="cb5-68"><a href="#cb5-68"></a><span class="co">#&gt;   28:             *       *          *v    *v            *</span></span>
<span id="cb5-69"><a href="#cb5-69"></a><span class="co">#&gt;   29:           =42     =42         =42                =42</span></span>
<span id="cb5-70"><a href="#cb5-70"></a><span class="co">#&gt;   30:             *       *     *clefF4                  *</span></span>
<span id="cb5-71"><a href="#cb5-71"></a><span class="co">#&gt;   31:            4T     4Ib          8r           (16ee-LL</span></span>
<span id="cb5-72"><a href="#cb5-72"></a><span class="co">#&gt;   32:             .       .           .               16ff</span></span>
<span id="cb5-73"><a href="#cb5-73"></a><span class="co">#&gt;   33:             .       .      8G 8e-              16gg)</span></span>
<span id="cb5-74"><a href="#cb5-74"></a><span class="co">#&gt;   34:             .       .           .             16b&#39;JJ</span></span>
<span id="cb5-75"><a href="#cb5-75"></a><span class="co">#&gt;   35:            4P     4IV          8r            (16ccLL</span></span>
<span id="cb5-76"><a href="#cb5-76"></a><span class="co">#&gt;   36:             .       .           .               16dd</span></span>
<span id="cb5-77"><a href="#cb5-77"></a><span class="co">#&gt;   37:             .       .     8A- 8e-             16ee-)</span></span>
<span id="cb5-78"><a href="#cb5-78"></a><span class="co">#&gt;   38:             .       .           .            16a-&#39;JJ</span></span>
<span id="cb5-79"><a href="#cb5-79"></a><span class="co">#&gt;   39:           =43     =43         =43                =43</span></span>
<span id="cb5-80"><a href="#cb5-80"></a><span class="co">#&gt;   40:             *       *          *^                  *</span></span>
<span id="cb5-81"><a href="#cb5-81"></a><span class="co">#&gt;   41:            4D     4Cc          8r  2BB-       (16gLL</span></span>
<span id="cb5-82"><a href="#cb5-82"></a><span class="co">#&gt;   42:             .       .           .     .         16a-</span></span>
<span id="cb5-83"><a href="#cb5-83"></a><span class="co">#&gt;   43:             .       .         (8G     .        16b-)</span></span>
<span id="cb5-84"><a href="#cb5-84"></a><span class="co">#&gt;   44:             .       .           .     .       16e&#39;JJ</span></span>
<span id="cb5-85"><a href="#cb5-85"></a><span class="co">#&gt;   45:            4D     4V7        8A-L     .       (16fLL</span></span>
<span id="cb5-86"><a href="#cb5-86"></a><span class="co">#&gt;   46:             .       .           .     .          16g</span></span>
<span id="cb5-87"><a href="#cb5-87"></a><span class="co">#&gt;   47:             .       .        8FJ)     .        16a-)</span></span>
<span id="cb5-88"><a href="#cb5-88"></a><span class="co">#&gt;   48:             .       .           .     .       16d&#39;JJ</span></span>
<span id="cb5-89"><a href="#cb5-89"></a><span class="co">#&gt;   49:             *       *          *v    *v            *</span></span>
<span id="cb5-90"><a href="#cb5-90"></a><span class="co">#&gt;   50:           =44     =44         =44                =44</span></span>
<span id="cb5-91"><a href="#cb5-91"></a><span class="co">#&gt;   51:            2T      2I        8E-L                4e-</span></span>
<span id="cb5-92"><a href="#cb5-92"></a><span class="co">#&gt;   52:             .       .       8BB-J                  .</span></span>
<span id="cb5-93"><a href="#cb5-93"></a><span class="co">#&gt;   53:             .       .        4EE-                 4r</span></span>
<span id="cb5-94"><a href="#cb5-94"></a><span class="co">#&gt;   54:            *-      *-          *-    *-             </span></span>
<span id="cb5-95"><a href="#cb5-95"></a><span class="co">#&gt; </span></span>
<span id="cb5-96"><a href="#cb5-96"></a><span class="co">#&gt;  humdrumR corpus of twenty files.</span></span>
<span id="cb5-97"><a href="#cb5-97"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb5-98"><a href="#cb5-98"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<blockquote>
<p>Be careful: since each directory/file name is always treated like a regular expression, we can sometimes specify something that is more general than we intend. For instance, the command <code>readHumdrum(&#39;MyFolder/.*&#39;)</code> will match files in a folder called “MyFolder,” but would also match folders names “MyFolder_Also”, or “ThisIsMyFolder.” If you want to be sure to match exactly one and only one directory/file, use “^” and “$” regular-expression markers to explicitely mark the beginning and end of your pattern: the command <code>readHumdrum(&#39;^MyFolder$/.*&#39;)</code> will only read files from one directory “MyFolder.”</p>
</blockquote>
<p>To read <em>all</em> of our test files we can enter:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData/.*/.*&#39;</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/.*/.*&#39; matches 50 text files in 5 directories.</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; Fifty files read from disk. </span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; Validating fifty files...fifteen errors in eight files...forty-two valid files.</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt; Parsing forty-two files...Assembling corpus...Done!</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; ################################################################## chor001.krn</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt;       1:  !!!COM:Bach, Johann Sebastian</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt;       2:  !!!CDT:1685/02/21/-1750/07/28/</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt;       3:  !!!OTL@@DE:Aus meines Herzens Grunde</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt;       4:  !!!OTL@EN:      From the Depths of My Heart</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt;       5:  !!!SCT:BWV 269</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">#&gt;       6:  !!!PC#:1</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">#&gt;       7:  !!!AGN:chorale</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">#&gt;       8:          **kern        **kern        **kern        **kern</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">#&gt;       9:          *ICvox        *ICvox        *ICvox        *ICvox</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">#&gt;      10:          *Ibass       *Itenor        *Ialto       *Isoprn</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">#&gt;      11:         *I&quot;Bass      *I&quot;Tenor       *I&quot;Alto    *I&quot;Soprano</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">#&gt;      12:       *&gt;[A,A,B]     *&gt;[A,A,B]     *&gt;[A,A,B]     *&gt;[A,A,B]</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">#&gt;      13:    *&gt;norep[A,B]  *&gt;norep[A,B]  *&gt;norep[A,B]  *&gt;norep[A,B]</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">#&gt;      14:             *&gt;A           *&gt;A           *&gt;A           *&gt;A</span></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co">#&gt;      15:         *clefF4      *clefGv2       *clefG2       *clefG2</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="co">#&gt;      16:          *k[f#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="co">#&gt;      17:             *G:           *G:           *G:           *G:</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">#&gt;      18:             *F:             *             *             *</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="co">#&gt;      19:           *M3/4         *M3/4         *M3/4         *M3/4</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="co">#&gt;      20:          *MM100        *MM100        *MM100        *MM100</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="co">#&gt;      21:             4GG            4B            4d            4g</span></span>
<span id="cb6-30"><a href="#cb6-30"></a><span class="co">#&gt;      22:              =1            =1            =1            =1</span></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">#&gt;      23:              4G            4B            4d            2g</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co">#&gt;      24:              4E           8cL            4e             .</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="co">#&gt;      25:               .           8BJ             .             .</span></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="co">#&gt;      26:             4F#            4A            4d           4dd</span></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="co">#&gt;      27:              =2            =2            =2            =2</span></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="co">#&gt;      28:              4G            4G            2d           4.b</span></span>
<span id="cb6-37"><a href="#cb6-37"></a><span class="co">#&gt;      29:              4D           4F#             .             .</span></span>
<span id="cb6-38"><a href="#cb6-38"></a><span class="co">#&gt;      30:               .             .             .            8a</span></span>
<span id="cb6-39"><a href="#cb6-39"></a><span class="co">#&gt;      31:              4E            4G            4B            4g</span></span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="co">#&gt;      32:              =3            =3            =3            =3</span></span>
<span id="cb6-41"><a href="#cb6-41"></a><span class="co">#&gt;      33:              4C           8cL           8eL           4.g</span></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="co">#&gt;      34:               .           8BJ            8d             .</span></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="co">#&gt;      35:            8BBL            4c            8e             .</span></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="co">#&gt;      36:            8AAJ             .          8f#J            8a</span></span>
<span id="cb6-45"><a href="#cb6-45"></a><span class="co">#&gt;      37:             4GG            4d            4g            4b</span></span>
<span id="cb6-46"><a href="#cb6-46"></a><span class="co">#&gt;      38:              =4            =4            =4            =4</span></span>
<span id="cb6-47"><a href="#cb6-47"></a><span class="co">#&gt;      39:             2D;           2d;          2f#;           2a;</span></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="co">#&gt;      40:             4GG            4d            4g            4b</span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="co">#&gt; [41-134]..........................................................</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="co">#&gt; ##################################################################</span></span>
<span id="cb6-51"><a href="#cb6-51"></a><span class="co">#&gt; </span></span>
<span id="cb6-52"><a href="#cb6-52"></a><span class="co">#&gt;      (40 more files...)</span></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="co">#&gt; </span></span>
<span id="cb6-54"><a href="#cb6-54"></a><span class="co">#&gt; ################################################################## your_song.hum</span></span>
<span id="cb6-55"><a href="#cb6-55"></a><span class="co">#&gt; [1-1,194].........................................................</span></span>
<span id="cb6-56"><a href="#cb6-56"></a><span class="co">#&gt;   1,195:               .             .             3             .</span></span>
<span id="cb6-57"><a href="#cb6-57"></a><span class="co">#&gt;   1,196:               .             .             .             .</span></span>
<span id="cb6-58"><a href="#cb6-58"></a><span class="co">#&gt;   1,197:               .             .             2             .</span></span>
<span id="cb6-59"><a href="#cb6-59"></a><span class="co">#&gt;   1,198:               .             .             1             .</span></span>
<span id="cb6-60"><a href="#cb6-60"></a><span class="co">#&gt;   1,199:               .             .             .             .</span></span>
<span id="cb6-61"><a href="#cb6-61"></a><span class="co">#&gt;   1,200:            =119          =119          =119          =119</span></span>
<span id="cb6-62"><a href="#cb6-62"></a><span class="co">#&gt;   1,201:            ii65            IV             2       222.340</span></span>
<span id="cb6-63"><a href="#cb6-63"></a><span class="co">#&gt;   1,202:               .             .             .             .</span></span>
<span id="cb6-64"><a href="#cb6-64"></a><span class="co">#&gt;   1,203:               .             .             .             .</span></span>
<span id="cb6-65"><a href="#cb6-65"></a><span class="co">#&gt;   1,204:               .             .             6             .</span></span>
<span id="cb6-66"><a href="#cb6-66"></a><span class="co">#&gt;   1,205:               .             .             .             .</span></span>
<span id="cb6-67"><a href="#cb6-67"></a><span class="co">#&gt;   1,206:               .             .             .             .</span></span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="co">#&gt;   1,207:               .             .             .             .</span></span>
<span id="cb6-69"><a href="#cb6-69"></a><span class="co">#&gt;   1,208:               .             .             6             .</span></span>
<span id="cb6-70"><a href="#cb6-70"></a><span class="co">#&gt;   1,209:            =120          =120          =120          =120</span></span>
<span id="cb6-71"><a href="#cb6-71"></a><span class="co">#&gt;   1,210:               .             .            b3       224.253</span></span>
<span id="cb6-72"><a href="#cb6-72"></a><span class="co">#&gt;   1,211:               .             .             2             .</span></span>
<span id="cb6-73"><a href="#cb6-73"></a><span class="co">#&gt;   1,212:               .             .             .             .</span></span>
<span id="cb6-74"><a href="#cb6-74"></a><span class="co">#&gt;   1,213:               .             .             1             .</span></span>
<span id="cb6-75"><a href="#cb6-75"></a><span class="co">#&gt;   1,214:               .             .             .             .</span></span>
<span id="cb6-76"><a href="#cb6-76"></a><span class="co">#&gt;   1,215:               .             .             1             .</span></span>
<span id="cb6-77"><a href="#cb6-77"></a><span class="co">#&gt;   1,216:               .             .             1             .</span></span>
<span id="cb6-78"><a href="#cb6-78"></a><span class="co">#&gt;   1,217:               .             .             .             .</span></span>
<span id="cb6-79"><a href="#cb6-79"></a><span class="co">#&gt;   1,218:            =121          =121          =121          =121</span></span>
<span id="cb6-80"><a href="#cb6-80"></a><span class="co">#&gt;   1,219:            *tb1          *tb1          *tb1             *</span></span>
<span id="cb6-81"><a href="#cb6-81"></a><span class="co">#&gt;   1,220:               I             I             .       226.135</span></span>
<span id="cb6-82"><a href="#cb6-82"></a><span class="co">#&gt;   1,221:            =122          =122          =122          =122</span></span>
<span id="cb6-83"><a href="#cb6-83"></a><span class="co">#&gt;   1,222:              IV          IV64             .       228.013</span></span>
<span id="cb6-84"><a href="#cb6-84"></a><span class="co">#&gt;   1,223:            =123          =123          =123          =123</span></span>
<span id="cb6-85"><a href="#cb6-85"></a><span class="co">#&gt;   1,224:               V           Vs4             .       229.838</span></span>
<span id="cb6-86"><a href="#cb6-86"></a><span class="co">#&gt;   1,225:            =124          =124          =124          =124</span></span>
<span id="cb6-87"><a href="#cb6-87"></a><span class="co">#&gt;   1,226:              IV          IV64             .       231.691</span></span>
<span id="cb6-88"><a href="#cb6-88"></a><span class="co">#&gt;   1,227:            =125          =125          =125          =125</span></span>
<span id="cb6-89"><a href="#cb6-89"></a><span class="co">#&gt;   1,228:               I             I             .       233.583</span></span>
<span id="cb6-90"><a href="#cb6-90"></a><span class="co">#&gt;   1,229:              *-            *-            *-            *-</span></span>
<span id="cb6-91"><a href="#cb6-91"></a><span class="co">#&gt;   1,230:  !!!ONB: Translated from original encodings in the Rolling Stone Corpus (rockcorpus.midside.com), May 2019</span></span>
<span id="cb6-92"><a href="#cb6-92"></a><span class="co">#&gt;   1,231:  !!!ONB: Original transcribers noted in comments in each spine: !D.T. = David Temperley; !T.d.C. = Trevor de Clercq</span></span>
<span id="cb6-93"><a href="#cb6-93"></a><span class="co">#&gt;   1,232:  !!!YOE: David Temperley, Trevor de Clercq</span></span>
<span id="cb6-94"><a href="#cb6-94"></a><span class="co">#&gt;   1,233:  !!!EED: Nathaniel Condit-Schultz (fathermckenzie.net)</span></span>
<span id="cb6-95"><a href="#cb6-95"></a><span class="co">#&gt;   1,234:  !!!ENC: Nathaniel Condit-Schultz (fathermckenzie.net), automated</span></span>
<span id="cb6-96"><a href="#cb6-96"></a><span class="co">#&gt; </span></span>
<span id="cb6-97"><a href="#cb6-97"></a><span class="co">#&gt;  humdrumR corpus of forty-two files.</span></span>
<span id="cb6-98"><a href="#cb6-98"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb6-99"><a href="#cb6-99"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<blockquote>
<p>Note: Since humdrumR can read files from multiple directories at once, it is possible that two or more files with the same file name, but in different directories are matched. If this happens, humdrumR identifies each file with enough of it’s directory path to make sure they are all unique.</p>
</blockquote>
<hr />
<div id="multi-argument-approach" class="section level3">
<h3>Multi-Argument Approach</h3>
<p>Earlier we mentioned that we can have one <em>or more</em> of these RE-path patterns. Why more than one? Well, we can divided our RE-path patterns across multiple arguments (from left to right): Instead of writing <code>readHumdrum(&quot;HumdrumData/BachChorales/chor.*.krn&quot;)</code>, we can write <code>readHumdrum(&quot;HumdrumData&quot;, &quot;BachChorales&quot;, &quot;chor.*.krn&quot;)</code>. Thus these two approaches</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">readHumdrum</span>(<span class="st">&quot;HumdrumData/BachChorales/chor.*.krn&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="kw">readHumdrum</span>(<span class="st">&quot;HumdrumData&quot;</span>, <span class="st">&quot;BachChorales&quot;</span>, <span class="st">&quot;chor.*.krn&quot;</span>)</span></code></pre></div>
<p>are identical. What’s the advantage of this approach? We’ll see in the next section.</p>
</div>
<div id="multiple-patterns" class="section level3">
<h3>Multiple Patterns</h3>
<p>Sometimes, expressing all the files you want in a single regular expression is not possible. Luckily, <code>readHumdrum</code> can accept as many separate patterns you want, just group them into a vector. Instead of writing <code>readHumdrum(&#39;HumdrumData/.*Variations/.*.krn&#39;)</code>, you could be explicit and write</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">readHumdrum</span>(<span class="kw">c</span>(<span class="st">&#39;HumdrumData/BeethovenVariations/.*.krn&#39;</span>, <span class="st">&#39;HumdrumData/MozartVariations/.*.krn&#39;</span>))</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/BeethovenVariations/.*.krn&#39; matches 12 text files in 1 directory.</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/MozartVariations/.*.krn&#39; matches 8 text files in 1 directory.</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">#&gt; Twenty files read from disk. </span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt; Validating twenty files...all valid.</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; Parsing twenty files...Assembling corpus...Done!</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; ########################################################## B075_00_01_a.krn</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt;    1:  !!!COM: Beethoven</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt;    2:  !!!OTL: 7 Variations on a Quartet by Winter</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt;    3:  !!!Variation: Theme a</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt;    4:    **function  **harm      **kern             **kern</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt;    5:             *       *     *clefG2            *clefG2</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt;    6:             *       *      *k[b-]             *k[b-]</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt;    7:         *M2/4   *M2/4       *M2/4              *M2/4</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt;    8:           *F:     *F:         *F:                *F:</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt;    9:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt;   10:            =1      =1          =1                 =1</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt;   11:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">#&gt;   12:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt;   13:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">#&gt;   14:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt;   15:            =2      =2          =2                 =2</span></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">#&gt;   16:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co">#&gt;   17:            4T      4I         4f)           4ff) 4aa</span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">#&gt;   18:            =3      =3          =3                 =3</span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co">#&gt;   19:            2T      2V          4c         8ee&#39;L 8gg&#39;</span></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="co">#&gt;   20:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="co">#&gt;   21:             .       .          4c         8cc&#39;L 8ee&#39;</span></span>
<span id="cb8-30"><a href="#cb8-30"></a><span class="co">#&gt;   22:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="co">#&gt;   23:            =4      =4          =4                 =4</span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">#&gt;   24:            4T      4V          8c            8ee 8gg</span></span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co">#&gt;   25:             .       .          8r                 8r</span></span>
<span id="cb8-34"><a href="#cb8-34"></a><span class="co">#&gt;   26:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb8-35"><a href="#cb8-35"></a><span class="co">#&gt;   27:            =5      =5          =5                 =5</span></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="co">#&gt;   28:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="co">#&gt;   29:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb8-38"><a href="#cb8-38"></a><span class="co">#&gt;   30:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb8-39"><a href="#cb8-39"></a><span class="co">#&gt;   31:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb8-40"><a href="#cb8-40"></a><span class="co">#&gt;   32:            =6      =6          =6                 =6</span></span>
<span id="cb8-41"><a href="#cb8-41"></a><span class="co">#&gt;   33:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb8-42"><a href="#cb8-42"></a><span class="co">#&gt;   34:            4T      4I      4f) 4a           4ff) 4aa</span></span>
<span id="cb8-43"><a href="#cb8-43"></a><span class="co">#&gt;   35:            =7      =7          =7                 =7</span></span>
<span id="cb8-44"><a href="#cb8-44"></a><span class="co">#&gt;   36:            4P    4iib        8B-L           8ddL 8gg</span></span>
<span id="cb8-45"><a href="#cb8-45"></a><span class="co">#&gt;   37:             .       .        8B-J           8ddJ 8gg</span></span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="co">#&gt;   38:            4D     4V7         8cL          (8b-L 8ee</span></span>
<span id="cb8-47"><a href="#cb8-47"></a><span class="co">#&gt;   39:             .       .         8cJ         16b-L 16dd</span></span>
<span id="cb8-48"><a href="#cb8-48"></a><span class="co">#&gt;   40:             .       .           .            16eeJJ)</span></span>
<span id="cb8-49"><a href="#cb8-49"></a><span class="co">#&gt; [41-45]...................................................</span></span>
<span id="cb8-50"><a href="#cb8-50"></a><span class="co">#&gt; ##########################################################</span></span>
<span id="cb8-51"><a href="#cb8-51"></a><span class="co">#&gt; </span></span>
<span id="cb8-52"><a href="#cb8-52"></a><span class="co">#&gt;      (18 more files...)</span></span>
<span id="cb8-53"><a href="#cb8-53"></a><span class="co">#&gt; </span></span>
<span id="cb8-54"><a href="#cb8-54"></a><span class="co">#&gt; ########################################################## M354_01_04d_a.krn</span></span>
<span id="cb8-55"><a href="#cb8-55"></a><span class="co">#&gt; [1-14]....................................................</span></span>
<span id="cb8-56"><a href="#cb8-56"></a><span class="co">#&gt;   15:             .       .           .     .      (16ccLL</span></span>
<span id="cb8-57"><a href="#cb8-57"></a><span class="co">#&gt;   16:             .       .           .     .         16b-</span></span>
<span id="cb8-58"><a href="#cb8-58"></a><span class="co">#&gt;   17:             .       .          8f     .          16a</span></span>
<span id="cb8-59"><a href="#cb8-59"></a><span class="co">#&gt;   18:             .       .           .     .      16b-JJ)</span></span>
<span id="cb8-60"><a href="#cb8-60"></a><span class="co">#&gt;   19:           =41     =41         =41   =41          =41</span></span>
<span id="cb8-61"><a href="#cb8-61"></a><span class="co">#&gt;   20:            2D    2V7d          8r   2A-     (16ee-LL</span></span>
<span id="cb8-62"><a href="#cb8-62"></a><span class="co">#&gt;   21:             .       .           .     .         16dd</span></span>
<span id="cb8-63"><a href="#cb8-63"></a><span class="co">#&gt;   22:             .       .      4B- 4f     .        16cc#</span></span>
<span id="cb8-64"><a href="#cb8-64"></a><span class="co">#&gt;   23:             .       .           .     .      16ddJJ)</span></span>
<span id="cb8-65"><a href="#cb8-65"></a><span class="co">#&gt;   24:             .       .           .     .      (16ccLL</span></span>
<span id="cb8-66"><a href="#cb8-66"></a><span class="co">#&gt;   25:             .       .           .     .         16b-</span></span>
<span id="cb8-67"><a href="#cb8-67"></a><span class="co">#&gt;   26:             .       .      8B- 8f     .          16a</span></span>
<span id="cb8-68"><a href="#cb8-68"></a><span class="co">#&gt;   27:             .       .           .     .      16b-JJ)</span></span>
<span id="cb8-69"><a href="#cb8-69"></a><span class="co">#&gt;   28:             *       *          *v    *v            *</span></span>
<span id="cb8-70"><a href="#cb8-70"></a><span class="co">#&gt;   29:           =42     =42         =42                =42</span></span>
<span id="cb8-71"><a href="#cb8-71"></a><span class="co">#&gt;   30:             *       *     *clefF4                  *</span></span>
<span id="cb8-72"><a href="#cb8-72"></a><span class="co">#&gt;   31:            4T     4Ib          8r           (16ee-LL</span></span>
<span id="cb8-73"><a href="#cb8-73"></a><span class="co">#&gt;   32:             .       .           .               16ff</span></span>
<span id="cb8-74"><a href="#cb8-74"></a><span class="co">#&gt;   33:             .       .      8G 8e-              16gg)</span></span>
<span id="cb8-75"><a href="#cb8-75"></a><span class="co">#&gt;   34:             .       .           .             16b&#39;JJ</span></span>
<span id="cb8-76"><a href="#cb8-76"></a><span class="co">#&gt;   35:            4P     4IV          8r            (16ccLL</span></span>
<span id="cb8-77"><a href="#cb8-77"></a><span class="co">#&gt;   36:             .       .           .               16dd</span></span>
<span id="cb8-78"><a href="#cb8-78"></a><span class="co">#&gt;   37:             .       .     8A- 8e-             16ee-)</span></span>
<span id="cb8-79"><a href="#cb8-79"></a><span class="co">#&gt;   38:             .       .           .            16a-&#39;JJ</span></span>
<span id="cb8-80"><a href="#cb8-80"></a><span class="co">#&gt;   39:           =43     =43         =43                =43</span></span>
<span id="cb8-81"><a href="#cb8-81"></a><span class="co">#&gt;   40:             *       *          *^                  *</span></span>
<span id="cb8-82"><a href="#cb8-82"></a><span class="co">#&gt;   41:            4D     4Cc          8r  2BB-       (16gLL</span></span>
<span id="cb8-83"><a href="#cb8-83"></a><span class="co">#&gt;   42:             .       .           .     .         16a-</span></span>
<span id="cb8-84"><a href="#cb8-84"></a><span class="co">#&gt;   43:             .       .         (8G     .        16b-)</span></span>
<span id="cb8-85"><a href="#cb8-85"></a><span class="co">#&gt;   44:             .       .           .     .       16e&#39;JJ</span></span>
<span id="cb8-86"><a href="#cb8-86"></a><span class="co">#&gt;   45:            4D     4V7        8A-L     .       (16fLL</span></span>
<span id="cb8-87"><a href="#cb8-87"></a><span class="co">#&gt;   46:             .       .           .     .          16g</span></span>
<span id="cb8-88"><a href="#cb8-88"></a><span class="co">#&gt;   47:             .       .        8FJ)     .        16a-)</span></span>
<span id="cb8-89"><a href="#cb8-89"></a><span class="co">#&gt;   48:             .       .           .     .       16d&#39;JJ</span></span>
<span id="cb8-90"><a href="#cb8-90"></a><span class="co">#&gt;   49:             *       *          *v    *v            *</span></span>
<span id="cb8-91"><a href="#cb8-91"></a><span class="co">#&gt;   50:           =44     =44         =44                =44</span></span>
<span id="cb8-92"><a href="#cb8-92"></a><span class="co">#&gt;   51:            2T      2I        8E-L                4e-</span></span>
<span id="cb8-93"><a href="#cb8-93"></a><span class="co">#&gt;   52:             .       .       8BB-J                  .</span></span>
<span id="cb8-94"><a href="#cb8-94"></a><span class="co">#&gt;   53:             .       .        4EE-                 4r</span></span>
<span id="cb8-95"><a href="#cb8-95"></a><span class="co">#&gt;   54:            *-      *-          *-    *-             </span></span>
<span id="cb8-96"><a href="#cb8-96"></a><span class="co">#&gt; </span></span>
<span id="cb8-97"><a href="#cb8-97"></a><span class="co">#&gt;  humdrumR corpus of twenty files.</span></span>
<span id="cb8-98"><a href="#cb8-98"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb8-99"><a href="#cb8-99"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<p>I’ve used the <code>c</code> command to create a vector with two REpath-patterns. However, that was a lot of (bug-prone) typing…what if we combine these multiple patterns with the Multi-Argument Approach from above?:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData&#39;</span>,</span>
<span id="cb9-2"><a href="#cb9-2"></a>            <span class="kw">c</span>(<span class="st">&#39;BeethovenVariations&#39;</span>, <span class="st">&#39;MozartVariations&#39;</span>),</span>
<span id="cb9-3"><a href="#cb9-3"></a>            <span class="st">&#39;.*.krn&#39;</span>)</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/BeethovenVariations/.*.krn&#39; matches 12 text files in 1 directory.</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/MozartVariations/.*.krn&#39; matches 8 text files in 1 directory.</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt; Twenty files read from disk. </span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">#&gt; Validating twenty files...all valid.</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt; Parsing twenty files...Assembling corpus...Done!</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt; ########################################################## B075_00_01_a.krn</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt;    1:  !!!COM: Beethoven</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt;    2:  !!!OTL: 7 Variations on a Quartet by Winter</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt;    3:  !!!Variation: Theme a</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">#&gt;    4:    **function  **harm      **kern             **kern</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="co">#&gt;    5:             *       *     *clefG2            *clefG2</span></span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="co">#&gt;    6:             *       *      *k[b-]             *k[b-]</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co">#&gt;    7:         *M2/4   *M2/4       *M2/4              *M2/4</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co">#&gt;    8:           *F:     *F:         *F:                *F:</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="co">#&gt;    9:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="co">#&gt;   10:            =1      =1          =1                 =1</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="co">#&gt;   11:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb9-22"><a href="#cb9-22"></a><span class="co">#&gt;   12:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb9-23"><a href="#cb9-23"></a><span class="co">#&gt;   13:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb9-24"><a href="#cb9-24"></a><span class="co">#&gt;   14:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb9-25"><a href="#cb9-25"></a><span class="co">#&gt;   15:            =2      =2          =2                 =2</span></span>
<span id="cb9-26"><a href="#cb9-26"></a><span class="co">#&gt;   16:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb9-27"><a href="#cb9-27"></a><span class="co">#&gt;   17:            4T      4I         4f)           4ff) 4aa</span></span>
<span id="cb9-28"><a href="#cb9-28"></a><span class="co">#&gt;   18:            =3      =3          =3                 =3</span></span>
<span id="cb9-29"><a href="#cb9-29"></a><span class="co">#&gt;   19:            2T      2V          4c         8ee&#39;L 8gg&#39;</span></span>
<span id="cb9-30"><a href="#cb9-30"></a><span class="co">#&gt;   20:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb9-31"><a href="#cb9-31"></a><span class="co">#&gt;   21:             .       .          4c         8cc&#39;L 8ee&#39;</span></span>
<span id="cb9-32"><a href="#cb9-32"></a><span class="co">#&gt;   22:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb9-33"><a href="#cb9-33"></a><span class="co">#&gt;   23:            =4      =4          =4                 =4</span></span>
<span id="cb9-34"><a href="#cb9-34"></a><span class="co">#&gt;   24:            4T      4V          8c            8ee 8gg</span></span>
<span id="cb9-35"><a href="#cb9-35"></a><span class="co">#&gt;   25:             .       .          8r                 8r</span></span>
<span id="cb9-36"><a href="#cb9-36"></a><span class="co">#&gt;   26:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb9-37"><a href="#cb9-37"></a><span class="co">#&gt;   27:            =5      =5          =5                 =5</span></span>
<span id="cb9-38"><a href="#cb9-38"></a><span class="co">#&gt;   28:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb9-39"><a href="#cb9-39"></a><span class="co">#&gt;   29:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb9-40"><a href="#cb9-40"></a><span class="co">#&gt;   30:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb9-41"><a href="#cb9-41"></a><span class="co">#&gt;   31:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb9-42"><a href="#cb9-42"></a><span class="co">#&gt;   32:            =6      =6          =6                 =6</span></span>
<span id="cb9-43"><a href="#cb9-43"></a><span class="co">#&gt;   33:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb9-44"><a href="#cb9-44"></a><span class="co">#&gt;   34:            4T      4I      4f) 4a           4ff) 4aa</span></span>
<span id="cb9-45"><a href="#cb9-45"></a><span class="co">#&gt;   35:            =7      =7          =7                 =7</span></span>
<span id="cb9-46"><a href="#cb9-46"></a><span class="co">#&gt;   36:            4P    4iib        8B-L           8ddL 8gg</span></span>
<span id="cb9-47"><a href="#cb9-47"></a><span class="co">#&gt;   37:             .       .        8B-J           8ddJ 8gg</span></span>
<span id="cb9-48"><a href="#cb9-48"></a><span class="co">#&gt;   38:            4D     4V7         8cL          (8b-L 8ee</span></span>
<span id="cb9-49"><a href="#cb9-49"></a><span class="co">#&gt;   39:             .       .         8cJ         16b-L 16dd</span></span>
<span id="cb9-50"><a href="#cb9-50"></a><span class="co">#&gt;   40:             .       .           .            16eeJJ)</span></span>
<span id="cb9-51"><a href="#cb9-51"></a><span class="co">#&gt; [41-45]...................................................</span></span>
<span id="cb9-52"><a href="#cb9-52"></a><span class="co">#&gt; ##########################################################</span></span>
<span id="cb9-53"><a href="#cb9-53"></a><span class="co">#&gt; </span></span>
<span id="cb9-54"><a href="#cb9-54"></a><span class="co">#&gt;      (18 more files...)</span></span>
<span id="cb9-55"><a href="#cb9-55"></a><span class="co">#&gt; </span></span>
<span id="cb9-56"><a href="#cb9-56"></a><span class="co">#&gt; ########################################################## M354_01_04d_a.krn</span></span>
<span id="cb9-57"><a href="#cb9-57"></a><span class="co">#&gt; [1-14]....................................................</span></span>
<span id="cb9-58"><a href="#cb9-58"></a><span class="co">#&gt;   15:             .       .           .     .      (16ccLL</span></span>
<span id="cb9-59"><a href="#cb9-59"></a><span class="co">#&gt;   16:             .       .           .     .         16b-</span></span>
<span id="cb9-60"><a href="#cb9-60"></a><span class="co">#&gt;   17:             .       .          8f     .          16a</span></span>
<span id="cb9-61"><a href="#cb9-61"></a><span class="co">#&gt;   18:             .       .           .     .      16b-JJ)</span></span>
<span id="cb9-62"><a href="#cb9-62"></a><span class="co">#&gt;   19:           =41     =41         =41   =41          =41</span></span>
<span id="cb9-63"><a href="#cb9-63"></a><span class="co">#&gt;   20:            2D    2V7d          8r   2A-     (16ee-LL</span></span>
<span id="cb9-64"><a href="#cb9-64"></a><span class="co">#&gt;   21:             .       .           .     .         16dd</span></span>
<span id="cb9-65"><a href="#cb9-65"></a><span class="co">#&gt;   22:             .       .      4B- 4f     .        16cc#</span></span>
<span id="cb9-66"><a href="#cb9-66"></a><span class="co">#&gt;   23:             .       .           .     .      16ddJJ)</span></span>
<span id="cb9-67"><a href="#cb9-67"></a><span class="co">#&gt;   24:             .       .           .     .      (16ccLL</span></span>
<span id="cb9-68"><a href="#cb9-68"></a><span class="co">#&gt;   25:             .       .           .     .         16b-</span></span>
<span id="cb9-69"><a href="#cb9-69"></a><span class="co">#&gt;   26:             .       .      8B- 8f     .          16a</span></span>
<span id="cb9-70"><a href="#cb9-70"></a><span class="co">#&gt;   27:             .       .           .     .      16b-JJ)</span></span>
<span id="cb9-71"><a href="#cb9-71"></a><span class="co">#&gt;   28:             *       *          *v    *v            *</span></span>
<span id="cb9-72"><a href="#cb9-72"></a><span class="co">#&gt;   29:           =42     =42         =42                =42</span></span>
<span id="cb9-73"><a href="#cb9-73"></a><span class="co">#&gt;   30:             *       *     *clefF4                  *</span></span>
<span id="cb9-74"><a href="#cb9-74"></a><span class="co">#&gt;   31:            4T     4Ib          8r           (16ee-LL</span></span>
<span id="cb9-75"><a href="#cb9-75"></a><span class="co">#&gt;   32:             .       .           .               16ff</span></span>
<span id="cb9-76"><a href="#cb9-76"></a><span class="co">#&gt;   33:             .       .      8G 8e-              16gg)</span></span>
<span id="cb9-77"><a href="#cb9-77"></a><span class="co">#&gt;   34:             .       .           .             16b&#39;JJ</span></span>
<span id="cb9-78"><a href="#cb9-78"></a><span class="co">#&gt;   35:            4P     4IV          8r            (16ccLL</span></span>
<span id="cb9-79"><a href="#cb9-79"></a><span class="co">#&gt;   36:             .       .           .               16dd</span></span>
<span id="cb9-80"><a href="#cb9-80"></a><span class="co">#&gt;   37:             .       .     8A- 8e-             16ee-)</span></span>
<span id="cb9-81"><a href="#cb9-81"></a><span class="co">#&gt;   38:             .       .           .            16a-&#39;JJ</span></span>
<span id="cb9-82"><a href="#cb9-82"></a><span class="co">#&gt;   39:           =43     =43         =43                =43</span></span>
<span id="cb9-83"><a href="#cb9-83"></a><span class="co">#&gt;   40:             *       *          *^                  *</span></span>
<span id="cb9-84"><a href="#cb9-84"></a><span class="co">#&gt;   41:            4D     4Cc          8r  2BB-       (16gLL</span></span>
<span id="cb9-85"><a href="#cb9-85"></a><span class="co">#&gt;   42:             .       .           .     .         16a-</span></span>
<span id="cb9-86"><a href="#cb9-86"></a><span class="co">#&gt;   43:             .       .         (8G     .        16b-)</span></span>
<span id="cb9-87"><a href="#cb9-87"></a><span class="co">#&gt;   44:             .       .           .     .       16e&#39;JJ</span></span>
<span id="cb9-88"><a href="#cb9-88"></a><span class="co">#&gt;   45:            4D     4V7        8A-L     .       (16fLL</span></span>
<span id="cb9-89"><a href="#cb9-89"></a><span class="co">#&gt;   46:             .       .           .     .          16g</span></span>
<span id="cb9-90"><a href="#cb9-90"></a><span class="co">#&gt;   47:             .       .        8FJ)     .        16a-)</span></span>
<span id="cb9-91"><a href="#cb9-91"></a><span class="co">#&gt;   48:             .       .           .     .       16d&#39;JJ</span></span>
<span id="cb9-92"><a href="#cb9-92"></a><span class="co">#&gt;   49:             *       *          *v    *v            *</span></span>
<span id="cb9-93"><a href="#cb9-93"></a><span class="co">#&gt;   50:           =44     =44         =44                =44</span></span>
<span id="cb9-94"><a href="#cb9-94"></a><span class="co">#&gt;   51:            2T      2I        8E-L                4e-</span></span>
<span id="cb9-95"><a href="#cb9-95"></a><span class="co">#&gt;   52:             .       .       8BB-J                  .</span></span>
<span id="cb9-96"><a href="#cb9-96"></a><span class="co">#&gt;   53:             .       .        4EE-                 4r</span></span>
<span id="cb9-97"><a href="#cb9-97"></a><span class="co">#&gt;   54:            *-      *-          *-    *-             </span></span>
<span id="cb9-98"><a href="#cb9-98"></a><span class="co">#&gt; </span></span>
<span id="cb9-99"><a href="#cb9-99"></a><span class="co">#&gt;  humdrumR corpus of twenty files.</span></span>
<span id="cb9-100"><a href="#cb9-100"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb9-101"><a href="#cb9-101"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<p>We get the same result! How did this work exactly? We’ve fed three arguments to <code>readHumdrum</code>. The first and last arguments (<code>&quot;HumdrumData&quot;</code> and <code>&quot;.*.krn&quot;</code>) are length one. However, the middle argument (<code>&quot;...Variations&quot;</code>) is of length two. <code>readHumdrum</code> concatenates the three arguments together, making <em>two</em> separate REpath-patterns:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="st">&quot;HumdrumData/BeethovenVariations/.*.krn&quot;</span></span></code></pre></div>
<p><strong>AND</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="st">&quot;HumdrumData/MozartVariations/.*.krn&quot;</span></span></code></pre></div>
<blockquote>
<p>Note: It is possible to write multiple patterns which match some (or all) of the same files. If the argument <code>multipleInstances = FALSE</code>, each unique file will only be read once (into the first matching pattern). If <code>multipleInstances = TRUE</code>, the same file(s) can be read more than once.</p>
</blockquote>
<div id="pattern-names" class="section level4">
<h4>Pattern Names</h4>
<p>Whenever we specific more than one REpath-pattern, <code>humdrumR</code> gives them names which we can access in the <code>Label</code> field of the resulting <code>humdrumR</code> data object. You can choose these labels by giving names to the patterns in your multi-pattern vectors: Thus, we could write</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData&#39;</span>,</span>
<span id="cb12-2"><a href="#cb12-2"></a>            <span class="kw">c</span>(<span class="dt">Rap  =</span> <span class="st">&#39;Rap/.*&#39;</span>,</span>
<span id="cb12-3"><a href="#cb12-3"></a>              <span class="dt">Rock =</span> <span class="st">&#39;RollingStone/.*&#39;</span>)) -&gt;<span class="st"> </span>rapAndRock</span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt;  REpath-pattern Rap = &#39;HumdrumData/Rap/.*&#39; matches 7 text files in 1 directory.</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt;  REpath-pattern Rock = &#39;HumdrumData/RollingStone/.*&#39; matches 13 text files in 1 directory.</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt; Twenty files read from disk. </span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">#&gt; Validating twenty files...fifteen errors in eight files...twelve valid files.</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">#&gt; Parsing twelve files...Assembling corpus...Done!</span></span></code></pre></div>
<p>and these two separate patterns will be matched and read <em>and</em> the names <code>&quot;Rap&quot;</code> and <code>&quot;Rock&quot;</code> will be associated with them in the resulting <code>Label</code> field. This feature is very useful if you are working with multiple heterogenous datasets and you want to be able to apply some analyses/parsing to only one of the data subsets.</p>
</div>
</div>
<div id="contains" class="section level3">
<h3>Contains</h3>
<p>Sometimes you want to only read humdrum files which contain particular data. For instance, you might want to read only the files in a minor key. One option is to read all the files in the corpus then filter out the files you don’t want (see the <a href="Filtering.html">humdrumR filtering vignette</a> to learn how. However, in some cases, it can save a lot of time and effort to filter the files you want before parsing them. The <code>contains</code> argument of <code>readHumdrum</code> can be used in just this way! The contains argument must be a character vector—each character string is treated as a regular expression, and only files which contain matches to all of these regular expressions will be read. Thus, we could only read pieces with minor keys by writing:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData&#39;</span>, <span class="st">&#39;BachChorales&#39;</span>, <span class="st">&#39;chor.*.krn&#39;</span>,</span>
<span id="cb13-2"><a href="#cb13-2"></a>            <span class="dt">contains =</span> <span class="st">&#39;</span><span class="ch">\\</span><span class="st">*[a-g][-b#]*:&#39;</span>) </span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/BachChorales/chor.*.krn&#39; matches 3 text files (containing &#39;\*[a-g][-b#]*:&#39;) in 1 directory.</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co">#&gt; Three files read from disk. </span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">#&gt; Validating three files...all valid.</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">#&gt; Parsing three files...Assembling corpus...Done!</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt; ################################################################ chor003.krn</span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">#&gt;     1:  !!!COM:Bach, Johann Sebastian</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">#&gt;     2:  !!!CDT:1685/02/21/-1750/07/28/</span></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co">#&gt;     3:  !!!OTL@@DE:Ach Gott, vom Himmel sieh darein</span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">#&gt;     4:  !!!OTL@EN:Oh God, look down from Heaven</span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co">#&gt;     5:  !!!OPR: Cantata BWV 153: Schau, lieber Gott, wie meine Feind</span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co">#&gt;     6:  !!!SCT:BWV 153/1</span></span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="co">#&gt;     7:  !!!PC#:3</span></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="co">#&gt;     8:  !!!AGN:chorale</span></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co">#&gt;     9:          **kern        **kern        **kern        **kern</span></span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="co">#&gt;    10:          *ICvox        *ICvox        *ICvox        *ICvox</span></span>
<span id="cb13-19"><a href="#cb13-19"></a><span class="co">#&gt;    11:          *Ibass       *Itenor        *Ialto       *Isoprn</span></span>
<span id="cb13-20"><a href="#cb13-20"></a><span class="co">#&gt;    12:         *I&quot;Bass      *I&quot;Tenor       *I&quot;Alto    *I&quot;Soprano</span></span>
<span id="cb13-21"><a href="#cb13-21"></a><span class="co">#&gt;    13:       *&gt;[A,A,B]     *&gt;[A,A,B]     *&gt;[A,A,B]     *&gt;[A,A,B]</span></span>
<span id="cb13-22"><a href="#cb13-22"></a><span class="co">#&gt;    14:    *&gt;norep[A,B]  *&gt;norep[A,B]  *&gt;norep[A,B]  *&gt;norep[A,B]</span></span>
<span id="cb13-23"><a href="#cb13-23"></a><span class="co">#&gt;    15:             *&gt;A           *&gt;A           *&gt;A           *&gt;A</span></span>
<span id="cb13-24"><a href="#cb13-24"></a><span class="co">#&gt;    16:         *clefF4      *clefGv2       *clefG2       *clefG2</span></span>
<span id="cb13-25"><a href="#cb13-25"></a><span class="co">#&gt;    17:          *k[f#]        *k[f#]        *k[f#]        *k[f#]</span></span>
<span id="cb13-26"><a href="#cb13-26"></a><span class="co">#&gt;    18:             *a:           *a:           *a:           *a:</span></span>
<span id="cb13-27"><a href="#cb13-27"></a><span class="co">#&gt;    19:         !dorian       !dorian       !dorian       !dorian</span></span>
<span id="cb13-28"><a href="#cb13-28"></a><span class="co">#&gt;    20:           *M4/4         *M4/4         *M4/4         *M4/4</span></span>
<span id="cb13-29"><a href="#cb13-29"></a><span class="co">#&gt;    21:         *met(c)       *met(c)       *met(c)       *met(c)</span></span>
<span id="cb13-30"><a href="#cb13-30"></a><span class="co">#&gt;    22:          *MM100        *MM100        *MM100        *MM100</span></span>
<span id="cb13-31"><a href="#cb13-31"></a><span class="co">#&gt;    23:              4E            4e           4g#            4b</span></span>
<span id="cb13-32"><a href="#cb13-32"></a><span class="co">#&gt;    24:              =1            =1            =1            =1</span></span>
<span id="cb13-33"><a href="#cb13-33"></a><span class="co">#&gt;    25:              4A            4e            4a           4cc</span></span>
<span id="cb13-34"><a href="#cb13-34"></a><span class="co">#&gt;    26:              4B            4d           4g#            4b</span></span>
<span id="cb13-35"><a href="#cb13-35"></a><span class="co">#&gt;    27:              4c            4e            4a            4a</span></span>
<span id="cb13-36"><a href="#cb13-36"></a><span class="co">#&gt;    28:             8BL           8dL          8g#L           4ee</span></span>
<span id="cb13-37"><a href="#cb13-37"></a><span class="co">#&gt;    29:             8AJ           8cJ           8aJ             .</span></span>
<span id="cb13-38"><a href="#cb13-38"></a><span class="co">#&gt;    30:              =2            =2            =2            =2</span></span>
<span id="cb13-39"><a href="#cb13-39"></a><span class="co">#&gt;    31:             4G#            4B            4b          8eeL</span></span>
<span id="cb13-40"><a href="#cb13-40"></a><span class="co">#&gt;    32:               .             .             .          8ddJ</span></span>
<span id="cb13-41"><a href="#cb13-41"></a><span class="co">#&gt;    33:              4A           8cL           8eL           4cc</span></span>
<span id="cb13-42"><a href="#cb13-42"></a><span class="co">#&gt;    34:               .           8dJ          8f#J             .</span></span>
<span id="cb13-43"><a href="#cb13-43"></a><span class="co">#&gt;    35:             4E;           4e;          4g#;           4b;</span></span>
<span id="cb13-44"><a href="#cb13-44"></a><span class="co">#&gt;    36:             4BB            4f           4g#           4dd</span></span>
<span id="cb13-45"><a href="#cb13-45"></a><span class="co">#&gt;    37:              =3            =3            =3            =3</span></span>
<span id="cb13-46"><a href="#cb13-46"></a><span class="co">#&gt;    38:             8CL            4e            4a           4cc</span></span>
<span id="cb13-47"><a href="#cb13-47"></a><span class="co">#&gt;    39:             8DJ             .             .             .</span></span>
<span id="cb13-48"><a href="#cb13-48"></a><span class="co">#&gt;    40:              4E           8eL           4g#            4b</span></span>
<span id="cb13-49"><a href="#cb13-49"></a><span class="co">#&gt; [41-110]........................................................</span></span>
<span id="cb13-50"><a href="#cb13-50"></a><span class="co">#&gt; ################################################################</span></span>
<span id="cb13-51"><a href="#cb13-51"></a><span class="co">#&gt; </span></span>
<span id="cb13-52"><a href="#cb13-52"></a><span class="co">#&gt;      (1 more files...)</span></span>
<span id="cb13-53"><a href="#cb13-53"></a><span class="co">#&gt; </span></span>
<span id="cb13-54"><a href="#cb13-54"></a><span class="co">#&gt; ################################################################ chor010.krn</span></span>
<span id="cb13-55"><a href="#cb13-55"></a><span class="co">#&gt; [1-60]..........................................................</span></span>
<span id="cb13-56"><a href="#cb13-56"></a><span class="co">#&gt;    61:            2AA;           2c;           2e;           2a;</span></span>
<span id="cb13-57"><a href="#cb13-57"></a><span class="co">#&gt;    62:              2A            2e            2a           2cc</span></span>
<span id="cb13-58"><a href="#cb13-58"></a><span class="co">#&gt;    63:              =9            =9            =9            =9</span></span>
<span id="cb13-59"><a href="#cb13-59"></a><span class="co">#&gt;    64:              4E            4e            4g            4b</span></span>
<span id="cb13-60"><a href="#cb13-60"></a><span class="co">#&gt;    65:             8DL            4e            4g           4cc</span></span>
<span id="cb13-61"><a href="#cb13-61"></a><span class="co">#&gt;    66:             8CJ             .             .             .</span></span>
<span id="cb13-62"><a href="#cb13-62"></a><span class="co">#&gt;    67:             4BB            4d           8gL           4dd</span></span>
<span id="cb13-63"><a href="#cb13-63"></a><span class="co">#&gt;    68:               .             .           8fJ             .</span></span>
<span id="cb13-64"><a href="#cb13-64"></a><span class="co">#&gt;    69:              4C            4c            4e            4g</span></span>
<span id="cb13-65"><a href="#cb13-65"></a><span class="co">#&gt;    70:             =10           =10           =10           =10</span></span>
<span id="cb13-66"><a href="#cb13-66"></a><span class="co">#&gt;    71:              4D           8F#            4d            4b</span></span>
<span id="cb13-67"><a href="#cb13-67"></a><span class="co">#&gt;    72:               .            4G             .             .</span></span>
<span id="cb13-68"><a href="#cb13-68"></a><span class="co">#&gt;    73:              4D             .            4c            4a</span></span>
<span id="cb13-69"><a href="#cb13-69"></a><span class="co">#&gt;    74:               .           8F#             .             .</span></span>
<span id="cb13-70"><a href="#cb13-70"></a><span class="co">#&gt;    75:            2GG;           2G;           2B;           2g;</span></span>
<span id="cb13-71"><a href="#cb13-71"></a><span class="co">#&gt;    76:             =11           =11           =11           =11</span></span>
<span id="cb13-72"><a href="#cb13-72"></a><span class="co">#&gt;    77:              2C            2G            2e            2g</span></span>
<span id="cb13-73"><a href="#cb13-73"></a><span class="co">#&gt;    78:             4AA            4A            4e           4cc</span></span>
<span id="cb13-74"><a href="#cb13-74"></a><span class="co">#&gt;    79:              4E           4G#           8eL            4b</span></span>
<span id="cb13-75"><a href="#cb13-75"></a><span class="co">#&gt;    80:               .             .           8dJ             .</span></span>
<span id="cb13-76"><a href="#cb13-76"></a><span class="co">#&gt;    81:             =12           =12           =12           =12</span></span>
<span id="cb13-77"><a href="#cb13-77"></a><span class="co">#&gt;    82:              4F            4A            4c            4a</span></span>
<span id="cb13-78"><a href="#cb13-78"></a><span class="co">#&gt;    83:              4C            4G            4c            4e</span></span>
<span id="cb13-79"><a href="#cb13-79"></a><span class="co">#&gt;    84:            4BB-            4G           [2d            4g</span></span>
<span id="cb13-80"><a href="#cb13-80"></a><span class="co">#&gt;    85:             4AA            4A             .            4f</span></span>
<span id="cb13-81"><a href="#cb13-81"></a><span class="co">#&gt;    86:             =13           =13           =13           =13</span></span>
<span id="cb13-82"><a href="#cb13-82"></a><span class="co">#&gt;    87:            4GG#            4B           4d]           1e;</span></span>
<span id="cb13-83"><a href="#cb13-83"></a><span class="co">#&gt;    88:             4AA            4A            4c             .</span></span>
<span id="cb13-84"><a href="#cb13-84"></a><span class="co">#&gt;    89:            2EE;         2G#X;           2B;             .</span></span>
<span id="cb13-85"><a href="#cb13-85"></a><span class="co">#&gt;    90:              ==            ==            ==            ==</span></span>
<span id="cb13-86"><a href="#cb13-86"></a><span class="co">#&gt;    91:              *-            *-            *-            *-</span></span>
<span id="cb13-87"><a href="#cb13-87"></a><span class="co">#&gt;    92:  !!!hum2abc: -Q &#39;&#39;</span></span>
<span id="cb13-88"><a href="#cb13-88"></a><span class="co">#&gt;    93:  !!!title: @{PC#}. @{OTL@@DE}</span></span>
<span id="cb13-89"><a href="#cb13-89"></a><span class="co">#&gt;    94:  !!!YOR1: 371 vierstimmige Choralges&amp;auml;nge von Johann Sebastian Bach, </span></span>
<span id="cb13-90"><a href="#cb13-90"></a><span class="co">#&gt;    95:  !!!YOR2: 4th ed. by Alfred D&amp;ouml;rffel (Leipzig: Breitkopf und H&amp;auml;rtel, </span></span>
<span id="cb13-91"><a href="#cb13-91"></a><span class="co">#&gt;    96:  !!!YOR2: c.1875). 178 pp. Plate &quot;V.A.10&quot;.  reprint: J.S. Bach, 371 Four-Part </span></span>
<span id="cb13-92"><a href="#cb13-92"></a><span class="co">#&gt;    97:  !!!YOR4: Chorales (New York: Associated Music Publishers, Inc., c.1940).</span></span>
<span id="cb13-93"><a href="#cb13-93"></a><span class="co">#&gt;    98:  !!!SMS: B&amp;H, 4th ed, Alfred D&amp;ouml;rffel, c.1875, plate V.A.10</span></span>
<span id="cb13-94"><a href="#cb13-94"></a><span class="co">#&gt;    99:  !!!EED:  Craig Stuart Sapp</span></span>
<span id="cb13-95"><a href="#cb13-95"></a><span class="co">#&gt;   100:  !!!EEV:  2009/05/22</span></span>
<span id="cb13-96"><a href="#cb13-96"></a><span class="co">#&gt; </span></span>
<span id="cb13-97"><a href="#cb13-97"></a><span class="co">#&gt;  humdrumR corpus of three files.</span></span>
<span id="cb13-98"><a href="#cb13-98"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb13-99"><a href="#cb13-99"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<p>(This regular expression matches standard humdrum tandem interpretations for minor keys.)</p>
</div>
</div>
<div id="finding-files" class="section level2">
<h2>Finding Files</h2>
<p><code>readHumdrum</code> interprets REpath-patterns and finds files using the helper function <code>findHumdrum</code>. If you are not sure where your humdrum files are, or what pattern you want to use to find them, you might start be using <code>findHumdrum</code>. <code>findHumdrum</code> takes the same input as <code>readHumdrum</code>, but doesn’t fully parse the input into <code>humdrumR</code>. Instead, it returns a <code>data.table</code> containing matching filenames (if any) and raw file content.</p>
<p>If you use the <code>verbose = TRUE</code> option for either <code>findHumdrum</code> or <code>readHumdrum</code>, a complete list of all the matches files will be printed. This is useful to check if you are reading the files you <em>intend</em> to read.</p>
<div id="validation" class="section level3">
<h3>Validation</h3>
<p><code>findHumdrum</code>, and by extension <code>readHumdrum</code>, are smart functions that will ignore non-humdrum files matched by your pattern. Non-text files (like <code>.pdf</code> or <code>.jpg</code>) will be ignored. Whatsmore, text files which fail to conform to the humdrum syntax will not be read either. You will see a message that checks which files are “valid humdrum,” and tell you how many (if any) text files are not read.</p>
<p>If you are trying to read a file which you <em>think</em> should be valid humdrum, but <code>readHumdrum</code> won’t read it, use <code>validateHumdrum</code> with the exact same REpath-pattern arguments, and specify and <code>errorReport.path</code> to see a detailed report of the problem. <code>humdrumR</code> won’t read files with <em>any</em> humdrum-syntax violations—there might be minor problems in the data that you need to fix. Call <code>?validateHumdrum</code> or read our <a href="Validation.html">humdrum data validation vignette</a> to learn more about <code>humdrumR</code>’s data validation tools, and how they can be used to identify errors in your humdrum data. (<code>validateHumdrum</code> does not automatically check if the humdrum <em>data</em> is encoded correctly or makes sense, just that it is structurally sound, in accordance with the humdrum syntax.)</p>
</div>
</div>
<div id="reading" class="section level2">
<h2>Reading</h2>
<p>So, what actually happens when we run <code>readHumdrum</code>? By now, you’ve seen that <code>readHumdrum</code> prints out a few messages describing its process.</p>
<ol style="list-style-type: decimal">
<li>First, the files which match your search patterns (if any) are identified, and their text is read into R.</li>
<li>Next, these files are checked to see if they are valid humdrum files.</li>
<li>The files are parsed—i.e., translated into <code>humdrumR</code>‘s <a href="HumdrumTable.html">data.table backend</a>. This step takes the longest by far, as it includes parsing all the humdrum files’ data tokens, interpretations, reference records, and (worst of all) spine paths. Indeed, reading humdrum data with spine paths will take significantly longer than reading pathless data. To save yourself some time, you can potentially use the <code>tandems</code> and <code>reference</code> arguments (see “Parsing Metadata” below).</li>
</ol>
</div>
<div id="parsing-metadata" class="section level2">
<h2>Parsing Metadata</h2>
<p>By default, humdrumR parses all metadata in the humdrum files it reads. This includes the true global metadata for files, encoded in humdrum <em>reference records</em>, as well as the more local <em>tandem interpretations</em>.</p>
<div id="reference-records" class="section level3">
<h3>Reference Records</h3>
<p>By default, humdrumR parses all reference records in the files it reads, creating a unique field for each reference key. (If there are more than one instance of any given key, they are combined in a string separated by semicolons.) If there are a lot of unique reference keys in a dataset, they can end up taking a lot of memory in a humdrum table. In these cases, you might find it useful to limit <code>readHumdrum</code> to only parsing those reference records which you are actually going to use. This can be accomplished quite easily with the <code>reference</code> argument.</p>
<p>The <code>reference</code> argument defaults to <code>&quot;all&quot;</code>, which means all reference records are parsed. However, reference can also be a character vector of reference codes.</p>
<p>Thus,</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData&#39;</span>,</span>
<span id="cb14-2"><a href="#cb14-2"></a>            <span class="kw">c</span>(<span class="st">&#39;BeethovenVariations&#39;</span>, <span class="st">&#39;MozartVariations&#39;</span>),</span>
<span id="cb14-3"><a href="#cb14-3"></a>            <span class="st">&#39;.*.krn&#39;</span>,</span>
<span id="cb14-4"><a href="#cb14-4"></a>            <span class="dt">reference =</span> <span class="st">&#39;COM&#39;</span>)</span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/BeethovenVariations/.*.krn&#39; matches 12 text files in 1 directory.</span></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/MozartVariations/.*.krn&#39; matches 8 text files in 1 directory.</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="co">#&gt; Twenty files read from disk. </span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="co">#&gt; Validating twenty files...all valid.</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co">#&gt; Parsing twenty files...Assembling corpus...Done!</span></span>
<span id="cb14-11"><a href="#cb14-11"></a><span class="co">#&gt; ########################################################## B075_00_01_a.krn</span></span>
<span id="cb14-12"><a href="#cb14-12"></a><span class="co">#&gt;    1:  !!!COM: Beethoven</span></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co">#&gt;    2:  !!!OTL: 7 Variations on a Quartet by Winter</span></span>
<span id="cb14-14"><a href="#cb14-14"></a><span class="co">#&gt;    3:  !!!Variation: Theme a</span></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="co">#&gt;    4:    **function  **harm      **kern             **kern</span></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="co">#&gt;    5:             *       *     *clefG2            *clefG2</span></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="co">#&gt;    6:             *       *      *k[b-]             *k[b-]</span></span>
<span id="cb14-18"><a href="#cb14-18"></a><span class="co">#&gt;    7:         *M2/4   *M2/4       *M2/4              *M2/4</span></span>
<span id="cb14-19"><a href="#cb14-19"></a><span class="co">#&gt;    8:           *F:     *F:         *F:                *F:</span></span>
<span id="cb14-20"><a href="#cb14-20"></a><span class="co">#&gt;    9:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb14-21"><a href="#cb14-21"></a><span class="co">#&gt;   10:            =1      =1          =1                 =1</span></span>
<span id="cb14-22"><a href="#cb14-22"></a><span class="co">#&gt;   11:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb14-23"><a href="#cb14-23"></a><span class="co">#&gt;   12:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb14-24"><a href="#cb14-24"></a><span class="co">#&gt;   13:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb14-25"><a href="#cb14-25"></a><span class="co">#&gt;   14:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb14-26"><a href="#cb14-26"></a><span class="co">#&gt;   15:            =2      =2          =2                 =2</span></span>
<span id="cb14-27"><a href="#cb14-27"></a><span class="co">#&gt;   16:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb14-28"><a href="#cb14-28"></a><span class="co">#&gt;   17:            4T      4I         4f)           4ff) 4aa</span></span>
<span id="cb14-29"><a href="#cb14-29"></a><span class="co">#&gt;   18:            =3      =3          =3                 =3</span></span>
<span id="cb14-30"><a href="#cb14-30"></a><span class="co">#&gt;   19:            2T      2V          4c         8ee&#39;L 8gg&#39;</span></span>
<span id="cb14-31"><a href="#cb14-31"></a><span class="co">#&gt;   20:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb14-32"><a href="#cb14-32"></a><span class="co">#&gt;   21:             .       .          4c         8cc&#39;L 8ee&#39;</span></span>
<span id="cb14-33"><a href="#cb14-33"></a><span class="co">#&gt;   22:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb14-34"><a href="#cb14-34"></a><span class="co">#&gt;   23:            =4      =4          =4                 =4</span></span>
<span id="cb14-35"><a href="#cb14-35"></a><span class="co">#&gt;   24:            4T      4V          8c            8ee 8gg</span></span>
<span id="cb14-36"><a href="#cb14-36"></a><span class="co">#&gt;   25:             .       .          8r                 8r</span></span>
<span id="cb14-37"><a href="#cb14-37"></a><span class="co">#&gt;   26:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb14-38"><a href="#cb14-38"></a><span class="co">#&gt;   27:            =5      =5          =5                 =5</span></span>
<span id="cb14-39"><a href="#cb14-39"></a><span class="co">#&gt;   28:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb14-40"><a href="#cb14-40"></a><span class="co">#&gt;   29:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb14-41"><a href="#cb14-41"></a><span class="co">#&gt;   30:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb14-42"><a href="#cb14-42"></a><span class="co">#&gt;   31:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb14-43"><a href="#cb14-43"></a><span class="co">#&gt;   32:            =6      =6          =6                 =6</span></span>
<span id="cb14-44"><a href="#cb14-44"></a><span class="co">#&gt;   33:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb14-45"><a href="#cb14-45"></a><span class="co">#&gt;   34:            4T      4I      4f) 4a           4ff) 4aa</span></span>
<span id="cb14-46"><a href="#cb14-46"></a><span class="co">#&gt;   35:            =7      =7          =7                 =7</span></span>
<span id="cb14-47"><a href="#cb14-47"></a><span class="co">#&gt;   36:            4P    4iib        8B-L           8ddL 8gg</span></span>
<span id="cb14-48"><a href="#cb14-48"></a><span class="co">#&gt;   37:             .       .        8B-J           8ddJ 8gg</span></span>
<span id="cb14-49"><a href="#cb14-49"></a><span class="co">#&gt;   38:            4D     4V7         8cL          (8b-L 8ee</span></span>
<span id="cb14-50"><a href="#cb14-50"></a><span class="co">#&gt;   39:             .       .         8cJ         16b-L 16dd</span></span>
<span id="cb14-51"><a href="#cb14-51"></a><span class="co">#&gt;   40:             .       .           .            16eeJJ)</span></span>
<span id="cb14-52"><a href="#cb14-52"></a><span class="co">#&gt; [41-45]...................................................</span></span>
<span id="cb14-53"><a href="#cb14-53"></a><span class="co">#&gt; ##########################################################</span></span>
<span id="cb14-54"><a href="#cb14-54"></a><span class="co">#&gt; </span></span>
<span id="cb14-55"><a href="#cb14-55"></a><span class="co">#&gt;      (18 more files...)</span></span>
<span id="cb14-56"><a href="#cb14-56"></a><span class="co">#&gt; </span></span>
<span id="cb14-57"><a href="#cb14-57"></a><span class="co">#&gt; ########################################################## M354_01_04d_a.krn</span></span>
<span id="cb14-58"><a href="#cb14-58"></a><span class="co">#&gt; [1-14]....................................................</span></span>
<span id="cb14-59"><a href="#cb14-59"></a><span class="co">#&gt;   15:             .       .           .     .      (16ccLL</span></span>
<span id="cb14-60"><a href="#cb14-60"></a><span class="co">#&gt;   16:             .       .           .     .         16b-</span></span>
<span id="cb14-61"><a href="#cb14-61"></a><span class="co">#&gt;   17:             .       .          8f     .          16a</span></span>
<span id="cb14-62"><a href="#cb14-62"></a><span class="co">#&gt;   18:             .       .           .     .      16b-JJ)</span></span>
<span id="cb14-63"><a href="#cb14-63"></a><span class="co">#&gt;   19:           =41     =41         =41   =41          =41</span></span>
<span id="cb14-64"><a href="#cb14-64"></a><span class="co">#&gt;   20:            2D    2V7d          8r   2A-     (16ee-LL</span></span>
<span id="cb14-65"><a href="#cb14-65"></a><span class="co">#&gt;   21:             .       .           .     .         16dd</span></span>
<span id="cb14-66"><a href="#cb14-66"></a><span class="co">#&gt;   22:             .       .      4B- 4f     .        16cc#</span></span>
<span id="cb14-67"><a href="#cb14-67"></a><span class="co">#&gt;   23:             .       .           .     .      16ddJJ)</span></span>
<span id="cb14-68"><a href="#cb14-68"></a><span class="co">#&gt;   24:             .       .           .     .      (16ccLL</span></span>
<span id="cb14-69"><a href="#cb14-69"></a><span class="co">#&gt;   25:             .       .           .     .         16b-</span></span>
<span id="cb14-70"><a href="#cb14-70"></a><span class="co">#&gt;   26:             .       .      8B- 8f     .          16a</span></span>
<span id="cb14-71"><a href="#cb14-71"></a><span class="co">#&gt;   27:             .       .           .     .      16b-JJ)</span></span>
<span id="cb14-72"><a href="#cb14-72"></a><span class="co">#&gt;   28:             *       *          *v    *v            *</span></span>
<span id="cb14-73"><a href="#cb14-73"></a><span class="co">#&gt;   29:           =42     =42         =42                =42</span></span>
<span id="cb14-74"><a href="#cb14-74"></a><span class="co">#&gt;   30:             *       *     *clefF4                  *</span></span>
<span id="cb14-75"><a href="#cb14-75"></a><span class="co">#&gt;   31:            4T     4Ib          8r           (16ee-LL</span></span>
<span id="cb14-76"><a href="#cb14-76"></a><span class="co">#&gt;   32:             .       .           .               16ff</span></span>
<span id="cb14-77"><a href="#cb14-77"></a><span class="co">#&gt;   33:             .       .      8G 8e-              16gg)</span></span>
<span id="cb14-78"><a href="#cb14-78"></a><span class="co">#&gt;   34:             .       .           .             16b&#39;JJ</span></span>
<span id="cb14-79"><a href="#cb14-79"></a><span class="co">#&gt;   35:            4P     4IV          8r            (16ccLL</span></span>
<span id="cb14-80"><a href="#cb14-80"></a><span class="co">#&gt;   36:             .       .           .               16dd</span></span>
<span id="cb14-81"><a href="#cb14-81"></a><span class="co">#&gt;   37:             .       .     8A- 8e-             16ee-)</span></span>
<span id="cb14-82"><a href="#cb14-82"></a><span class="co">#&gt;   38:             .       .           .            16a-&#39;JJ</span></span>
<span id="cb14-83"><a href="#cb14-83"></a><span class="co">#&gt;   39:           =43     =43         =43                =43</span></span>
<span id="cb14-84"><a href="#cb14-84"></a><span class="co">#&gt;   40:             *       *          *^                  *</span></span>
<span id="cb14-85"><a href="#cb14-85"></a><span class="co">#&gt;   41:            4D     4Cc          8r  2BB-       (16gLL</span></span>
<span id="cb14-86"><a href="#cb14-86"></a><span class="co">#&gt;   42:             .       .           .     .         16a-</span></span>
<span id="cb14-87"><a href="#cb14-87"></a><span class="co">#&gt;   43:             .       .         (8G     .        16b-)</span></span>
<span id="cb14-88"><a href="#cb14-88"></a><span class="co">#&gt;   44:             .       .           .     .       16e&#39;JJ</span></span>
<span id="cb14-89"><a href="#cb14-89"></a><span class="co">#&gt;   45:            4D     4V7        8A-L     .       (16fLL</span></span>
<span id="cb14-90"><a href="#cb14-90"></a><span class="co">#&gt;   46:             .       .           .     .          16g</span></span>
<span id="cb14-91"><a href="#cb14-91"></a><span class="co">#&gt;   47:             .       .        8FJ)     .        16a-)</span></span>
<span id="cb14-92"><a href="#cb14-92"></a><span class="co">#&gt;   48:             .       .           .     .       16d&#39;JJ</span></span>
<span id="cb14-93"><a href="#cb14-93"></a><span class="co">#&gt;   49:             *       *          *v    *v            *</span></span>
<span id="cb14-94"><a href="#cb14-94"></a><span class="co">#&gt;   50:           =44     =44         =44                =44</span></span>
<span id="cb14-95"><a href="#cb14-95"></a><span class="co">#&gt;   51:            2T      2I        8E-L                4e-</span></span>
<span id="cb14-96"><a href="#cb14-96"></a><span class="co">#&gt;   52:             .       .       8BB-J                  .</span></span>
<span id="cb14-97"><a href="#cb14-97"></a><span class="co">#&gt;   53:             .       .        4EE-                 4r</span></span>
<span id="cb14-98"><a href="#cb14-98"></a><span class="co">#&gt;   54:            *-      *-          *-    *-             </span></span>
<span id="cb14-99"><a href="#cb14-99"></a><span class="co">#&gt; </span></span>
<span id="cb14-100"><a href="#cb14-100"></a><span class="co">#&gt;  humdrumR corpus of twenty files.</span></span>
<span id="cb14-101"><a href="#cb14-101"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb14-102"><a href="#cb14-102"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<p>will only parse the <code>COM</code> reference record in each piece. We can use this to rename our reference fields if we like—in this case,</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">readHumdrum</span>(<span class="st">&#39;HumdrumData&#39;</span>,</span>
<span id="cb15-2"><a href="#cb15-2"></a>            <span class="kw">c</span>(<span class="st">&#39;BeethovenVariations&#39;</span>, <span class="st">&#39;MozartVariations&#39;</span>),</span>
<span id="cb15-3"><a href="#cb15-3"></a>            <span class="st">&#39;.*.krn&#39;</span>,</span>
<span id="cb15-4"><a href="#cb15-4"></a>            <span class="dt">reference =</span> <span class="kw">c</span>(<span class="dt">Composer =</span> <span class="st">&#39;COM&#39;</span>))</span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co">#&gt; Finding and reading files...</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/BeethovenVariations/.*.krn&#39; matches 12 text files in 1 directory.</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co">#&gt;  REpath-pattern &#39;HumdrumData/MozartVariations/.*.krn&#39; matches 8 text files in 1 directory.</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="co">#&gt; Twenty files read from disk. </span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">#&gt; Validating twenty files...all valid.</span></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="co">#&gt; Parsing twenty files...Assembling corpus...Done!</span></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="co">#&gt; ########################################################## B075_00_01_a.krn</span></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="co">#&gt;    1:  !!!COM: Beethoven</span></span>
<span id="cb15-13"><a href="#cb15-13"></a><span class="co">#&gt;    2:  !!!OTL: 7 Variations on a Quartet by Winter</span></span>
<span id="cb15-14"><a href="#cb15-14"></a><span class="co">#&gt;    3:  !!!Variation: Theme a</span></span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="co">#&gt;    4:    **function  **harm      **kern             **kern</span></span>
<span id="cb15-16"><a href="#cb15-16"></a><span class="co">#&gt;    5:             *       *     *clefG2            *clefG2</span></span>
<span id="cb15-17"><a href="#cb15-17"></a><span class="co">#&gt;    6:             *       *      *k[b-]             *k[b-]</span></span>
<span id="cb15-18"><a href="#cb15-18"></a><span class="co">#&gt;    7:         *M2/4   *M2/4       *M2/4              *M2/4</span></span>
<span id="cb15-19"><a href="#cb15-19"></a><span class="co">#&gt;    8:           *F:     *F:         *F:                *F:</span></span>
<span id="cb15-20"><a href="#cb15-20"></a><span class="co">#&gt;    9:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb15-21"><a href="#cb15-21"></a><span class="co">#&gt;   10:            =1      =1          =1                 =1</span></span>
<span id="cb15-22"><a href="#cb15-22"></a><span class="co">#&gt;   11:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb15-23"><a href="#cb15-23"></a><span class="co">#&gt;   12:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb15-24"><a href="#cb15-24"></a><span class="co">#&gt;   13:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb15-25"><a href="#cb15-25"></a><span class="co">#&gt;   14:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb15-26"><a href="#cb15-26"></a><span class="co">#&gt;   15:            =2      =2          =2                 =2</span></span>
<span id="cb15-27"><a href="#cb15-27"></a><span class="co">#&gt;   16:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb15-28"><a href="#cb15-28"></a><span class="co">#&gt;   17:            4T      4I         4f)           4ff) 4aa</span></span>
<span id="cb15-29"><a href="#cb15-29"></a><span class="co">#&gt;   18:            =3      =3          =3                 =3</span></span>
<span id="cb15-30"><a href="#cb15-30"></a><span class="co">#&gt;   19:            2T      2V          4c         8ee&#39;L 8gg&#39;</span></span>
<span id="cb15-31"><a href="#cb15-31"></a><span class="co">#&gt;   20:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb15-32"><a href="#cb15-32"></a><span class="co">#&gt;   21:             .       .          4c         8cc&#39;L 8ee&#39;</span></span>
<span id="cb15-33"><a href="#cb15-33"></a><span class="co">#&gt;   22:             .       .           .         8dd&#39;J 8ff&#39;</span></span>
<span id="cb15-34"><a href="#cb15-34"></a><span class="co">#&gt;   23:            =4      =4          =4                 =4</span></span>
<span id="cb15-35"><a href="#cb15-35"></a><span class="co">#&gt;   24:            4T      4V          8c            8ee 8gg</span></span>
<span id="cb15-36"><a href="#cb15-36"></a><span class="co">#&gt;   25:             .       .          8r                 8r</span></span>
<span id="cb15-37"><a href="#cb15-37"></a><span class="co">#&gt;   26:            4T      4I          4r           4aa 4ccc</span></span>
<span id="cb15-38"><a href="#cb15-38"></a><span class="co">#&gt;   27:            =5      =5          =5                 =5</span></span>
<span id="cb15-39"><a href="#cb15-39"></a><span class="co">#&gt;   28:            2T      2I          2f         8ff&#39;L 8aa&#39;</span></span>
<span id="cb15-40"><a href="#cb15-40"></a><span class="co">#&gt;   29:             .       .           .         8cc&#39;J 8ff&#39;</span></span>
<span id="cb15-41"><a href="#cb15-41"></a><span class="co">#&gt;   30:             .       .           .         8ff&#39;L 8aa&#39;</span></span>
<span id="cb15-42"><a href="#cb15-42"></a><span class="co">#&gt;   31:             .       .           .        8aa&#39;J 8ccc&#39;</span></span>
<span id="cb15-43"><a href="#cb15-43"></a><span class="co">#&gt;   32:            =6      =6          =6                 =6</span></span>
<span id="cb15-44"><a href="#cb15-44"></a><span class="co">#&gt;   33:            4T     4V7   (4c 4e 4g          (4gg 4bb-</span></span>
<span id="cb15-45"><a href="#cb15-45"></a><span class="co">#&gt;   34:            4T      4I      4f) 4a           4ff) 4aa</span></span>
<span id="cb15-46"><a href="#cb15-46"></a><span class="co">#&gt;   35:            =7      =7          =7                 =7</span></span>
<span id="cb15-47"><a href="#cb15-47"></a><span class="co">#&gt;   36:            4P    4iib        8B-L           8ddL 8gg</span></span>
<span id="cb15-48"><a href="#cb15-48"></a><span class="co">#&gt;   37:             .       .        8B-J           8ddJ 8gg</span></span>
<span id="cb15-49"><a href="#cb15-49"></a><span class="co">#&gt;   38:            4D     4V7         8cL          (8b-L 8ee</span></span>
<span id="cb15-50"><a href="#cb15-50"></a><span class="co">#&gt;   39:             .       .         8cJ         16b-L 16dd</span></span>
<span id="cb15-51"><a href="#cb15-51"></a><span class="co">#&gt;   40:             .       .           .            16eeJJ)</span></span>
<span id="cb15-52"><a href="#cb15-52"></a><span class="co">#&gt; [41-45]...................................................</span></span>
<span id="cb15-53"><a href="#cb15-53"></a><span class="co">#&gt; ##########################################################</span></span>
<span id="cb15-54"><a href="#cb15-54"></a><span class="co">#&gt; </span></span>
<span id="cb15-55"><a href="#cb15-55"></a><span class="co">#&gt;      (18 more files...)</span></span>
<span id="cb15-56"><a href="#cb15-56"></a><span class="co">#&gt; </span></span>
<span id="cb15-57"><a href="#cb15-57"></a><span class="co">#&gt; ########################################################## M354_01_04d_a.krn</span></span>
<span id="cb15-58"><a href="#cb15-58"></a><span class="co">#&gt; [1-14]....................................................</span></span>
<span id="cb15-59"><a href="#cb15-59"></a><span class="co">#&gt;   15:             .       .           .     .      (16ccLL</span></span>
<span id="cb15-60"><a href="#cb15-60"></a><span class="co">#&gt;   16:             .       .           .     .         16b-</span></span>
<span id="cb15-61"><a href="#cb15-61"></a><span class="co">#&gt;   17:             .       .          8f     .          16a</span></span>
<span id="cb15-62"><a href="#cb15-62"></a><span class="co">#&gt;   18:             .       .           .     .      16b-JJ)</span></span>
<span id="cb15-63"><a href="#cb15-63"></a><span class="co">#&gt;   19:           =41     =41         =41   =41          =41</span></span>
<span id="cb15-64"><a href="#cb15-64"></a><span class="co">#&gt;   20:            2D    2V7d          8r   2A-     (16ee-LL</span></span>
<span id="cb15-65"><a href="#cb15-65"></a><span class="co">#&gt;   21:             .       .           .     .         16dd</span></span>
<span id="cb15-66"><a href="#cb15-66"></a><span class="co">#&gt;   22:             .       .      4B- 4f     .        16cc#</span></span>
<span id="cb15-67"><a href="#cb15-67"></a><span class="co">#&gt;   23:             .       .           .     .      16ddJJ)</span></span>
<span id="cb15-68"><a href="#cb15-68"></a><span class="co">#&gt;   24:             .       .           .     .      (16ccLL</span></span>
<span id="cb15-69"><a href="#cb15-69"></a><span class="co">#&gt;   25:             .       .           .     .         16b-</span></span>
<span id="cb15-70"><a href="#cb15-70"></a><span class="co">#&gt;   26:             .       .      8B- 8f     .          16a</span></span>
<span id="cb15-71"><a href="#cb15-71"></a><span class="co">#&gt;   27:             .       .           .     .      16b-JJ)</span></span>
<span id="cb15-72"><a href="#cb15-72"></a><span class="co">#&gt;   28:             *       *          *v    *v            *</span></span>
<span id="cb15-73"><a href="#cb15-73"></a><span class="co">#&gt;   29:           =42     =42         =42                =42</span></span>
<span id="cb15-74"><a href="#cb15-74"></a><span class="co">#&gt;   30:             *       *     *clefF4                  *</span></span>
<span id="cb15-75"><a href="#cb15-75"></a><span class="co">#&gt;   31:            4T     4Ib          8r           (16ee-LL</span></span>
<span id="cb15-76"><a href="#cb15-76"></a><span class="co">#&gt;   32:             .       .           .               16ff</span></span>
<span id="cb15-77"><a href="#cb15-77"></a><span class="co">#&gt;   33:             .       .      8G 8e-              16gg)</span></span>
<span id="cb15-78"><a href="#cb15-78"></a><span class="co">#&gt;   34:             .       .           .             16b&#39;JJ</span></span>
<span id="cb15-79"><a href="#cb15-79"></a><span class="co">#&gt;   35:            4P     4IV          8r            (16ccLL</span></span>
<span id="cb15-80"><a href="#cb15-80"></a><span class="co">#&gt;   36:             .       .           .               16dd</span></span>
<span id="cb15-81"><a href="#cb15-81"></a><span class="co">#&gt;   37:             .       .     8A- 8e-             16ee-)</span></span>
<span id="cb15-82"><a href="#cb15-82"></a><span class="co">#&gt;   38:             .       .           .            16a-&#39;JJ</span></span>
<span id="cb15-83"><a href="#cb15-83"></a><span class="co">#&gt;   39:           =43     =43         =43                =43</span></span>
<span id="cb15-84"><a href="#cb15-84"></a><span class="co">#&gt;   40:             *       *          *^                  *</span></span>
<span id="cb15-85"><a href="#cb15-85"></a><span class="co">#&gt;   41:            4D     4Cc          8r  2BB-       (16gLL</span></span>
<span id="cb15-86"><a href="#cb15-86"></a><span class="co">#&gt;   42:             .       .           .     .         16a-</span></span>
<span id="cb15-87"><a href="#cb15-87"></a><span class="co">#&gt;   43:             .       .         (8G     .        16b-)</span></span>
<span id="cb15-88"><a href="#cb15-88"></a><span class="co">#&gt;   44:             .       .           .     .       16e&#39;JJ</span></span>
<span id="cb15-89"><a href="#cb15-89"></a><span class="co">#&gt;   45:            4D     4V7        8A-L     .       (16fLL</span></span>
<span id="cb15-90"><a href="#cb15-90"></a><span class="co">#&gt;   46:             .       .           .     .          16g</span></span>
<span id="cb15-91"><a href="#cb15-91"></a><span class="co">#&gt;   47:             .       .        8FJ)     .        16a-)</span></span>
<span id="cb15-92"><a href="#cb15-92"></a><span class="co">#&gt;   48:             .       .           .     .       16d&#39;JJ</span></span>
<span id="cb15-93"><a href="#cb15-93"></a><span class="co">#&gt;   49:             *       *          *v    *v            *</span></span>
<span id="cb15-94"><a href="#cb15-94"></a><span class="co">#&gt;   50:           =44     =44         =44                =44</span></span>
<span id="cb15-95"><a href="#cb15-95"></a><span class="co">#&gt;   51:            2T      2I        8E-L                4e-</span></span>
<span id="cb15-96"><a href="#cb15-96"></a><span class="co">#&gt;   52:             .       .       8BB-J                  .</span></span>
<span id="cb15-97"><a href="#cb15-97"></a><span class="co">#&gt;   53:             .       .        4EE-                 4r</span></span>
<span id="cb15-98"><a href="#cb15-98"></a><span class="co">#&gt;   54:            *-      *-          *-    *-             </span></span>
<span id="cb15-99"><a href="#cb15-99"></a><span class="co">#&gt; </span></span>
<span id="cb15-100"><a href="#cb15-100"></a><span class="co">#&gt;  humdrumR corpus of twenty files.</span></span>
<span id="cb15-101"><a href="#cb15-101"></a><span class="co">#&gt;   Data fields: </span></span>
<span id="cb15-102"><a href="#cb15-102"></a><span class="co">#&gt;          *Token :: character</span></span></code></pre></div>
<p>the <code>COM</code> reference records will be parsed but saved into a field called <code>Composer</code> instead of <code>COM</code>.</p>
<p>If you don’t want to parse <em>any</em> reference records, specify <code>reference = NULL</code>.</p>
</div>
<div id="tandem-interpretations" class="section level3">
<h3>Tandem Interpretations</h3>
<p>Tandem interpretations are used in humdrum data to represent “local,” real-time metainformation associated with specific spines—review our <a href="HumdrumSyntax.html">humdrum syntax</a> vignette for more details.</p>
<p>HumdrumR can read any arbitrary tandem interpertations in humdrum data. However, if non-standard intrepretations are used, <code>humdrumR</code> has no way of knowing how to parse them.</p>
<p>By default, <code>humdrumR</code> always reads tandem interpretations into a field called <code>Tandem</code>. This field tabulates all tandem interperations that have so far appeared in a spine in order, concatenating them into a single comma-delimited, from most recent to most distant. For instance, the <code>Tandem</code> field for the spine</p>
<pre><code>**kern
*C:
*M4/4
*MM100
c e
c g
*D:
d f#
*-</code></pre>
<p>is parsed as</p>
<pre><code>&quot;&quot;
C:
M4/4,C:
MM100,M4/4,C:
MM100,M4/4,C:
MM100,M4/4,C:
D:,MM100,M4/4,C:
D:,MM100,M4/4,C:
D:,MM100,M4/4,C:</code></pre>
<p>So, the interpretations pile up into a longer and longer string as a piece progresses. Notice that the <code>&quot;D:&quot;</code> and <code>&quot;C:&quot;</code> intrerpretations get piled up separately, just like any other interpretation, even though they are of the same tandem class, and the <code>&quot;D:&quot;</code> should supercede the <code>&quot;C:&quot;</code>. Why do this? Well, <em>in general</em> there is no way to know if an arbitrary tandem interpretations are of the same class. If you create some humdrum data with new interpretations in it, <code>humdrumR</code> doesn’t know how to parse them, so will just pile them up like this in the <code>Tandem</code> field.</p>
<p>Fortunately, <code>humdrumR</code> <em>does</em> know how to parse many standard tandem interpretations. If you run the command</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>knownInterpretations[Type <span class="op">==</span><span class="st"> &#39;Tandem&#39;</span>] </span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt;                      Name                              RE Pretty   Type</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">#&gt;  1:                   Key                 [A-Ga-g][-#b]*:     _: Tandem</span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co">#&gt;  2:          KeySignature          k\\[([a-g][#-]* *)*\\]   k[_] Tandem</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co">#&gt;  3:                  Clef               clef[A-G]v*[1-5]*  clef_ Tandem</span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co">#&gt;  4:         TimeSignature M[1-9][0-9]*/((16)|(32)|[1248])   M_/_ Tandem</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="co">#&gt;  5:           Mensuration                  met\\([^)]*\\) met(_) Tandem</span></span>
<span id="cb18-8"><a href="#cb18-8"></a><span class="co">#&gt;  6:                   BPM                        MM[0-9]+    MM_ Tandem</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="co">#&gt;  7:              Timebase tb[1-9][0-9]*%?[1-9]?[0-9]*[.]*    tb_ Tandem</span></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="co">#&gt;  8:            Instrument                         I[^C,]+     I_ Tandem</span></span>
<span id="cb18-11"><a href="#cb18-11"></a><span class="co">#&gt;  9:       InstrumentClass                         IC[^,]*    IC_ Tandem</span></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="co">#&gt; 10: TransposingInstrument                        ITr[^,]*   ITr_ Tandem</span></span></code></pre></div>
<p>we see that there are currently ten classes of tandem interpretations that <code>humdrumR</code> recognizes, each associated with a regular expression. Thus, if we really apply <code>readHumdrum</code> to this file</p>
<pre><code>**kern
*C:
*M4/4
*MM100
c e
c g
*D:
d f#
*-</code></pre>
<p>it will recognize that the tokens <code>&quot;C:&quot;</code> and <code>&quot;D:&quot;</code> both match the known regular expression for the <code>Key</code> tandem interpretation, and parse them into a field called <code>Key</code>, which would look like:</p>
<pre><code>NA
C:
C:
C:
C:
C:
D:
D:
D:</code></pre>
<p>Likewise, we’d get both <code>TimeSignature</code> and <code>BPM</code> fields.</p>
<div id="custom-tandems" class="section level4">
<h4>Custom Tandems</h4>
<p><code>readHumdrum</code> has a <code>tandems</code> argument which allows us take control of the tandem interpretation parsing process. <code>tandems</code> is a character vector, defaulting to <code>known</code>, which parses all known interpretations into their own fields (following the <code>knownInterpretations</code> table). We can use <code>tandems</code> two ways. 1.) We can remove <code>&quot;known&quot;</code> from the vector and specify the <code>Name</code> of specific tandem interpretations we do want to parse. For instance, if we write <code>tandem = &quot;Clef&quot;</code>, the <code>Clef</code> pattern from the <code>knownInterpretations</code> table will be parsed, (but not any of the others). 2.) If a character string in <code>tandems</code> is not <code>&quot;known&quot;</code> or an exact match for a <code>Name</code> in <code>knownInterpretations</code>, it is instead treated as a regular expression to match a new tandem interpretation class. For instance, <code>tandems = &quot;[Aa]pple|[Bb]anana&quot;</code> would match “*Apple”, “*apple”, “*Banana”, or “*banana,” parsing these four patterns into their own field (called <code>[Aa]pple|[Bb]anana]</code>). We could give this field a name by writing <code>tandems = c(Fruit = &quot;[Aa]pple|[Bb]anana&quot;)</code>. (In fact, we can rename known interpretations as well, for instance writing <code>tandems = c(Meter = &quot;TimeSignature&quot;</code>.)</p>
<p>If <code>tandems = NULL</code>, no tandem interpretations are parsed at all—this can be used to shorten parsing time.</p>
</div>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
