% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Read.R
\name{extractTandem}
\alias{extractTandem}
\title{Get tandem interpretation information from humdrum data.}
\usage{
extractTandem(Tandem, regex)
}
\arguments{
\item{Tandem}{Should always be the \code{Tandem} field from a \link[=humdrumRclass]{humdrumR object}!}

\item{regex}{(\code{character}, \code{length == 1}). A single regular expression to match against the
tandem intrepretations. You should not include a \code{*} at the beginning---the \code{*} marker
for tandem interpretations are already removed from the \code{Tandem} field.}
}
\description{
\code{ExtractTandem} extracts tandem interpretations from the raw \code{Tandem}
spine in \link[=humdrumRclass]{humdrumR object}.
}
\details{
Every \link[=humdrumRclass]{humdrumR} object has a field called
\code{Tandem} which is a vector of strings which accumulates
tandem interpretations in each Spine.
At each record, all the previous tandems that ocured in each spine
are listed (comma separated), with the most recent appearing first.

For example, consider this file:\preformatted{**kern **kern
*C:    *C:
*Ibass *Isoprn
2G     4g
.      4f
2C     2e
*G:    *G:
2D     2f#
2G     2g
*-     *-
}

The \code{Tandem} field for these two spines would look like this:\preformatted{""
"C:"                 "C:"
"Ibass,C:"           "Isoprn,C:"
"Ibass,C:"           "Isoprn,C:"
"Ibass,C:"           "Isoprn,C:"
"Ibass,C:"           "Isoprn,C:"
"G:,Ibass,C:"        "G:,Isoprn,C:"
"G:,Ibass,C:"        "G:,Isoprn,C:"
"G:,Ibass,C:"        "G:,Isoprn,C:"
"G:,Ibass,C:"        "G:,Isoprn,C:"
}

Notice that the \code{"C:"} isn't erased by the appearance of \code{"G:"}---this is a naive parser
that doesn't "know" that \code{"C:"} and \code{"G:"} are related.
The earlier tandem (\code{"C:"}) is just pushed further back onto the stack.

Don't worry, the \link[=readHumdrum]{humdrumR data parser} does recognize many
common tandem interpretations (like \verb{*C:} and \verb{*G:}) and will automatically parse
them if they are present---in this case, they are put into the \code{Key} field automatically.
However, the \code{Tandem} field is retained in case your data contains any novel tandem intepretations
that \code{humdrumR} does not recognize.
}
\section{extractTandem}{


If your data \emph{does} contain novel/unknown tandem interpretations, you can use the
\code{extractTandem} function to pull them out of the \code{Tandem} field.
The first argument to \code{exctractTandem} must be the \code{Tandem} field from a
\link[=humdrumRclass]{humdrumR object}.
The second argument (\code{regex}) is a regular expression which is matched against
the the tandem interpretations.
For each token in \code{Tandem}, the most recent match (if any) is retained.

For example, if we wanted to manually extract the key information from the \code{Tandem} field
(which \code{humdrumR} automatically does for you), we could call \code{extractTandem(Tandem, "[A-Ga-g][#-]*:")}.
}

