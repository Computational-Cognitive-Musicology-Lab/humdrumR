% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Rhythm.R
\name{ioi}
\alias{ioi}
\alias{untie}
\title{Sum "connected" durations}
\usage{
ioi(
  x,
  onsets = !grepl("r", x) & !is.na(x) & x != ".",
  ...,
  finalOnset = FALSE,
  groupby = list(),
  parseArgs = list(),
  Exclusive = NULL,
  inPlace = TRUE
)

untie(x, open = "[", close = "]", ..., groupby = list(), inPlace = TRUE)
}
\arguments{
\item{x}{*** An \code{atomic} vector***

The \code{x} argument can be any (\link[base:vector]{atomic}) vector, or \code{NULL}.

\code{max}, \code{median}, or \code{mode} might be reasonable alternatives.}

\item{onsets}{*** A \code{logical} vector denotes the onsets***

Defaults to \code{!grepl("r", x) & !is.na(x) & x != "."}.

Must be \code{logical}; must be length \code{length(x)}.

All durations in \code{x} where \code{onsets == FALSE} are added to the previous value where \code{onsets == TRUE}.}

\item{finalOnset}{*** Whether to count the last onset***

Defaults to \code{FALSE}.

Must be \code{logical}; must be length \code{1}.

If \code{TRUE}, the last IOI is computed between the last onset and the end of the input vector.
Otherwise, this last IOI is undefined (\code{NA}).}

\item{groupby}{*** A \code{list} of vectors to group \code{x}***

Defaults to \code{list()}.

Must be a \code{list}; every element of the list must be length \code{length(x)}.}

\item{parseArgs}{*** A list of arguments that are passed to the \link[=rhythmParsing]{rhythm parser}. ***

Defaults to \code{list()}.

Must be a \code{list}.}

\item{inPlace}{*** Whether the result is placed in place or returned ***

Defaults to \code{FALSE}.

Must be a \code{logical}; must be length \code{1}.}

\item{open}{*** A \code{character} string (regular expression) to identify the beginning of ties. ***

Defaults to \code{[}.

Must be \code{character}.

May also be formula: see \link{humWindows}.}

\item{close}{*** A \code{character} string (regular expression) to identify the end of ties. ***

Defaults to \verb{]}.

Must be \code{character}.

May also be formula: see \link{humWindows}.}
}
\description{
These functions are used to sum (melodically) adjacent rhythmic duration values which are not associated with new onsets/attacks.
\code{ioi()} adds the duration of \href{https://en.wikipedia.org/wiki/Rest_(music)}{rests} to the previous
non-rest (onset) duration, to create \href{https://en.wikipedia.org/wiki/Time_point#Interonset_interval}{interonset intervals} (IOIs).
\code{untie()} sums \href{https://en.wikipedia.org/wiki/Tie_(music)}{tied} durations.
}
\details{
Both functions return "collapsed" durations are as null data tokens.
For example, \code{untie(c('[4a', '4a]', '2g'))} returns \code{c('2a', '.', '2g')}, with the second (tied) duration null (\code{"."}).

For interonset intervals, the last duration in a string of durations is undefined---there is a final onset, but no \emph{next} onset, so there
can't really be a "interonset" interval.
Thus, by default, \code{ioi()} will return \code{NA} at the location of the final duration.
However, if the \code{finalOnset} argument is set to \code{TRUE}, the function will act like there is one additional onset \emph{after} the end of the sequence:
the last "IOI" is calculated between the last onset and this fictional "final onset."
For example, if we run \code{ioi(c('4.a','8r', '4.a','8r','2a', '2r'))} the result is \code{c("2a", ".", "2a", ".", NA, ".")},
with the last onset (\verb{2a}) returning \code{NA}.
However, if we run \code{ioi(c('4.a','8r', '4.a','8r','2a', '2r'), finalOnset = TRUE)} the result is \code{c("2a", ".", "2a", ".", "1a", ".")}---the
last onset's whole duration through the end is returned!

Non-onsets (rests) that occur \emph{before} the first onset are returned as null.
}
